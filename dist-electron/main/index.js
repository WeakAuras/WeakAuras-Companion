"use strict";const le=require("electron"),Oe=require("path"),di=require("os"),y_=require("querystring"),hi=require("util"),Xt=require("fs"),gl=require("events"),Rn=require("url"),Bm=require("http"),g_=require("https"),sa=require("crypto"),Lu=require("assert"),Eo=require("stream"),v_=require("string_decoder"),__=require("constants"),vl=require("child_process"),Hm=require("zlib"),pi=require("node:path");var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const $_=/^(Command|Cmd|Control|Ctrl|CommandOrControl|CmdOrCtrl|Alt|Option|AltGr|Shift|Super)$/,w_=/^([0-9A-Z)!@#$%^&*(:+<_>?~{|}";=,\-./`[\\\]']|F1*[1-9]|F10|F2[0-4]|Plus|Space|Tab|Backspace|Delete|Insert|Return|Enter|Up|Down|Left|Right|Home|End|PageUp|PageDown|Escape|Esc|VolumeUp|VolumeDown|VolumeMute|MediaNextTrack|MediaPreviousTrack|MediaStop|MediaPlayPause|PrintScreen)$/;var E_=function(e){let t=e.split("+"),r=!1;return t.every((n,i)=>{const a=w_.test(n),o=$_.test(n);if(a){if(r)return!1;r=!0}return i===t.length-1&&!r?!1:a||o})};function rh(e){return typeof e!="string"?e:e.toLowerCase()}function S_(e,t){if(e===t)return!0;for(const r of["altKey","ctrlKey","shiftKey","metaKey"]){const[n,i]=[e[r],t[r]];if(!!n!=!!i)return!1}return rh(e.key)===rh(t.key)&&e.key!==void 0||e.code===t.code&&e.code!==void 0}var b_=S_;const T_=/^(CommandOrControl|CmdOrCtrl|Command|Cmd|Control|Ctrl|AltGr|Option|Alt|Shift|Super)/i,P_=/^(Plus|Space|Tab|Backspace|Delete|Insert|Return|Enter|Up|Down|Left|Right|Home|End|PageUp|PageDown|Escape|Esc|VolumeUp|VolumeDown|VolumeMute|MediaNextTrack|MediaPreviousTrack|MediaStop|MediaPlayPause|PrintScreen|F24|F23|F22|F21|F20|F19|F18|F17|F16|F15|F14|F13|F12|F11|F10|F9|F8|F7|F6|F5|F4|F3|F2|F1|[0-9A-Z)!@#$%^&*(:+<_>?~{|}";=,\-./`[\\\]'])/i,_l={};function O_(e,t,r){if(process.platform!=="darwin")return _l;if(t.metaKey)throw new Error("Double `Command` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}function A_(e,t,r){if(t.metaKey)throw new Error("Double `Super` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}function N_(e,t,r){if(process.platform==="darwin"){if(t.metaKey)throw new Error("Double `Command` modifier specified.");return{event:Object.assign({},t,{metaKey:!0}),accelerator:e.slice(r.length)}}if(t.ctrlKey)throw new Error("Double `Control` modifier specified.");return{event:Object.assign({},t,{ctrlKey:!0}),accelerator:e.slice(r.length)}}function C_(e,t,r){if(r==="option"&&process.platform!=="darwin")return _l;if(t.altKey)throw new Error("Double `Alt` modifier specified.");return{event:Object.assign({},t,{altKey:!0}),accelerator:e.slice(r.length)}}function I_(e,t,r){if(t.shiftKey)throw new Error("Double `Shift` modifier specified.");return{event:Object.assign({},t,{shiftKey:!0}),accelerator:e.slice(r.length)}}function R_(e,t,r){if(t.ctrlKey)throw new Error("Double `Control` modifier specified.");return{event:Object.assign({},t,{ctrlKey:!0}),accelerator:e.slice(r.length)}}function zm({accelerator:e,event:t},r){switch(r){case"command":case"cmd":return O_(e,t,r);case"super":return A_(e,t,r);case"control":case"ctrl":return R_(e,t,r);case"commandorcontrol":case"cmdorctrl":return N_(e,t,r);case"option":case"altgr":case"alt":return C_(e,t,r);case"shift":return I_(e,t,r);default:console.error(r)}}function Gm({accelerator:e,event:t}){return{event:t,accelerator:e.trim().slice(1)}}const nh={0:"Digit0",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9","-":"Minus","=":"Equal",Q:"KeyQ",W:"KeyW",E:"KeyE",R:"KeyR",T:"KeyT",Y:"KeyY",U:"KeyU",I:"KeyI",O:"KeyO",P:"KeyP","[":"BracketLeft","]":"BracketRight",A:"KeyA",S:"KeyS",D:"KeyD",F:"KeyF",G:"KeyG",H:"KeyH",J:"KeyJ",K:"KeyK",L:"KeyL",";":"Semicolon","'":"Quote","`":"Backquote","/":"Backslash",Z:"KeyZ",X:"KeyX",C:"KeyC",V:"KeyV",B:"KeyB",N:"KeyN",M:"KeyM",",":"Comma",".":"Period","\\":"Slash"," ":"Space"};function Km({accelerator:e,event:t},r){if(r.length>1||t.key)throw new Error(`Unvalid keycode \`${r}\`.`);const n=r.toUpperCase()in nh?nh[r.toUpperCase()]:null;return{event:Object.assign({},t,{key:r},n?{code:n}:null),accelerator:e.trim().slice(r.length)}}const tu=Object.assign(Object.create(null),{plus:"Add",space:"Space",tab:"Tab",backspace:"Backspace",delete:"Delete",insert:"Insert",return:"Return",enter:"Return",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",pageup:"PageUp",pagedown:"PageDown",escape:"Escape",esc:"Escape",volumeup:"AudioVolumeUp",volumedown:"AudioVolumeDown",volumemute:"AudioVolumeMute",medianexttrack:"MediaTrackNext",mediaprevioustrack:"MediaTrackPrevious",mediastop:"MediaStop",mediaplaypause:"MediaPlayPause",printscreen:"PrintScreen"});for(let e=1;e<=24;e++)tu[`f${e}`]=`F${e}`;function Ym({accelerator:e,event:t},{code:r,key:n}){if(t.code)throw new Error(`Duplicated keycode \`${n}\`.`);return{event:Object.assign({},t,{key:n},r?{code:r}:null),accelerator:e.trim().slice(n&&n.length||0)}}function D_(e){let t={accelerator:e,event:{}};for(;t.accelerator!=="";){const r=t.accelerator.match(T_);if(r){const n=r[0].toLowerCase();if(t=zm(t,n),t===_l)return{unsupportedKeyForPlatform:!0}}else if(t.accelerator.trim()[0]==="+")t=Gm(t);else{const n=t.accelerator.match(P_);if(n){const i=n[0].toLowerCase();i in tu?t=Ym(t,{code:tu[i],key:i}):t=Km(t,i)}else throw new Error(`Unvalid accelerator: "${t.accelerator}"`)}}return t.event}var F_={UNSUPPORTED:_l,reduceModifier:zm,reducePlus:Gm,reduceKey:Km,reduceCode:Ym,toKeyEvent:D_},ao={},k_={get exports(){return ao},set exports(e){ao=e}},fc,ih;function L_(){if(ih)return fc;ih=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,a=n*365.25;fc=function(u,c){c=c||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return c.long?l(u):s(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(c){var h=parseFloat(c[1]),p=(c[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*a;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function s(u){var c=Math.abs(u);return c>=n?Math.round(u/n)+"d":c>=r?Math.round(u/r)+"h":c>=t?Math.round(u/t)+"m":c>=e?Math.round(u/e)+"s":u+"ms"}function l(u){var c=Math.abs(u);return c>=n?f(u,c,n,"day"):c>=r?f(u,c,r,"hour"):c>=t?f(u,c,t,"minute"):c>=e?f(u,c,e,"second"):u+" ms"}function f(u,c,h,p){var _=c>=h*1.5;return Math.round(u/h)+" "+p+(_?"s":"")}return fc}function j_(e){r.debug=r,r.default=r,r.coerce=l,r.disable=a,r.enable=i,r.enabled=o,r.humanize=L_(),r.destroy=f,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let c=0;for(let h=0;h<u.length;h++)c=(c<<5)-c+u.charCodeAt(h),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(u){let c,h=null,p,_;function w(...g){if(!w.enabled)return;const m=w,y=Number(new Date),S=y-(c||y);m.diff=S,m.prev=c,m.curr=y,c=y,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let O=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(P,E)=>{if(P==="%%")return"%";O++;const C=r.formatters[E];if(typeof C=="function"){const b=g[O];P=C.call(m,b),g.splice(O,1),O--}return P}),r.formatArgs.call(m,g),(m.log||r.log).apply(m,g)}return w.namespace=u,w.useColors=r.useColors(),w.color=r.selectColor(u),w.extend=n,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,_=r.enabled(u)),_),set:g=>{h=g}}),typeof r.init=="function"&&r.init(w),w}function n(u,c){const h=r(this.namespace+(typeof c>"u"?":":c)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let c;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(c=0;c<p;c++)h[c]&&(u=h[c].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function a(){const u=[...r.names.map(s),...r.skips.map(s).map(c=>"-"+c)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let c,h;for(c=0,h=r.skips.length;c<h;c++)if(r.skips[c].test(u))return!1;for(c=0,h=r.names.length;c<h;c++)if(r.names[c].test(u))return!0;return!1}function s(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var U_=j_;(function(e,t){t.formatArgs=n,t.save=i,t.load=a,t.useColors=r,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;l.splice(1,0,f,"color: inherit");let u=0,c=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(c=u))}),l.splice(c,0,f)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=U_(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(k_,ao);const{app:ah,BrowserWindow:oh}=le,M_=E_,Wm=b_,{toKeyEvent:ju}=F_,x_=ao,St=x_("electron-localshortcut"),ru={},Pr=new WeakMap,So=e=>{if(e)try{return e.getTitle()}catch{return"A destroyed window"}return"An falsy value"};function Uu(e){if(!M_(e)){const t={};Error.captureStackTrace(t);const r=t.stack?t.stack.split(`
`).slice(4).join(`
`):t.message,n=`
WARNING: ${e} is not a valid accelerator.

${r}
`;console.error(n)}}function q_(e){St(`Disabling all shortcuts on window ${So(e)}`);const t=e.webContents,r=Pr.get(t);for(const n of r)n.enabled=!1}function V_(e){St(`Enabling all shortcuts on window ${So(e)}`);const t=e.webContents,r=Pr.get(t);for(const n of r)n.enabled=!0}function B_(e){St(`Unregistering all shortcuts on window ${So(e)}`);const t=e.webContents,r=Pr.get(t);r&&r.removeListener&&(r.removeListener(),Pr.delete(t))}function H_(e){const t={code:e.code,key:e.key};return["alt","shift","meta"].forEach(r=>{typeof e[r]<"u"&&(t[`${r}Key`]=e[r])}),typeof e.control<"u"&&(t.ctrlKey=e.control),t}function Jm(e,t){let r=0;for(const n of t){if(Wm(n.eventStamp,e))return r;r++}return-1}const sh=e=>(t,r)=>{if(r.type==="keyUp")return;const n=H_(r);St(`before-input-event: ${r} is translated to: ${n}`);for(const{eventStamp:i,callback:a}of e){if(Wm(i,n)){St(`eventStamp: ${i} match`),a();return}St(`eventStamp: ${i} no match`)}};function Xm(e,t,r){let n;if(typeof r>"u"?(n=ru,r=t,t=e):n=e.webContents,Array.isArray(t)===!0){t.forEach(o=>{typeof o=="string"&&Xm(e,o,r)});return}St(`Registering callback for ${t} on window ${So(e)}`),Uu(t),St(`${t} seems a valid shortcut sequence.`);let i;if(Pr.has(n))St("Window has others shortcuts registered."),i=Pr.get(n);else if(St("This is the first shortcut of the window."),i=[],Pr.set(n,i),n===ru){const o=sh(i),s=(f,u)=>{const c=u.webContents;c.on("before-input-event",o),c.once("closed",()=>c.removeListener("before-input-event",o))};oh.getAllWindows().forEach(f=>s(null,f)),ah.on("browser-window-created",s),i.removeListener=()=>{oh.getAllWindows().forEach(u=>u.webContents.removeListener("before-input-event",o)),ah.removeListener("browser-window-created",s)}}else{const o=sh(i);n.on("before-input-event",o),i.removeListener=()=>n.removeListener("before-input-event",o),n.once("closed",i.removeListener)}St("Adding shortcut to window set.");const a=ju(t);i.push({eventStamp:a,callback:r,enabled:!0}),St("Shortcut registered.")}function Qm(e,t){let r;if(typeof t>"u")r=ru,t=e;else{if(e.isDestroyed()){St("Early return because window is destroyed.");return}r=e.webContents}if(Array.isArray(t)===!0){t.forEach(o=>{typeof o=="string"&&Qm(e,o)});return}if(St(`Unregistering callback for ${t} on window ${So(e)}`),Uu(t),St(`${t} seems a valid shortcut sequence.`),!Pr.has(r)){St("Early return because window has never had shortcuts registered.");return}const n=Pr.get(r),i=ju(t),a=Jm(i,n);a!==-1&&(n.splice(a,1),n.length===0&&(n.removeListener(),Pr.delete(r)))}function z_(e,t){Uu(t);const r=e.webContents,n=Pr.get(r),i=ju(t);return Jm(i,n)!==-1}var G_={register:Xm,unregister:Qm,isRegistered:z_,unregisterAll:B_,enableAll:V_,disableAll:q_},nu={},K_={get exports(){return nu},set exports(e){nu=e}},Y_=Oe,bt;try{bt=require("electron")}catch{bt=null}var iu=di,$l={getName:Zm,getPath:W_,getVersion:ey,getVersions:J_,isDev:Z_,isElectron:e$,isIpcChannelListened:t$,loadRemoteModule:r$,onIpc:n$,openUrl:l$,sendIpc:i$,showErrorBox:s$};function bo(){return Mu("app")}function Zm(){var e=bo();return e?"name"in e?e.name:e.getName():null}function Mu(e){return bt?bt[e]?bt[e]:bt.remote?bt.remote[e]:null:null}function xu(){return process.type==="browser"&&bt&&bt.ipcMain?bt.ipcMain:process.type==="renderer"&&bt&&bt.ipcRenderer?bt.ipcRenderer:null}function W_(e){var t=bo();if(!t)return null;try{return t.getPath(e)}catch{return null}}function ey(){var e=bo();return e?"version"in e?e.version:e.getVersion():null}function J_(){return{app:Zm()+" "+ey(),electron:"Electron "+process.versions.electron,os:X_()}}function X_(){var e=iu.type().replace("_"," "),t=iu.release();return e==="Darwin"&&(e="macOS",t=Q_()),e+" "+t}function Q_(){var e=Number(iu.release().split(".")[0]);return"10."+(e-4)}function Z_(){var e=bo();if(e&&e.isPackaged!==void 0)return!e.isPackaged;if(typeof process.execPath=="string"){var t=Y_.basename(process.execPath).toLowerCase();return t.startsWith("electron")}return process.env.NODE_ENV==="development"||process.env.ELECTRON_IS_DEV==="1"}function e$(){return process.type==="browser"||process.type==="renderer"}function t$(e){var t=xu();return t?t.listenerCount(e)>0:!1}function r$(e){process.type==="browser"?bo().on("web-contents-created",function(t,r){var n=r.executeJavaScript('try {require("'+e+'")} catch(e){}; void 0;');n&&typeof n.catch=="function"&&n.catch(function(){})}):process.type}function n$(e,t){var r=xu();r&&r.on(e,t)}function i$(e,t){process.type==="browser"?o$(e,t):process.type==="renderer"&&a$(e,t)}function a$(e,t){var r=xu();r&&r.send(e,t)}function o$(e,t){!bt||!bt.BrowserWindow||bt.BrowserWindow.getAllWindows().forEach(function(r){r.webContents&&!r.webContents.isDestroyed()&&r.webContents.send(e,t)})}function s$(e,t){var r=Mu("dialog");r&&r.showErrorBox(e,t)}function l$(e,t){t=t||console.error;var r=Mu("shell");r&&r.openExternal(e).catch(t)}var dc=$l,c$=y_,hc=!1,u$=function(t){if(hc)return{stop:o};return hc=!0,process.type==="renderer"?(window.addEventListener("error",i),window.addEventListener("unhandledrejection",a)):(process.on("uncaughtException",r),process.on("unhandledRejection",n)),{stop:o};function r(l){try{if(typeof t.onError=="function"){var f=dc.getVersions();if(t.onError(l,f,s)===!1)return}if(t.log("Unhandled Exception",l),t.showDialog&&l.name.indexOf("UnhandledRejection")<0){var u=process.type||"main";dc.showErrorBox("A JavaScript error occurred in the "+u+" process",l.stack)}}catch{console.error(l)}}function n(l){if(l instanceof Error){try{Object.defineProperty(l,"name",{value:"UnhandledRejection "+l.name})}catch{}r(l);return}var f=new Error(JSON.stringify(l));f.name="UnhandledRejection",r(f)}function i(l){l.preventDefault(),r(l.error)}function a(l){l.preventDefault(),n(l.reason)}function o(){hc=!1,process.type==="renderer"?(window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",a)):(process.removeListener("uncaughtException",r),process.removeListener("unhandledRejection",n))}function s(l,f){var u=l+"?"+c$.stringify(f);dc.openUrl(u,t.log)}},qu={compareLevels:ny,log:f$,runTransport:ry,runTransports:ty};function f$(e,t){var r=e.transports,n={data:Array.prototype.slice.call(arguments,2),date:new Date,level:t.level,scope:t.scope?t.scope.toJSON():null,variables:e.variables};ty(r,n,e)}function ty(e,t,r){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&ry(e[n],t,r)}function ry(e,t,r){typeof e!="function"||e.level===!1||ny(r.levels,e.level,t.level)&&(t=d$(r.hooks,e,t),t&&e(t))}function ny(e,t,r){var n=e.indexOf(t),i=e.indexOf(r);return i===-1||n===-1?!0:i<=n}function d$(e,t,r){if(!e||!e.length)return r;for(var n=0;n<e.length&&(r=e[n](r,t),!!r);n++);return r}var h$=qu.log,p$=m$;function m$(e){return t.labelPadding=!0,t.defaultLabel="",t.maxLabelLength=0,t.getOptions=r,t;function t(i){var a={label:i,toJSON:function(){return{label:this.label}}};return e.levels.forEach(function(o){a[o]=h$.bind(null,e,{level:o,scope:a})}),a.log=a.info,t.maxLabelLength=Math.max(t.maxLabelLength,i.length),a}function r(){return{defaultLabel:t.defaultLabel,labelLength:n()}}function n(){return t.labelPadding===!0?t.maxLabelLength:t.labelPadding===!1?0:typeof t.labelPadding=="number"?t.labelPadding:0}}var oo={},y$={get exports(){return oo},set exports(e){oo=e}},ba=hi,g$={maxDepthFactory:_$,serialize:ay,toJSON:$$,toStringFactory:w$};function iy(e){var t=v$();return function(r,n){if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return ay(r,n,e)}}function v$(){if(typeof WeakSet<"u")return new WeakSet;var e=[];return{add:function(t){e.push(t)},has:function(t){return e.indexOf(t)!==-1}}}function au(e,t){if(!e)return e;if(t<1)return lh(e)?"[array]":typeof e=="object"&&e?"[object]":e;if(lh(e))return e.map(function(i){return au(i,t-1)});if(typeof e!="object"||e&&typeof e.toISOString=="function")return e;if(e===null)return null;if(e instanceof Error)return e;var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=au(e[n],t-1));return r}function _$(e){return e=e||6,function(r){return au(r,e)}}function ay(e,t,r){var n=!r||r.serializeMapAndSet!==!1;return t instanceof Error?t.stack:t&&(typeof t.toJSON=="function"?t.toJSON():typeof t=="function"?"[function] "+t.toString():n&&t instanceof Map&&Object.fromEntries?Object.fromEntries(t):n&&t instanceof Set&&Array.from?Array.from(t):t)}function $$(e){return JSON.parse(JSON.stringify(e,iy()))}function w$(e){return function(r){var n=r.map(function(i){if(i!==void 0)try{var a=JSON.stringify(i,iy(),"  ");return a===void 0?void 0:JSON.parse(a)}catch{return i}});return ba.formatWithOptions?(n.unshift(e||{}),ba.formatWithOptions.apply(ba,n)):ba.format.apply(ba,n)}}function lh(e){return Object.prototype.toString.call(e)==="[object Array]"}var E$={applyAnsiStyles:S$,removeStyles:P$,transformStyles:Vu},oy={unset:"\x1B[0m",black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"};function S$(e){return Vu(e,b$,T$)}function b$(e){var t=e.replace(/color:\s*(\w+).*/,"$1").toLowerCase();return oy[t]||""}function T$(e){return e+oy.unset}function P$(e){return Vu(e,function(){return""})}function Vu(e,t,r){var n={};return e.reduce(function(i,a,o,s){if(n[o])return i;if(typeof a=="string"){var l=o,f=!1;a=a.replace(/%[1cdfiOos]/g,function(u){if(l+=1,u!=="%c")return u;var c=s[l];return typeof c=="string"?(n[l]=!0,f=!0,t(c,a)):u}),f&&r&&(a=r(a))}return i.push(a),i},[])}var O$={concatFirstStringElements:A$,formatDate:sy,formatTimeZone:ly,pad:Qr,padString:Fs,templateDate:N$,templateVariables:I$,templateScopeFactory:C$,templateText:R$};function A$(e){return typeof e[0]!="string"||typeof e[1]!="string"||e[0].match(/%[1cdfiOos]/)||(e[1]=e[0]+" "+e[1],e.shift()),e}function sy(e,t){return e.replace("{y}",String(t.getFullYear())).replace("{m}",Qr(t.getMonth()+1)).replace("{d}",Qr(t.getDate())).replace("{h}",Qr(t.getHours())).replace("{i}",Qr(t.getMinutes())).replace("{s}",Qr(t.getSeconds())).replace("{ms}",Qr(t.getMilliseconds(),3)).replace("{z}",ly(t.getTimezoneOffset())).replace("{iso}",t.toISOString())}function ly(e){var t=Math.abs(e);return(e>=0?"-":"+")+Qr(Math.floor(t/60))+":"+Qr(t%60)}function Qr(e,t){return t=t||2,(new Array(t+1).join("0")+e).substr(-t,t)}function Fs(e,t){t=Math.max(t,e.length);var r=Array(t+1).join(" ");return(e+r).substring(0,t)}function N$(e,t){var r=e[0];return typeof r!="string"||(e[0]=sy(r,t.date)),e}function C$(e){e=e||{};var t=e.labelLength||0;return function(n,i){var a=n[0],o=i.scope&&i.scope.label;o||(o=e.defaultLabel);var s;return o===""?s=t>0?Fs("",t+3):"":typeof o=="string"?s=Fs(" ("+o+")",t+3):s="",n[0]=a.replace("{scope}",s),n}}function I$(e,t){var r=e[0],n=t.variables;if(typeof r!="string"||!t.variables)return e;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r=r.replace("{"+i+"}",n[i]));return r=r.replace("{level}]",Fs(t.level+"]",6)),r=r.replace("{level}",t.level),e[0]=r,e}function R$(e){var t=e[0];if(typeof t!="string")return e;var r=t.lastIndexOf("{text}");if(r===t.length-6)return e[0]=t.replace(/\s?{text}/,""),e[0]===""&&e.shift(),e;var n=t.split("{text}"),i=[];return n[0]!==""&&i.push(n[0]),i=i.concat(e.slice(1)),n[1]!==""&&i.push(n[1]),i}var pc=g$,ch=E$,Di=O$,wl={applyAnsiStyles:ch.applyAnsiStyles,concatFirstStringElements:Di.concatFirstStringElements,customFormatterFactory:D$,maxDepthFactory:pc.maxDepthFactory,removeStyles:ch.removeStyles,toJSON:pc.toJSON,toStringFactory:pc.toStringFactory,transform:cy};function D$(e,t,r){return typeof e=="string"?function(i,a){return cy(a,[Di.templateVariables,Di.templateScopeFactory(r),Di.templateDate,Di.templateText,t&&Di.concatFirstStringElements],[e].concat(i))}:typeof e=="function"?function(i,a){var o=Object.assign({},a,{data:i}),s=e(o,i);return[].concat(s)}:function(n){return[].concat(n)}}function cy(e,t,r){return t.reduce(function(n,i){return typeof i=="function"?i(n,e):n},r||e.data)}var Wr=wl,mc={context:console,error:console.error,warn:console.warn,info:console.info,verbose:console.verbose,debug:console.debug,silly:console.silly,log:console.log};y$.exports=k$;oo.transformRenderer=uy;oo.transformMain=fy;var F$=process.platform==="win32"?">":"›",ou={browser:"%c{h}:{i}:{s}.{ms}{scope}%c "+F$+" {text}",renderer:"{h}:{i}:{s}.{ms}{scope} › {text}",worker:"{h}:{i}:{s}.{ms}{scope} › {text}"};function k$(e){return t.level="silly",t.useStyles=process.env.FORCE_STYLES,t.format=ou[process.type]||ou.browser,t;function t(r){var n=e.scope.getOptions(),i;process.type==="renderer"||process.type==="worker"?i=uy(r,t,n):i=fy(r,t,n),U$(r.level,i)}}function uy(e,t,r){return Wr.transform(e,[Wr.customFormatterFactory(t.format,!0,r)])}function fy(e,t,r){var n=j$(t.useStyles,e.level);return Wr.transform(e,[L$(t.format),Wr.customFormatterFactory(t.format,!1,r),n?Wr.applyAnsiStyles:Wr.removeStyles,Wr.concatFirstStringElements,Wr.maxDepthFactory(4),Wr.toJSON])}function L$(e){return function(r,n){return e!==ou.browser?r:["color:"+M$(n.level),"color:unset"].concat(r)}}function j$(e,t){if(e===!0||e===!1)return e;var r=t==="error"||t==="warn",n=r?process.stderr:process.stdout;return n&&n.isTTY}function U$(e,t){var r=mc[e]||mc.info;if(process.type==="renderer"){setTimeout(r.bind.apply(r,[r.context].concat(t)));return}r.apply(mc.context,t)}function M$(e){switch(e){case"error":return"red";case"warn":return"yellow";case"info":return"cyan";default:return"unset"}}var El=gl,dr=Xt,dy=di,Bu=Oe,x$=Rn,Hu=hi,q$={File:Qt,FileRegistry:la,NullFile:Dn};function Qt(e,t,r){El.call(this),this.path=e,this.initialSize=void 0,this.bytesWritten=0,this.writeAsync=!!r,this.asyncWriteQueue=[],this.hasActiveAsyncWritting=!1,this.writeOptions=t||{flag:"a",mode:438,encoding:"utf8"},Object.defineProperty(this,"size",{get:this.getSize.bind(this)})}Hu.inherits(Qt,El);Qt.prototype.clear=function(){try{return dr.writeFileSync(this.path,"",{mode:this.writeOptions.mode,flag:"w"}),this.reset(),!0}catch(e){return e.code==="ENOENT"?!0:(this.emit("error",e,this),!1)}};Qt.prototype.crop=function(e){try{var t=V$(this.path,e||4096);this.clear(),this.writeLine("[log cropped]"+dy.EOL+t)}catch(r){this.emit("error",new Error("Couldn't crop file "+this.path+". "+r.message),this)}};Qt.prototype.toString=function(){return this.path};Qt.prototype.reset=function(){this.initialSize=void 0,this.bytesWritten=0};Qt.prototype.writeLine=function(e){if(e+=dy.EOL,this.writeAsync){this.asyncWriteQueue.push(e),this.nextAsyncWrite();return}try{dr.writeFileSync(this.path,e,this.writeOptions),this.increaseBytesWrittenCounter(e)}catch(t){this.emit("error",new Error("Couldn't write to "+this.path+". "+t.message),this)}};Qt.prototype.getSize=function(){if(this.initialSize===void 0)try{var e=dr.statSync(this.path);this.initialSize=e.size}catch{this.initialSize=0}return this.initialSize+this.bytesWritten};Qt.prototype.isNull=function(){return!1};Qt.prototype.increaseBytesWrittenCounter=function(e){this.bytesWritten+=Buffer.byteLength(e,this.writeOptions.encoding)};Qt.prototype.nextAsyncWrite=function(){var e=this;if(!(this.hasActiveAsyncWritting||this.asyncWriteQueue.length<1)){var t=this.asyncWriteQueue.shift();this.hasActiveAsyncWritting=!0,dr.writeFile(this.path,t,this.writeOptions,function(r){e.hasActiveAsyncWritting=!1,r?e.emit("error",new Error("Couldn't write to "+e.path+". "+r.message),this):e.increaseBytesWrittenCounter(t),e.nextAsyncWrite()})}};function Dn(e){Qt.call(this,e)}Hu.inherits(Dn,Qt);Dn.prototype.clear=function(){};Dn.prototype.crop=function(){};Dn.prototype.writeLine=function(){};Dn.prototype.getSize=function(){return 0};Dn.prototype.isNull=function(){return!0};function la(){El.call(this),this.store={},this.emitError=this.emitError.bind(this)}Hu.inherits(la,El);la.prototype.provide=function(e,t,r){var n;try{if(e=Bu.resolve(e),this.store[e])return this.store[e];n=this.createFile(e,t,!!r)}catch(i){n=new Dn(e),this.emitError(i,n)}return n.on("error",this.emitError),this.store[e]=n,n};la.prototype.createFile=function(e,t,r){return this.testFileWriting(e),new Qt(e,t,r)};la.prototype.emitError=function(e,t){this.emit("error",e,t)};la.prototype.testFileWriting=function(e){su(Bu.dirname(e)),dr.writeFileSync(e,"",{flag:"a"})};function su(e){var t=!!x$.fileURLToPath;if(t)return dr.mkdirSync(e,{recursive:!0}),!0;try{return dr.mkdirSync(e),!0}catch(r){if(r.code==="ENOENT")return su(Bu.dirname(e))&&su(e);try{if(dr.statSync(e).isDirectory())return!0;throw r}catch(n){throw n}}}function V$(e,t){var r=Buffer.alloc(t),n=dr.statSync(e),i=Math.min(n.size,t),a=Math.max(0,n.size-t),o=dr.openSync(e,"r"),s=dr.readSync(o,r,0,i,a);return dr.closeSync(o),r.toString("utf8",0,s)}var hy=Xt,Ui=Oe,B$={readPackageJson:H$,tryReadJsonAt:Fi};function H$(){return Fi(require.main&&require.main.filename)||Fi(G$())||Fi(process.resourcesPath,"app.asar")||Fi(process.resourcesPath,"app")||Fi(process.cwd())||{name:null,version:null}}function Fi(e){if(!e)return null;try{e=Ui.join.apply(Ui,arguments);var t=z$("package.json",e);if(!t)return null;var r=JSON.parse(hy.readFileSync(t,"utf8")),n=r.productName||r.name;if(!n||n.toLowerCase()==="electron")return null;if(r.productName||r.name)return{name:n,version:r.version}}catch{return null}}function z$(e,t){for(var r=t;;){var n=Ui.parse(r),i=n.root,a=n.dir;if(hy.existsSync(Ui.join(r,e)))return Ui.resolve(Ui.join(r,e));if(r===i)return null;r=a}}function G$(){var e=process.argv.filter(function(r){return r.indexOf("--user-data-dir=")===0});if(e.length===0||typeof e[0]!="string")return null;var t=e[0];return t.replace("--user-data-dir=","")}var lu=di,en=Oe,ii=$l,K$=B$,Y$={getAppData:so,getLibraryDefaultDir:py,getLibraryTemplate:my,getNameAndVersion:yy,getPathVariables:W$,getUserData:zu};function so(e){var t=ii.getPath("appData");if(t)return t;var r=Sl();switch(e){case"darwin":return en.join(r,"Library/Application Support");case"win32":return process.env.APPDATA||en.join(r,"AppData/Roaming");default:return process.env.XDG_CONFIG_HOME||en.join(r,".config")}}function Sl(){return lu.homedir?lu.homedir():process.env.HOME}function py(e,t){return e==="darwin"?en.join(Sl(),"Library/Logs",t):en.join(zu(e,t),"logs")}function my(e){return e==="darwin"?en.join(Sl(),"Library/Logs","{appName}"):en.join(so(e),"{appName}","logs")}function yy(){var e=ii.getName()||"",t=ii.getVersion();if(e.toLowerCase()==="electron"&&(e="",t=""),e&&t)return{name:e,version:t};var r=K$.readPackageJson();return e||(e=r.name),t||(t=r.version),e||(e="Electron"),{name:e,version:t}}function W$(e){var t=yy(),r=t.name,n=t.version;return{appData:so(e),appName:r,appVersion:n,electronDefaultDir:ii.getPath("logs"),home:Sl(),libraryDefaultDir:py(e,r),libraryTemplate:my(e),temp:ii.getPath("temp")||lu.tmpdir(),userData:zu(e,r)}}function zu(e,t){return ii.getName()!==t?en.join(so(e),t):ii.getPath("userData")||en.join(so(e),t)}var yc=Xt,Ta=Oe,J$=di,Un=hi,Pa=wl,X$=q$.FileRegistry,Q$=Y$,Z$=tw,ew=new X$;function tw(e,t){var r=Q$.getPathVariables(process.platform),n=t||ew;return n.listenerCount("error")<1&&n.on("error",function(c,h){o("Can't write to "+h,c)}),i.archiveLog=a,i.depth=5,i.fileName=rw(),i.format="[{y}-{m}-{d} {h}:{i}:{s}.{ms}] [{level}]{scope} {text}",i.getFile=s,i.level="silly",i.maxSize=1024*1024,i.readAllLogs=f,i.resolvePath=l,i.sync=!0,i.writeOptions={flag:"a",mode:438,encoding:"utf8"},i.inspectOptions={},u(),i;function i(c){var h=s(c),p=i.maxSize>0&&h.size>i.maxSize;p&&(i.archiveLog(h),h.reset());var _=e.scope.getOptions(),w=Object.assign({depth:i.depth},i.inspectOptions),g=Pa.transform(c,[Pa.removeStyles,Pa.customFormatterFactory(i.format,!1,_),Pa.concatFirstStringElements,Pa.toStringFactory(w)]);h.writeLine(g)}function a(c){var h=c.toString(),p=Ta.parse(h);try{yc.renameSync(h,Ta.join(p.dir,p.name+".old"+p.ext))}catch(w){o("Could not rotate log",w);var _=Math.round(i.maxSize/4);c.crop(Math.min(_,256*1024))}}function o(c,h){var p=["electron-log.transports.file: "+c];h&&p.push(h),e.transports.console({data:p,date:new Date,level:"warn"})}function s(c){var h=Object.assign({},r,{fileName:i.fileName}),p=i.resolvePath(h,c);return n.provide(p,i.writeOptions,!i.sync)}function l(c){return Ta.join(c.libraryDefaultDir,c.fileName)}function f(c){var h=c&&typeof c.fileFilter=="function"?c.fileFilter:function(w){return w.endsWith(".log")},p=Object.assign({},r,{fileName:i.fileName}),_=Ta.dirname(i.resolvePath(p));return yc.readdirSync(_).map(function(w){return Ta.join(_,w)}).filter(h).map(function(w){try{return{path:w,lines:yc.readFileSync(w,"utf8").split(J$.EOL)}}catch{return null}}).filter(Boolean)}function u(){var c=" is deprecated and will be removed in v5.",h=" property"+c;Object.defineProperties(i,{bytesWritten:{get:Un.deprecate(p,"bytesWritten"+h)},file:{get:Un.deprecate(_,"file"+h),set:Un.deprecate(w,"file"+h)},fileSize:{get:Un.deprecate(g,"file"+h)}}),i.clear=Un.deprecate(m,"clear()"+c),i.findLogPath=Un.deprecate(_,"findLogPath()"+c),i.init=Un.deprecate(y,"init()"+c);function p(){return s().bytesWritten}function _(){return s().path}function w(S){i.resolvePath=function(){return S}}function g(){return s().size}function m(){s().clear()}function y(){}}}function rw(){switch(process.type){case"renderer":return"renderer.log";case"worker":return"worker.log";default:return"main.log"}}var gc=wl,Oa=$l,nw=qu,iw=aw;function aw(e){if(t.eventId="__ELECTRON_LOG_IPC_"+e.logId+"__",t.level=e.isDev?"silly":!1,Oa.isIpcChannelListened(t.eventId))return function(){};return Oa.onIpc(t.eventId,function(r,n){n.date=new Date(n.date),nw.runTransport(e.transports.console,n,e)}),Oa.loadRemoteModule("electron-log"),Oa.isElectron()?t:null;function t(r){var n=Object.assign({},r,{data:gc.transform(r,[gc.toJSON,gc.maxDepthFactory(3)])});Oa.sendIpc(t.eventId,n)}}var ow=Bm,sw=g_,lw=Rn,Qo=wl,cw=uw;function uw(e){return t.client={name:"electron-application"},t.depth=6,t.level=!1,t.requestOptions={},t.url=null,t.onError=null,t.transformBody=function(r){return JSON.stringify(r)},t;function t(r){if(!t.url)return;var n=t.transformBody({client:t.client,data:Qo.transform(r,[Qo.removeStyles,Qo.toJSON,Qo.maxDepthFactory(t.depth+1)]),date:r.date.getTime(),level:r.level,variables:r.variables}),i=fw(t.url,t.requestOptions,Buffer.from(n,"utf8"));i.on("error",t.onError||a);function a(o){e.logMessageWithTransports({data:["electron-log.transports.remote: cannot send HTTP request to "+t.url,o],level:"warn"},[e.transports.console,e.transports.ipc,e.transports.file])}}}function fw(e,t,r){var n=lw.parse(e),i=n.protocol==="https:"?sw:ow,a={hostname:n.hostname,port:n.port,path:n.path,method:"POST",headers:{}};Object.assign(a,t),a.headers["Content-Length"]=r.length,a.headers["Content-Type"]||(a.headers["Content-Type"]="application/json");var o=i.request(a);return o.write(r),o.end(),o}(function(e){var t=u$,r=$l,n=qu,i=p$,a=oo,o=Z$,s=iw,l=cw;e.exports=f("default"),e.exports.default=e.exports;function f(u){var c={catchErrors:function(p){var _=Object.assign({},{log:c.error,showDialog:process.type==="browser"},p||{});t(_)},create:f,functions:{},hooks:[],isDev:r.isDev(),levels:[],logId:u,variables:{processType:process.type}};return c.scope=i(c),c.transports={console:a(c),file:o(c),remote:l(c),ipc:s(c)},Object.defineProperty(c.levels,"add",{enumerable:!1,value:function(p,_){_=_===void 0?c.levels.length:_,c.levels.splice(_,0,p),c[p]=n.log.bind(null,c,{level:p}),c.functions[p]=c[p]}}),["error","warn","info","verbose","debug","silly"].forEach(function(h){c.levels.add(h)}),c.log=n.log.bind(null,c,{level:"info"}),c.functions.log=c.log,c.logMessageWithTransports=function(p,_){return p.date===void 0&&(p.date=new Date),p.variables===void 0&&(p.variables=c.variables),n.runTransports(_,p,c)},c}})(K_);const gy=nu;var ks={},dw={get exports(){return ks},set exports(e){ks=e}},hw=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Mn=hw,pw=new Set(["__proto__","prototype","constructor"]),mw=e=>!e.some(t=>pw.has(t));function Zo(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return mw(r)?r:[]}var yw={get(e,t,r){if(!Mn(e)||typeof t!="string")return r===void 0?e:r;const n=Zo(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Mn(e)||typeof t!="string")return e;const n=e,i=Zo(t);for(let a=0;a<i.length;a++){const o=i[a];Mn(e[o])||(e[o]={}),a===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Mn(e)||typeof t!="string")return!1;const r=Zo(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Mn(e))return!1}},has(e,t){if(!Mn(e)||typeof t!="string")return!1;const r=Zo(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Mn(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Ls={},gw={get exports(){return Ls},set exports(e){Ls=e}},js={},vw={get exports(){return js},set exports(e){js=e}},Us={},_w={get exports(){return Us},set exports(e){Us=e}},Ms={},$w={get exports(){return Ms},set exports(e){Ms=e}};const vy=Xt;$w.exports=e=>new Promise(t=>{vy.access(e,r=>{t(!r)})});Ms.sync=e=>{try{return vy.accessSync(e),!0}catch{return!1}};var xs={},ww={get exports(){return xs},set exports(e){xs=e}},qs={},Ew={get exports(){return qs},set exports(e){qs=e}};const _y=(e,...t)=>new Promise(r=>{r(e(...t))});Ew.exports=_y;qs.default=_y;const Sw=qs,$y=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(s,l,...f)=>{r++;const u=Sw(s,...f);l(u),u.then(n,n)},a=(s,l,...f)=>{r<e?i(s,l,...f):t.push(i.bind(null,s,l,...f))},o=(s,...l)=>new Promise(f=>a(s,f,...l));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};ww.exports=$y;xs.default=$y;const uh=xs;class wy extends Error{constructor(t){super(),this.value=t}}const bw=(e,t)=>Promise.resolve(e).then(t),Tw=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new wy(t[0])));var Pw=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=uh(r.concurrency),i=[...e].map(o=>[o,n(bw,o,t)]),a=uh(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>a(Tw,o))).then(()=>{}).catch(o=>o instanceof wy?o.value:Promise.reject(o))};const Ey=Oe,Sy=Ms,Ow=Pw;_w.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Ow(e,r=>Sy(Ey.resolve(t.cwd,r)),t));Us.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Sy.sync(Ey.resolve(t.cwd,r)))return r};const wn=Oe,by=Us;vw.exports=(e,t={})=>{const r=wn.resolve(t.cwd||""),{root:n}=wn.parse(r),i=[].concat(e);return new Promise(a=>{(function o(s){by(i,{cwd:s}).then(l=>{l?a(wn.join(s,l)):s===n?a(null):o(wn.dirname(s))})})(r)})};js.sync=(e,t={})=>{let r=wn.resolve(t.cwd||"");const{root:n}=wn.parse(r),i=[].concat(e);for(;;){const a=by.sync(i,{cwd:r});if(a)return wn.join(r,a);if(r===n)return null;r=wn.dirname(r)}};const Ty=js;gw.exports=async({cwd:e}={})=>Ty("package.json",{cwd:e});Ls.sync=({cwd:e}={})=>Ty.sync("package.json",{cwd:e});var Vs={},Aw={get exports(){return Vs},set exports(e){Vs=e}};const ze=Oe,Py=di,_n=Py.homedir(),Gu=Py.tmpdir(),{env:Mi}=process,Nw=e=>{const t=ze.join(_n,"Library");return{data:ze.join(t,"Application Support",e),config:ze.join(t,"Preferences",e),cache:ze.join(t,"Caches",e),log:ze.join(t,"Logs",e),temp:ze.join(Gu,e)}},Cw=e=>{const t=Mi.APPDATA||ze.join(_n,"AppData","Roaming"),r=Mi.LOCALAPPDATA||ze.join(_n,"AppData","Local");return{data:ze.join(r,e,"Data"),config:ze.join(t,e,"Config"),cache:ze.join(r,e,"Cache"),log:ze.join(r,e,"Log"),temp:ze.join(Gu,e)}},Iw=e=>{const t=ze.basename(_n);return{data:ze.join(Mi.XDG_DATA_HOME||ze.join(_n,".local","share"),e),config:ze.join(Mi.XDG_CONFIG_HOME||ze.join(_n,".config"),e),cache:ze.join(Mi.XDG_CACHE_HOME||ze.join(_n,".cache"),e),log:ze.join(Mi.XDG_STATE_HOME||ze.join(_n,".local","state"),e),temp:ze.join(Gu,t,e)}},Oy=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?Nw(e):process.platform==="win32"?Cw(e):Iw(e)};Aw.exports=Oy;Vs.default=Oy;var Lr={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.NOOP=Ne.LIMIT_FILES_DESCRIPTORS=Ne.LIMIT_BASENAME_LENGTH=Ne.IS_USER_ROOT=Ne.IS_POSIX=Ne.DEFAULT_TIMEOUT_SYNC=Ne.DEFAULT_TIMEOUT_ASYNC=Ne.DEFAULT_WRITE_OPTIONS=Ne.DEFAULT_READ_OPTIONS=Ne.DEFAULT_FOLDER_MODE=Ne.DEFAULT_FILE_MODE=Ne.DEFAULT_ENCODING=void 0;const Rw="utf8";Ne.DEFAULT_ENCODING=Rw;const Dw=438;Ne.DEFAULT_FILE_MODE=Dw;const Fw=511;Ne.DEFAULT_FOLDER_MODE=Fw;const kw={};Ne.DEFAULT_READ_OPTIONS=kw;const Lw={};Ne.DEFAULT_WRITE_OPTIONS=Lw;const jw=5e3;Ne.DEFAULT_TIMEOUT_ASYNC=jw;const Uw=100;Ne.DEFAULT_TIMEOUT_SYNC=Uw;const Mw=!!process.getuid;Ne.IS_POSIX=Mw;const xw=process.getuid?!process.getuid():!1;Ne.IS_USER_ROOT=xw;const qw=128;Ne.LIMIT_BASENAME_LENGTH=qw;const Vw=1e4;Ne.LIMIT_FILES_DESCRIPTORS=Vw;const Bw=()=>{};Ne.NOOP=Bw;var bl={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.attemptifySync=Yi.attemptifyAsync=void 0;const Ay=Ne,Hw=(e,t=Ay.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Yi.attemptifyAsync=Hw;const zw=(e,t=Ay.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Yi.attemptifySync=zw;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const Gw=Ne,Ny={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Gw.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Ny.isChangeErrorOk(e))throw e}};Ku.default=Ny;var Wi={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});const Kw=Ne,je={interval:25,intervalId:void 0,limit:Kw.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{je.intervalId||(je.intervalId=setInterval(je.tick,je.interval))},reset:()=>{je.intervalId&&(clearInterval(je.intervalId),delete je.intervalId)},add:e=>{je.queueWaiting.add(e),je.queueActive.size<je.limit/2?je.tick():je.init()},remove:e=>{je.queueWaiting.delete(e),je.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>je.remove(r),r=()=>e(t);je.add(r)}),tick:()=>{if(!(je.queueActive.size>=je.limit)){if(!je.queueWaiting.size)return je.reset();for(const e of je.queueWaiting){if(je.queueActive.size>=je.limit)break;je.queueWaiting.delete(e),je.queueActive.add(e),e()}}}};Yu.default=je;Object.defineProperty(Wi,"__esModule",{value:!0});Wi.retryifySync=Wi.retryifyAsync=void 0;const Yw=Yu,Ww=(e,t)=>function(r){return function n(){return Yw.default.schedule().then(i=>e.apply(void 0,arguments).then(a=>(i(),a),a=>{if(i(),Date.now()>=r)throw a;if(t(a)){const o=Math.round(100+400*Math.random());return new Promise(l=>setTimeout(l,o)).then(()=>n.apply(void 0,arguments))}throw a}))}};Wi.retryifyAsync=Ww;const Jw=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};Wi.retryifySync=Jw;Object.defineProperty(bl,"__esModule",{value:!0});const Ie=Xt,Rt=hi,Dt=Yi,lt=Ku,Ht=Wi,Xw={chmodAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.chmod),lt.default.onChangeError),chownAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.chown),lt.default.onChangeError),closeAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.close)),fsyncAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.fsync)),mkdirAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.mkdir)),realpathAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.realpath)),statAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.stat)),unlinkAttempt:Dt.attemptifyAsync(Rt.promisify(Ie.unlink)),closeRetry:Ht.retryifyAsync(Rt.promisify(Ie.close),lt.default.isRetriableError),fsyncRetry:Ht.retryifyAsync(Rt.promisify(Ie.fsync),lt.default.isRetriableError),openRetry:Ht.retryifyAsync(Rt.promisify(Ie.open),lt.default.isRetriableError),readFileRetry:Ht.retryifyAsync(Rt.promisify(Ie.readFile),lt.default.isRetriableError),renameRetry:Ht.retryifyAsync(Rt.promisify(Ie.rename),lt.default.isRetriableError),statRetry:Ht.retryifyAsync(Rt.promisify(Ie.stat),lt.default.isRetriableError),writeRetry:Ht.retryifyAsync(Rt.promisify(Ie.write),lt.default.isRetriableError),chmodSyncAttempt:Dt.attemptifySync(Ie.chmodSync,lt.default.onChangeError),chownSyncAttempt:Dt.attemptifySync(Ie.chownSync,lt.default.onChangeError),closeSyncAttempt:Dt.attemptifySync(Ie.closeSync),mkdirSyncAttempt:Dt.attemptifySync(Ie.mkdirSync),realpathSyncAttempt:Dt.attemptifySync(Ie.realpathSync),statSyncAttempt:Dt.attemptifySync(Ie.statSync),unlinkSyncAttempt:Dt.attemptifySync(Ie.unlinkSync),closeSyncRetry:Ht.retryifySync(Ie.closeSync,lt.default.isRetriableError),fsyncSyncRetry:Ht.retryifySync(Ie.fsyncSync,lt.default.isRetriableError),openSyncRetry:Ht.retryifySync(Ie.openSync,lt.default.isRetriableError),readFileSyncRetry:Ht.retryifySync(Ie.readFileSync,lt.default.isRetriableError),renameSyncRetry:Ht.retryifySync(Ie.renameSync,lt.default.isRetriableError),statSyncRetry:Ht.retryifySync(Ie.statSync,lt.default.isRetriableError),writeSyncRetry:Ht.retryifySync(Ie.writeSync,lt.default.isRetriableError)};bl.default=Xw;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const Qw={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};Wu.default=Qw;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});const es={},cu={next:e=>{const t=es[e];if(!t)return;t.shift();const r=t[0];r?r(()=>cu.next(e)):delete es[e]},schedule:e=>new Promise(t=>{let r=es[e];r||(r=es[e]=[]),r.push(t),!(r.length>1)&&t(()=>cu.next(e))})};Ju.default=cu;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});const Zw=Oe,fh=Ne,dh=bl,rr={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=rr.truncate(t(e));return n in rr.store?rr.get(e,t,r):(rr.store[n]=r,[n,()=>delete rr.store[n]])},purge:e=>{rr.store[e]&&(delete rr.store[e],dh.default.unlinkAttempt(e))},purgeSync:e=>{rr.store[e]&&(delete rr.store[e],dh.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in rr.store)rr.purgeSync(e)},truncate:e=>{const t=Zw.basename(e);if(t.length<=fh.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-fh.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",rr.purgeSyncAll);Xu.default=rr;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.writeFileSync=Lr.writeFile=Lr.readFileSync=Lr.readFile=void 0;const Cy=Oe,mt=Ne,Ae=bl,nr=Wu,eE=Ju,En=Xu;function Iy(e,t=mt.DEFAULT_READ_OPTIONS){var r;if(nr.default.isString(t))return Iy(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:mt.DEFAULT_TIMEOUT_ASYNC);return Ae.default.readFileRetry(n)(e,t)}Lr.readFile=Iy;function Ry(e,t=mt.DEFAULT_READ_OPTIONS){var r;if(nr.default.isString(t))return Ry(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:mt.DEFAULT_TIMEOUT_SYNC);return Ae.default.readFileSyncRetry(n)(e,t)}Lr.readFileSync=Ry;const Dy=(e,t,r,n)=>{if(nr.default.isFunction(r))return Dy(e,t,mt.DEFAULT_WRITE_OPTIONS,r);const i=Fy(e,t,r);return n&&i.then(n,n),i};Lr.writeFile=Dy;const Fy=async(e,t,r=mt.DEFAULT_WRITE_OPTIONS)=>{var n;if(nr.default.isString(r))return Fy(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:mt.DEFAULT_TIMEOUT_ASYNC);let a=null,o=null,s=null,l=null,f=null;try{r.schedule&&(a=await r.schedule(e)),o=await eE.default.schedule(e),e=await Ae.default.realpathAttempt(e)||e,[l,s]=En.default.get(e,r.tmpCreate||En.default.create,r.tmpPurge!==!1);const u=mt.IS_POSIX&&nr.default.isUndefined(r.chown),c=nr.default.isUndefined(r.mode);if(u||c){const p=await Ae.default.statAttempt(e);p&&(r={...r},u&&(r.chown={uid:p.uid,gid:p.gid}),c&&(r.mode=p.mode))}const h=Cy.dirname(e);await Ae.default.mkdirAttempt(h,{mode:mt.DEFAULT_FOLDER_MODE,recursive:!0}),f=await Ae.default.openRetry(i)(l,"w",r.mode||mt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(l),nr.default.isString(t)?await Ae.default.writeRetry(i)(f,t,0,r.encoding||mt.DEFAULT_ENCODING):nr.default.isUndefined(t)||await Ae.default.writeRetry(i)(f,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await Ae.default.fsyncRetry(i)(f):Ae.default.fsyncAttempt(f)),await Ae.default.closeRetry(i)(f),f=null,r.chown&&await Ae.default.chownAttempt(l,r.chown.uid,r.chown.gid),r.mode&&await Ae.default.chmodAttempt(l,r.mode);try{await Ae.default.renameRetry(i)(l,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;await Ae.default.renameRetry(i)(l,En.default.truncate(e))}s(),l=null}finally{f&&await Ae.default.closeAttempt(f),l&&En.default.purge(l),a&&a(),o&&o()}},ky=(e,t,r=mt.DEFAULT_WRITE_OPTIONS)=>{var n;if(nr.default.isString(r))return ky(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:mt.DEFAULT_TIMEOUT_SYNC);let a=null,o=null,s=null;try{e=Ae.default.realpathSyncAttempt(e)||e,[o,a]=En.default.get(e,r.tmpCreate||En.default.create,r.tmpPurge!==!1);const l=mt.IS_POSIX&&nr.default.isUndefined(r.chown),f=nr.default.isUndefined(r.mode);if(l||f){const c=Ae.default.statSyncAttempt(e);c&&(r={...r},l&&(r.chown={uid:c.uid,gid:c.gid}),f&&(r.mode=c.mode))}const u=Cy.dirname(e);Ae.default.mkdirSyncAttempt(u,{mode:mt.DEFAULT_FOLDER_MODE,recursive:!0}),s=Ae.default.openSyncRetry(i)(o,"w",r.mode||mt.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),nr.default.isString(t)?Ae.default.writeSyncRetry(i)(s,t,0,r.encoding||mt.DEFAULT_ENCODING):nr.default.isUndefined(t)||Ae.default.writeSyncRetry(i)(s,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ae.default.fsyncSyncRetry(i)(s):Ae.default.fsyncAttempt(s)),Ae.default.closeSyncRetry(i)(s),s=null,r.chown&&Ae.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&Ae.default.chmodSyncAttempt(o,r.mode);try{Ae.default.renameSyncRetry(i)(o,e)}catch(c){if(c.code!=="ENAMETOOLONG")throw c;Ae.default.renameSyncRetry(i)(o,En.default.truncate(e))}a(),o=null}finally{s&&Ae.default.closeSyncAttempt(s),o&&En.default.purge(o)}};Lr.writeFileSync=ky;var Bs={},tE={get exports(){return Bs},set exports(e){Bs=e}},Ly={},Or={},Ji={},To={},_e={},lo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((S,O)=>`${S}${O}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((S,O)=>(O instanceof r&&(S[O.str]=(S[O.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(m,...y){const S=[m[0]];let O=0;for(;O<y.length;)s(S,y[O]),S.push(m[++O]);return new n(S)}e._=i;const a=new n("+");function o(m,...y){const S=[p(m[0])];let O=0;for(;O<y.length;)S.push(a),s(S,y[O]),S.push(a,p(m[++O]));return l(S),new n(S)}e.str=o;function s(m,y){y instanceof n?m.push(...y._items):y instanceof r?m.push(y):m.push(c(y))}e.addCodeArg=s;function l(m){let y=1;for(;y<m.length-1;){if(m[y]===a){const S=f(m[y-1],m[y+1]);if(S!==void 0){m.splice(y-1,3,S);continue}m[y++]="+"}y++}}function f(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof r||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof r))return`"${m}${y.slice(1)}`}function u(m,y){return y.emptyStr()?m:m.emptyStr()?y:o`${m}${y}`}e.strConcat=u;function c(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:p(Array.isArray(m)?m.join(","):m)}function h(m){return new n(p(m))}e.stringify=h;function p(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function _(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):i`[${m}]`}e.getProperty=_;function w(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=w;function g(m){return new n(m.toString())}e.regexpCode=g})(lo);var uu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=lo;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:u}={}){this._names={},this._prefixes=f,this._parent=u}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const u=this._names[f]||this._nameGroup(f);return`${f}${u.index++}`}_nameGroup(f){var u,c;if(!((c=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||c===void 0)&&c.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class a extends t.Name{constructor(f,u){super(u),this.prefix=f}setValue(f,{property:u,itemIndex:c}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(u)}[${c}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:t.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,u){var c;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(f),{prefix:p}=h,_=(c=u.key)!==null&&c!==void 0?c:u.ref;let w=this._values[p];if(w){const y=w.get(_);if(y)return y}else w=this._values[p]=new Map;w.set(_,h);const g=this._scope[p]||(this._scope[p]=[]),m=g.length;return g[m]=u.ref,h.setValue(u,{property:p,itemIndex:m}),h}getValue(f,u){const c=this._values[f];if(c)return c.get(u)}scopeRefs(f,u=this._values){return this._reduceValues(u,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${f}${c.scopePath}`})}scopeCode(f=this._values,u,c){return this._reduceValues(f,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,c)}_reduceValues(f,u,c={},h){let p=t.nil;for(const _ in f){const w=f[_];if(!w)continue;const g=c[_]=c[_]||new Map;w.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let y=u(m);if(y){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${S} ${m} = ${y};${this.opts._n}`}else if(y=h==null?void 0:h(m))p=(0,t._)`${p}${y}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return p}}e.ValueScope=s})(uu);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=lo,r=uu;var n=lo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=uu;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends a{constructor(d,$,F){super(),this.varKind=d,this.name=$,this.rhs=F}render({es5:d,_n:$}){const F=d?r.varKinds.var:this.varKind,T=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${T};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(d,$,F){super(),this.lhs=d,this.rhs=$,this.sideEffects=F}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Q(d,this.rhs)}}class l extends s{constructor(d,$,F,T){super(d,F,T),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class f extends a{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends a{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class c extends a{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends a{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=X(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends a{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,F)=>$+F.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const F=d[$].optimizeNodes();Array.isArray(F)?d.splice($,1,...F):F?d[$]=F:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:F}=this;let T=F.length;for(;T--;){const v=F[T];v.optimizeNames(d,$)||(Z(d,v.names),F.splice(T,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>k(d,$.names),{})}}class _ extends p{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class w extends p{}class g extends _{}g.kind="else";class m extends _{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const F=$.optimizeNodes();$=this.else=Array.isArray(F)?new g(F):F}if($)return d===!1?$ instanceof m?$:$.nodes:this.nodes.length?this:new m(ee(d),$ instanceof m?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=X(this.condition,d,$),this}get names(){const d=super.names;return Q(d,this.condition),this.else&&k(d,this.else.names),d}}m.kind="if";class y extends _{}y.kind="for";class S extends y{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=X(this.iteration,d,$),this}get names(){return k(super.names,this.iteration.names)}}class O extends y{constructor(d,$,F,T){super(),this.varKind=d,this.name=$,this.from=F,this.to=T}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:F,from:T,to:v}=this;return`for(${$} ${F}=${T}; ${F}<${v}; ${F}++)`+super.render(d)}get names(){const d=Q(super.names,this.from);return Q(d,this.to)}}class j extends y{constructor(d,$,F,T){super(),this.loop=d,this.varKind=$,this.name=F,this.iterable=T}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=X(this.iterable,d,$),this}get names(){return k(super.names,this.iterable.names)}}class P extends _{constructor(d,$,F){super(),this.name=d,this.args=$,this.async=F}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}P.kind="func";class E extends p{render(d){return"return "+super.render(d)}}E.kind="return";class C extends _{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var F,T;return super.optimizeNames(d,$),(F=this.catch)===null||F===void 0||F.optimizeNames(d,$),(T=this.finally)===null||T===void 0||T.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&k(d,this.catch.names),this.finally&&k(d,this.finally.names),d}}class b extends _{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}b.kind="catch";class V extends _{render(d){return"finally"+super.render(d)}}V.kind="finally";class q{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const F=this._extScope.value(d,$);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,F,T){const v=this._scope.toName($);return F!==void 0&&T&&(this._constants[v.str]=F),this._leafNode(new o(d,v,F)),v}const(d,$,F){return this._def(r.varKinds.const,d,$,F)}let(d,$,F){return this._def(r.varKinds.let,d,$,F)}var(d,$,F){return this._def(r.varKinds.var,d,$,F)}assign(d,$,F){return this._leafNode(new s(d,$,F))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[F,T]of d)$.length>1&&$.push(","),$.push(F),(F!==T||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,T));return $.push("}"),new t._Code($)}if(d,$,F){if(this._blockNode(new m(d)),$&&F)this.code($).else().code(F).endIf();else if($)this.code($).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new m(d))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,F,T,v=this.opts.es5?r.varKinds.var:r.varKinds.let){const H=this._scope.toName(d);return this._for(new O(v,H,$,F),()=>T(H))}forOf(d,$,F,T=r.varKinds.const){const v=this._scope.toName(d);if(this.opts.es5){const H=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${H}.length`,U=>{this.var(v,(0,t._)`${H}[${U}]`),F(v)})}return this._for(new j("of",T,v,$),()=>F(v))}forIn(d,$,F,T=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,F);const v=this._scope.toName(d);return this._for(new j("in",T,v,$),()=>F(v))}endFor(){return this._endBlockNode(y)}label(d){return this._leafNode(new f(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new E;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(d,$,F){if(!$&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const T=new C;if(this._blockNode(T),this.code(d),$){const v=this.name("e");this._currNode=T.catch=new b(v),$(v)}return F&&(this._currNode=T.finally=new V,this.code(F)),this._endBlockNode(b,V)}throw(d){return this._leafNode(new c(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-$;if(F<0||d!==void 0&&F!==d)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,F,T){return this._blockNode(new P(d,$,F)),T&&this.code(T).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const F=this._currNode;if(F instanceof d||$&&F instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=q;function k(N,d){for(const $ in d)N[$]=(N[$]||0)+(d[$]||0);return N}function Q(N,d){return d instanceof t._CodeOrName?k(N,d.names):N}function X(N,d,$){if(N instanceof t.Name)return F(N);if(!T(N))return N;return new t._Code(N._items.reduce((v,H)=>(H instanceof t.Name&&(H=F(H)),H instanceof t._Code?v.push(...H._items):v.push(H),v),[]));function F(v){const H=$[v.str];return H===void 0||d[v.str]!==1?v:(delete d[v.str],H)}function T(v){return v instanceof t._Code&&v._items.some(H=>H instanceof t.Name&&d[H.str]===1&&$[H.str]!==void 0)}}function Z(N,d){for(const $ in d)N[$]=(N[$]||0)-(d[$]||0)}function ee(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${L(N)}`}e.not=ee;const Y=A(e.operators.AND);function z(...N){return N.reduce(Y)}e.and=z;const G=A(e.operators.OR);function R(...N){return N.reduce(G)}e.or=R;function A(N){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${L(d)} ${N} ${L($)}`}function L(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(_e);var Ee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=_e,r=lo;function n(P){const E={};for(const C of P)E[C]=!0;return E}e.toHash=n;function i(P,E){return typeof E=="boolean"?E:Object.keys(E).length===0?!0:(a(P,E),!o(E,P.self.RULES.all))}e.alwaysValidSchema=i;function a(P,E=P.schema){const{opts:C,self:b}=P;if(!C.strictSchema||typeof E=="boolean")return;const V=b.RULES.keywords;for(const q in E)V[q]||j(P,`unknown keyword: "${q}"`)}e.checkUnknownRules=a;function o(P,E){if(typeof P=="boolean")return!P;for(const C in P)if(E[C])return!0;return!1}e.schemaHasRules=o;function s(P,E){if(typeof P=="boolean")return!P;for(const C in P)if(C!=="$ref"&&E.all[C])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:P,schemaPath:E},C,b,V){if(!V){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${P}${E}${(0,t.getProperty)(b)}`}e.schemaRefOrVal=l;function f(P){return h(decodeURIComponent(P))}e.unescapeFragment=f;function u(P){return encodeURIComponent(c(P))}e.escapeFragment=u;function c(P){return typeof P=="number"?`${P}`:P.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(P){return P.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function p(P,E){if(Array.isArray(P))for(const C of P)E(C);else E(P)}e.eachItem=p;function _({mergeNames:P,mergeToName:E,mergeValues:C,resultToName:b}){return(V,q,k,Q)=>{const X=k===void 0?q:k instanceof t.Name?(q instanceof t.Name?P(V,q,k):E(V,q,k),k):q instanceof t.Name?(E(V,k,q),q):C(q,k);return Q===t.Name&&!(X instanceof t.Name)?b(V,X):X}}e.mergeEvaluated={props:_({mergeNames:(P,E,C)=>P.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>{P.if((0,t._)`${E} === true`,()=>P.assign(C,!0),()=>P.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${E})`))}),mergeToName:(P,E,C)=>P.if((0,t._)`${C} !== true`,()=>{E===!0?P.assign(C,!0):(P.assign(C,(0,t._)`${C} || {}`),g(P,C,E))}),mergeValues:(P,E)=>P===!0?!0:{...P,...E},resultToName:w}),items:_({mergeNames:(P,E,C)=>P.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>P.assign(C,(0,t._)`${E} === true ? true : ${C} > ${E} ? ${C} : ${E}`)),mergeToName:(P,E,C)=>P.if((0,t._)`${C} !== true`,()=>P.assign(C,E===!0?!0:(0,t._)`${C} > ${E} ? ${C} : ${E}`)),mergeValues:(P,E)=>P===!0?!0:Math.max(P,E),resultToName:(P,E)=>P.var("items",E)})};function w(P,E){if(E===!0)return P.var("props",!0);const C=P.var("props",(0,t._)`{}`);return E!==void 0&&g(P,C,E),C}e.evaluatedPropsToName=w;function g(P,E,C){Object.keys(C).forEach(b=>P.assign((0,t._)`${E}${(0,t.getProperty)(b)}`,!0))}e.setEvaluated=g;const m={};function y(P,E){return P.scopeValue("func",{ref:E,code:m[E.code]||(m[E.code]=new r._Code(E.code))})}e.useFunc=y;var S;(function(P){P[P.Num=0]="Num",P[P.Str=1]="Str"})(S=e.Type||(e.Type={}));function O(P,E,C){if(P instanceof t.Name){const b=E===S.Num;return C?b?(0,t._)`"[" + ${P} + "]"`:(0,t._)`"['" + ${P} + "']"`:b?(0,t._)`"/" + ${P}`:(0,t._)`"/" + ${P}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(P).toString():"/"+c(P)}e.getErrorPath=O;function j(P,E,C=P.opts.strictSchema){if(C){if(E=`strict mode: ${E}`,C===!0)throw new Error(E);P.self.logger.warn(E)}}e.checkStrictMode=j})(Ee);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});const wt=_e,rE={data:new wt.Name("data"),valCxt:new wt.Name("valCxt"),instancePath:new wt.Name("instancePath"),parentData:new wt.Name("parentData"),parentDataProperty:new wt.Name("parentDataProperty"),rootData:new wt.Name("rootData"),dynamicAnchors:new wt.Name("dynamicAnchors"),vErrors:new wt.Name("vErrors"),errors:new wt.Name("errors"),this:new wt.Name("this"),self:new wt.Name("self"),scope:new wt.Name("scope"),json:new wt.Name("json"),jsonPos:new wt.Name("jsonPos"),jsonLen:new wt.Name("jsonLen"),jsonPart:new wt.Name("jsonPart")};xr.default=rE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=_e,r=Ee,n=xr;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,m=e.keywordError,y,S){const{it:O}=g,{gen:j,compositeRule:P,allErrors:E}=O,C=c(g,m,y);S??(P||E)?l(j,C):f(O,(0,t._)`[${C}]`)}e.reportError=i;function a(g,m=e.keywordError,y){const{it:S}=g,{gen:O,compositeRule:j,allErrors:P}=S,E=c(g,m,y);l(O,E),j||P||f(S,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:g,keyword:m,schemaValue:y,data:S,errsCount:O,it:j}){if(O===void 0)throw new Error("ajv implementation error");const P=g.name("err");g.forRange("i",O,n.default.errors,E=>{g.const(P,(0,t._)`${n.default.vErrors}[${E}]`),g.if((0,t._)`${P}.instancePath === undefined`,()=>g.assign((0,t._)`${P}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),g.assign((0,t._)`${P}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${m}`),j.opts.verbose&&(g.assign((0,t._)`${P}.schema`,y),g.assign((0,t._)`${P}.data`,S))})}e.extendErrors=s;function l(g,m){const y=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),g.code((0,t._)`${n.default.errors}++`)}function f(g,m){const{gen:y,validateName:S,schemaEnv:O}=g;O.$async?y.throw((0,t._)`new ${g.ValidationError}(${m})`):(y.assign((0,t._)`${S}.errors`,m),y.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(g,m,y){const{createErrors:S}=g.it;return S===!1?(0,t._)`{}`:h(g,m,y)}function h(g,m,y={}){const{gen:S,it:O}=g,j=[p(O,y),_(g,y)];return w(g,m,j),S.object(...j)}function p({errorPath:g},{instancePath:m}){const y=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function _({keyword:g,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:S}){let O=S?m:(0,t.str)`${m}/${g}`;return y&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(y,r.Type.Str)}`),[u.schemaPath,O]}function w(g,{params:m,message:y},S){const{keyword:O,data:j,schemaValue:P,it:E}=g,{opts:C,propertyName:b,topSchemaRef:V,schemaPath:q}=E;S.push([u.keyword,O],[u.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),C.messages&&S.push([u.message,typeof y=="function"?y(g):y]),C.verbose&&S.push([u.schema,P],[u.parentSchema,(0,t._)`${V}${q}`],[n.default.data,j]),b&&S.push([u.propertyName,b])}})(To);Object.defineProperty(Ji,"__esModule",{value:!0});Ji.boolOrEmptySchema=Ji.topBoolOrEmptySchema=void 0;const nE=To,iE=_e,aE=xr,oE={message:"boolean schema is false"};function sE(e){const{gen:t,schema:r,validateName:n}=e;r===!1?jy(e,!1):typeof r=="object"&&r.$async===!0?t.return(aE.default.data):(t.assign((0,iE._)`${n}.errors`,null),t.return(!0))}Ji.topBoolOrEmptySchema=sE;function lE(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),jy(e)):r.var(t,!0)}Ji.boolOrEmptySchema=lE;function jy(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,nE.reportError)(i,oE,void 0,t)}var Po={},ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.getRules=ai.isJSONType=void 0;const cE=["string","number","integer","boolean","null","object","array"],uE=new Set(cE);function fE(e){return typeof e=="string"&&uE.has(e)}ai.isJSONType=fE;function dE(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ai.getRules=dE;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.shouldUseRule=tn.shouldUseGroup=tn.schemaHasRulesForType=void 0;function hE({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Uy(e,n)}tn.schemaHasRulesForType=hE;function Uy(e,t){return t.rules.some(r=>My(e,r))}tn.shouldUseGroup=Uy;function My(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}tn.shouldUseRule=My;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ai,r=tn,n=To,i=_e,a=Ee;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function s(S){const O=l(S.type);if(O.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!O.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&O.push("null")}return O}e.getSchemaTypes=s;function l(S){const O=Array.isArray(S)?S:S?[S]:[];if(O.every(t.isJSONType))return O;throw new Error("type must be JSONType or JSONType[]: "+O.join(","))}e.getJSONTypes=l;function f(S,O){const{gen:j,data:P,opts:E}=S,C=c(O,E.coerceTypes),b=O.length>0&&!(C.length===0&&O.length===1&&(0,r.schemaHasRulesForType)(S,O[0]));if(b){const V=w(O,P,E.strictNumbers,o.Wrong);j.if(V,()=>{C.length?h(S,O,C):m(S)})}return b}e.coerceAndCheckDataType=f;const u=new Set(["string","number","integer","boolean","null"]);function c(S,O){return O?S.filter(j=>u.has(j)||O==="array"&&j==="array"):[]}function h(S,O,j){const{gen:P,data:E,opts:C}=S,b=P.let("dataType",(0,i._)`typeof ${E}`),V=P.let("coerced",(0,i._)`undefined`);C.coerceTypes==="array"&&P.if((0,i._)`${b} == 'object' && Array.isArray(${E}) && ${E}.length == 1`,()=>P.assign(E,(0,i._)`${E}[0]`).assign(b,(0,i._)`typeof ${E}`).if(w(O,E,C.strictNumbers),()=>P.assign(V,E))),P.if((0,i._)`${V} !== undefined`);for(const k of j)(u.has(k)||k==="array"&&C.coerceTypes==="array")&&q(k);P.else(),m(S),P.endIf(),P.if((0,i._)`${V} !== undefined`,()=>{P.assign(E,V),p(S,V)});function q(k){switch(k){case"string":P.elseIf((0,i._)`${b} == "number" || ${b} == "boolean"`).assign(V,(0,i._)`"" + ${E}`).elseIf((0,i._)`${E} === null`).assign(V,(0,i._)`""`);return;case"number":P.elseIf((0,i._)`${b} == "boolean" || ${E} === null
              || (${b} == "string" && ${E} && ${E} == +${E})`).assign(V,(0,i._)`+${E}`);return;case"integer":P.elseIf((0,i._)`${b} === "boolean" || ${E} === null
              || (${b} === "string" && ${E} && ${E} == +${E} && !(${E} % 1))`).assign(V,(0,i._)`+${E}`);return;case"boolean":P.elseIf((0,i._)`${E} === "false" || ${E} === 0 || ${E} === null`).assign(V,!1).elseIf((0,i._)`${E} === "true" || ${E} === 1`).assign(V,!0);return;case"null":P.elseIf((0,i._)`${E} === "" || ${E} === 0 || ${E} === false`),P.assign(V,null);return;case"array":P.elseIf((0,i._)`${b} === "string" || ${b} === "number"
              || ${b} === "boolean" || ${E} === null`).assign(V,(0,i._)`[${E}]`)}}}function p({gen:S,parentData:O,parentDataProperty:j},P){S.if((0,i._)`${O} !== undefined`,()=>S.assign((0,i._)`${O}[${j}]`,P))}function _(S,O,j,P=o.Correct){const E=P===o.Correct?i.operators.EQ:i.operators.NEQ;let C;switch(S){case"null":return(0,i._)`${O} ${E} null`;case"array":C=(0,i._)`Array.isArray(${O})`;break;case"object":C=(0,i._)`${O} && typeof ${O} == "object" && !Array.isArray(${O})`;break;case"integer":C=b((0,i._)`!(${O} % 1) && !isNaN(${O})`);break;case"number":C=b();break;default:return(0,i._)`typeof ${O} ${E} ${S}`}return P===o.Correct?C:(0,i.not)(C);function b(V=i.nil){return(0,i.and)((0,i._)`typeof ${O} == "number"`,V,j?(0,i._)`isFinite(${O})`:i.nil)}}e.checkDataType=_;function w(S,O,j,P){if(S.length===1)return _(S[0],O,j,P);let E;const C=(0,a.toHash)(S);if(C.array&&C.object){const b=(0,i._)`typeof ${O} != "object"`;E=C.null?b:(0,i._)`!${O} || ${b}`,delete C.null,delete C.array,delete C.object}else E=i.nil;C.number&&delete C.integer;for(const b in C)E=(0,i.and)(E,_(b,O,j,P));return E}e.checkDataTypes=w;const g={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:O})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${O}}`};function m(S){const O=y(S);(0,n.reportError)(O,g)}e.reportTypeError=m;function y(S){const{gen:O,data:j,schema:P}=S,E=(0,a.schemaRefOrVal)(S,P,"type");return{gen:O,keyword:"type",data:j,schema:P.type,schemaCode:E,schemaValue:E,parentSchema:P,params:{},it:S}}})(Po);var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.assignDefaults=void 0;const Si=_e,pE=Ee;function mE(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)hh(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,a)=>hh(e,a,i.default))}Tl.assignDefaults=mE;function hh(e,t,r){const{gen:n,compositeRule:i,data:a,opts:o}=e;if(r===void 0)return;const s=(0,Si._)`${a}${(0,Si.getProperty)(t)}`;if(i){(0,pE.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,Si._)`${s} === undefined`;o.useDefaults==="empty"&&(l=(0,Si._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,Si._)`${s} = ${(0,Si.stringify)(r)}`)}var jr={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.validateUnion=ge.validateArray=ge.usePattern=ge.callValidateCode=ge.schemaProperties=ge.allSchemaProperties=ge.noPropertyInData=ge.propertyInData=ge.isOwnProperty=ge.hasPropFunc=ge.reportMissingProp=ge.checkMissingProp=ge.checkReportMissingProp=void 0;const Me=_e,Qu=Ee,hn=xr,yE=Ee;function gE(e,t){const{gen:r,data:n,it:i}=e;r.if(ef(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Me._)`${t}`},!0),e.error()})}ge.checkReportMissingProp=gE;function vE({gen:e,data:t,it:{opts:r}},n,i){return(0,Me.or)(...n.map(a=>(0,Me.and)(ef(e,t,a,r.ownProperties),(0,Me._)`${i} = ${a}`)))}ge.checkMissingProp=vE;function _E(e,t){e.setParams({missingProperty:t},!0),e.error()}ge.reportMissingProp=_E;function xy(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Me._)`Object.prototype.hasOwnProperty`})}ge.hasPropFunc=xy;function Zu(e,t,r){return(0,Me._)`${xy(e)}.call(${t}, ${r})`}ge.isOwnProperty=Zu;function $E(e,t,r,n){const i=(0,Me._)`${t}${(0,Me.getProperty)(r)} !== undefined`;return n?(0,Me._)`${i} && ${Zu(e,t,r)}`:i}ge.propertyInData=$E;function ef(e,t,r,n){const i=(0,Me._)`${t}${(0,Me.getProperty)(r)} === undefined`;return n?(0,Me.or)(i,(0,Me.not)(Zu(e,t,r))):i}ge.noPropertyInData=ef;function qy(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ge.allSchemaProperties=qy;function wE(e,t){return qy(t).filter(r=>!(0,Qu.alwaysValidSchema)(e,t[r]))}ge.schemaProperties=wE;function EE({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:a},it:o},s,l,f){const u=f?(0,Me._)`${e}, ${t}, ${n}${i}`:t,c=[[hn.default.instancePath,(0,Me.strConcat)(hn.default.instancePath,a)],[hn.default.parentData,o.parentData],[hn.default.parentDataProperty,o.parentDataProperty],[hn.default.rootData,hn.default.rootData]];o.opts.dynamicRef&&c.push([hn.default.dynamicAnchors,hn.default.dynamicAnchors]);const h=(0,Me._)`${u}, ${r.object(...c)}`;return l!==Me.nil?(0,Me._)`${s}.call(${l}, ${h})`:(0,Me._)`${s}(${h})`}ge.callValidateCode=EE;const SE=(0,Me._)`new RegExp`;function bE({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Me._)`${i.code==="new RegExp"?SE:(0,yE.useFunc)(e,i)}(${r}, ${n})`})}ge.usePattern=bE;function TE(e){const{gen:t,data:r,keyword:n,it:i}=e,a=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return o(()=>t.assign(s,!1)),s}return t.var(a,!0),o(()=>t.break()),a;function o(s){const l=t.const("len",(0,Me._)`${r}.length`);t.forRange("i",0,l,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:Qu.Type.Num},a),t.if((0,Me.not)(a),s)})}}ge.validateArray=TE;function PE(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Qu.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,f)=>{const u=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},s);t.assign(o,(0,Me._)`${o} || ${s}`),e.mergeValidEvaluated(u,s)||t.if((0,Me.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ge.validateUnion=PE;Object.defineProperty(jr,"__esModule",{value:!0});jr.validateKeywordUsage=jr.validSchemaType=jr.funcKeywordCode=jr.macroKeywordCode=void 0;const Ft=_e,Gn=xr,OE=ge,AE=To;function NE(e,t){const{gen:r,keyword:n,schema:i,parentSchema:a,it:o}=e,s=t.macro.call(o.self,i,a,o),l=Vy(r,n,s);o.opts.validateSchema!==!1&&o.self.validateSchema(s,!0);const f=r.name("valid");e.subschema({schema:s,schemaPath:Ft.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}jr.macroKeywordCode=NE;function CE(e,t){var r;const{gen:n,keyword:i,schema:a,parentSchema:o,$data:s,it:l}=e;RE(l,t);const f=!s&&t.compile?t.compile.call(l.self,a,o,l):t.validate,u=Vy(n,i,f),c=n.let("valid");e.block$data(c,h),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function h(){if(t.errors===!1)w(),t.modifying&&ph(e),g(()=>e.error());else{const m=t.async?p():_();t.modifying&&ph(e),g(()=>IE(e,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>w((0,Ft._)`await `),y=>n.assign(c,!1).if((0,Ft._)`${y} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,Ft._)`${y}.errors`),()=>n.throw(y))),m}function _(){const m=(0,Ft._)`${u}.errors`;return n.assign(m,null),w(Ft.nil),m}function w(m=t.async?(0,Ft._)`await `:Ft.nil){const y=l.opts.passContext?Gn.default.this:Gn.default.self,S=!("compile"in t&&!s||t.schema===!1);n.assign(c,(0,Ft._)`${m}${(0,OE.callValidateCode)(e,u,y,S)}`,t.modifying)}function g(m){var y;n.if((0,Ft.not)((y=t.valid)!==null&&y!==void 0?y:c),m)}}jr.funcKeywordCode=CE;function ph(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ft._)`${n.parentData}[${n.parentDataProperty}]`))}function IE(e,t){const{gen:r}=e;r.if((0,Ft._)`Array.isArray(${t})`,()=>{r.assign(Gn.default.vErrors,(0,Ft._)`${Gn.default.vErrors} === null ? ${t} : ${Gn.default.vErrors}.concat(${t})`).assign(Gn.default.errors,(0,Ft._)`${Gn.default.vErrors}.length`),(0,AE.extendErrors)(e)},()=>e.error())}function RE({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Vy(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ft.stringify)(r)})}function DE(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}jr.validSchemaType=DE;function FE({schema:e,opts:t,self:r,errSchemaPath:n},i,a){if(Array.isArray(i.keyword)?!i.keyword.includes(a):i.keyword!==a)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[a])){const l=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}jr.validateKeywordUsage=FE;var On={};Object.defineProperty(On,"__esModule",{value:!0});On.extendSubschemaMode=On.extendSubschemaData=On.getSubschema=void 0;const Fr=_e,By=Ee;function kE(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,Fr._)`${e.schemaPath}${(0,Fr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,Fr._)`${e.schemaPath}${(0,Fr.getProperty)(t)}${(0,Fr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,By.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}On.getSubschema=kE;function LE(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:a,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:f,dataPathArr:u,opts:c}=t,h=s.let("data",(0,Fr._)`${t.data}${(0,Fr.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Fr.str)`${f}${(0,By.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Fr._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const f=i instanceof Fr.Name?i:s.let("data",i,!0);l(f),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function l(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}On.extendSubschemaData=LE;function jE(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:a}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}On.extendSubschemaMode=jE;var yt={},Pl=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},fu={},UE={get exports(){return fu},set exports(e){fu=e}},Sn=UE.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};ws(t,n,i,e,"",e)};Sn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Sn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Sn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Sn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ws(e,t,r,n,i,a,o,s,l,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,a,o,s,l,f);for(var u in n){var c=n[u];if(Array.isArray(c)){if(u in Sn.arrayKeywords)for(var h=0;h<c.length;h++)ws(e,t,r,c[h],i+"/"+u+"/"+h,a,i,u,n,h)}else if(u in Sn.propsKeywords){if(c&&typeof c=="object")for(var p in c)ws(e,t,r,c[p],i+"/"+u+"/"+ME(p),a,i,u,n,p)}else(u in Sn.keywords||e.allKeys&&!(u in Sn.skipKeywords))&&ws(e,t,r,c,i+"/"+u,a,i,u,n)}r(n,i,a,o,s,l,f)}}function ME(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(yt,"__esModule",{value:!0});yt.getSchemaRefs=yt.resolveUrl=yt.normalizeId=yt._getFullPath=yt.getFullPath=yt.inlineRef=void 0;const xE=Ee,qE=Pl,VE=fu,BE=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function HE(e,t=!0){return typeof e=="boolean"?!0:t===!0?!du(e):t?Hy(e)<=t:!1}yt.inlineRef=HE;const zE=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function du(e){for(const t in e){if(zE.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(du)||typeof r=="object"&&du(r))return!0}return!1}function Hy(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!BE.has(r)&&(typeof e[r]=="object"&&(0,xE.eachItem)(e[r],n=>t+=Hy(n)),t===1/0))return 1/0}return t}function zy(e,t="",r){r!==!1&&(t=Hi(t));const n=e.parse(t);return Gy(e,n)}yt.getFullPath=zy;function Gy(e,t){return e.serialize(t).split("#")[0]+"#"}yt._getFullPath=Gy;const GE=/#\/?$/;function Hi(e){return e?e.replace(GE,""):""}yt.normalizeId=Hi;function KE(e,t,r){return r=Hi(r),e.resolve(t,r)}yt.resolveUrl=KE;const YE=/^[a-z_][-a-z0-9._]*$/i;function WE(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Hi(e[r]||t),a={"":i},o=zy(n,i,!1),s={},l=new Set;return VE(e,{allKeys:!0},(c,h,p,_)=>{if(_===void 0)return;const w=o+h;let g=a[_];typeof c[r]=="string"&&(g=m.call(this,c[r])),y.call(this,c.$anchor),y.call(this,c.$dynamicAnchor),a[h]=g;function m(S){const O=this.opts.uriResolver.resolve;if(S=Hi(g?O(g,S):S),l.has(S))throw u(S);l.add(S);let j=this.refs[S];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?f(c,j.schema,S):S!==Hi(w)&&(S[0]==="#"?(f(c,s[S],S),s[S]=c):this.refs[S]=w),S}function y(S){if(typeof S=="string"){if(!YE.test(S))throw new Error(`invalid anchor "${S}"`);m.call(this,`#${S}`)}}}),s;function f(c,h,p){if(h!==void 0&&!qE(c,h))throw u(p)}function u(c){return new Error(`reference "${c}" resolves to more than one schema`)}}yt.getSchemaRefs=WE;Object.defineProperty(Or,"__esModule",{value:!0});Or.getData=Or.KeywordCxt=Or.validateFunctionCode=void 0;const Ky=Ji,mh=Po,tf=tn,Hs=Po,JE=Tl,Ha=jr,vc=On,ae=_e,fe=xr,XE=yt,rn=Ee,Aa=To;function QE(e){if(Jy(e)&&(Xy(e),Wy(e))){tS(e);return}Yy(e,()=>(0,Ky.topBoolOrEmptySchema)(e))}Or.validateFunctionCode=QE;function Yy({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},a){i.code.es5?e.func(t,(0,ae._)`${fe.default.data}, ${fe.default.valCxt}`,n.$async,()=>{e.code((0,ae._)`"use strict"; ${yh(r,i)}`),eS(e,i),e.code(a)}):e.func(t,(0,ae._)`${fe.default.data}, ${ZE(i)}`,n.$async,()=>e.code(yh(r,i)).code(a))}function ZE(e){return(0,ae._)`{${fe.default.instancePath}="", ${fe.default.parentData}, ${fe.default.parentDataProperty}, ${fe.default.rootData}=${fe.default.data}${e.dynamicRef?(0,ae._)`, ${fe.default.dynamicAnchors}={}`:ae.nil}}={}`}function eS(e,t){e.if(fe.default.valCxt,()=>{e.var(fe.default.instancePath,(0,ae._)`${fe.default.valCxt}.${fe.default.instancePath}`),e.var(fe.default.parentData,(0,ae._)`${fe.default.valCxt}.${fe.default.parentData}`),e.var(fe.default.parentDataProperty,(0,ae._)`${fe.default.valCxt}.${fe.default.parentDataProperty}`),e.var(fe.default.rootData,(0,ae._)`${fe.default.valCxt}.${fe.default.rootData}`),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,ae._)`${fe.default.valCxt}.${fe.default.dynamicAnchors}`)},()=>{e.var(fe.default.instancePath,(0,ae._)`""`),e.var(fe.default.parentData,(0,ae._)`undefined`),e.var(fe.default.parentDataProperty,(0,ae._)`undefined`),e.var(fe.default.rootData,fe.default.data),t.dynamicRef&&e.var(fe.default.dynamicAnchors,(0,ae._)`{}`)})}function tS(e){const{schema:t,opts:r,gen:n}=e;Yy(e,()=>{r.$comment&&t.$comment&&Zy(e),oS(e),n.let(fe.default.vErrors,null),n.let(fe.default.errors,0),r.unevaluated&&rS(e),Qy(e),cS(e)})}function rS(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,ae._)`${r}.evaluated`),t.if((0,ae._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,ae._)`${e.evaluated}.props`,(0,ae._)`undefined`)),t.if((0,ae._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,ae._)`${e.evaluated}.items`,(0,ae._)`undefined`))}function yh(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ae._)`/*# sourceURL=${r} */`:ae.nil}function nS(e,t){if(Jy(e)&&(Xy(e),Wy(e))){iS(e,t);return}(0,Ky.boolOrEmptySchema)(e,t)}function Wy({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Jy(e){return typeof e.schema!="boolean"}function iS(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&Zy(e),sS(e),lS(e);const a=n.const("_errs",fe.default.errors);Qy(e,a),n.var(t,(0,ae._)`${a} === ${fe.default.errors}`)}function Xy(e){(0,rn.checkUnknownRules)(e),aS(e)}function Qy(e,t){if(e.opts.jtd)return gh(e,[],!1,t);const r=(0,mh.getSchemaTypes)(e.schema),n=(0,mh.coerceAndCheckDataType)(e,r);gh(e,r,!n,t)}function aS(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,rn.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function oS(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,rn.checkStrictMode)(e,"default is ignored in the schema root")}function sS(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,XE.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function lS(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Zy({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const a=r.$comment;if(i.$comment===!0)e.code((0,ae._)`${fe.default.self}.logger.log(${a})`);else if(typeof i.$comment=="function"){const o=(0,ae.str)`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,ae._)`${fe.default.self}.opts.$comment(${a}, ${o}, ${s}.schema)`)}}function cS(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:a}=e;r.$async?t.if((0,ae._)`${fe.default.errors} === 0`,()=>t.return(fe.default.data),()=>t.throw((0,ae._)`new ${i}(${fe.default.vErrors})`)):(t.assign((0,ae._)`${n}.errors`,fe.default.vErrors),a.unevaluated&&uS(e),t.return((0,ae._)`${fe.default.errors} === 0`))}function uS({gen:e,evaluated:t,props:r,items:n}){r instanceof ae.Name&&e.assign((0,ae._)`${t}.props`,r),n instanceof ae.Name&&e.assign((0,ae._)`${t}.items`,n)}function gh(e,t,r,n){const{gen:i,schema:a,data:o,allErrors:s,opts:l,self:f}=e,{RULES:u}=f;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,rn.schemaHasRulesButRef)(a,u))){i.block(()=>rg(e,"$ref",u.all.$ref.definition));return}l.jtd||fS(e,t),i.block(()=>{for(const h of u.rules)c(h);c(u.post)});function c(h){(0,tf.shouldUseGroup)(a,h)&&(h.type?(i.if((0,Hs.checkDataType)(h.type,o,l.strictNumbers)),vh(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Hs.reportTypeError)(e)),i.endIf()):vh(e,h),s||i.if((0,ae._)`${fe.default.errors} === ${n||0}`))}}function vh(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,JE.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,tf.shouldUseRule)(n,a)&&rg(e,a.keyword,a.definition,t.type)})}function fS(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(dS(e,t),e.opts.allowUnionTypes||hS(e,t),pS(e,e.dataTypes))}function dS(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{eg(e.dataTypes,r)||rf(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),yS(e,t)}}function hS(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&rf(e,"use allowUnionTypes to allow union type keyword")}function pS(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,tf.shouldUseRule)(e.schema,i)){const{type:a}=i.definition;a.length&&!a.some(o=>mS(t,o))&&rf(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function mS(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function eg(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function yS(e,t){const r=[];for(const n of e.dataTypes)eg(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function rf(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,rn.checkStrictMode)(e,t,e.opts.strictTypes)}let tg=class{constructor(t,r,n){if((0,Ha.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,rn.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ng(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ha.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",fe.default.errors))}result(t,r,n){this.failResult((0,ae.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,ae.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,ae._)`${r} !== undefined && (${(0,ae.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Aa.reportExtraError:Aa.reportError)(this,this.def.error,r)}$dataError(){(0,Aa.reportError)(this,this.def.$dataError||Aa.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Aa.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=ae.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=ae.nil,r=ae.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:a,def:o}=this;n.if((0,ae.or)((0,ae._)`${i} === undefined`,r)),t!==ae.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==ae.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:a}=this;return(0,ae.or)(o(),s());function o(){if(n.length){if(!(r instanceof ae.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,ae._)`${(0,Hs.checkDataTypes)(l,r,a.opts.strictNumbers,Hs.DataType.Wrong)}`}return ae.nil}function s(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,ae._)`!${l}(${r})`}return ae.nil}}subschema(t,r){const n=(0,vc.getSubschema)(this.it,t);(0,vc.extendSubschemaData)(n,this.it,t),(0,vc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return nS(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=rn.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=rn.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,ae.Name)),!0}};Or.KeywordCxt=tg;function rg(e,t,r,n){const i=new tg(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Ha.funcKeywordCode)(i,r):"macro"in r?(0,Ha.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Ha.funcKeywordCode)(i,r)}const gS=/^\/(?:[^~]|~0|~1)*$/,vS=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ng(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,a;if(e==="")return fe.default.rootData;if(e[0]==="/"){if(!gS.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,a=fe.default.rootData}else{const f=vS.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+f[1];if(i=f[2],i==="#"){if(u>=t)throw new Error(l("property/index",u));return n[t-u]}if(u>t)throw new Error(l("data",u));if(a=r[t-u],!i)return a}let o=a;const s=i.split("/");for(const f of s)f&&(a=(0,ae._)`${a}${(0,ae.getProperty)((0,rn.unescapeJsonPointer)(f))}`,o=(0,ae._)`${o} && ${a}`);return o;function l(f,u){return`Cannot access ${f} ${u} levels up, current level is ${t}`}}Or.getData=ng;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});let _S=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};Oo.default=_S;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});const _c=yt;let $S=class extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,_c.resolveUrl)(t,r,n),this.missingSchema=(0,_c.normalizeId)((0,_c.getFullPath)(t,this.missingRef))}};Ao.default=$S;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.resolveSchema=Kt.getCompilingSchema=Kt.resolveRef=Kt.compileSchema=Kt.SchemaEnv=void 0;const vr=_e,wS=Oo,xn=xr,br=yt,_h=Ee,ES=Or;let Ol=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,br.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};Kt.SchemaEnv=Ol;function nf(e){const t=ig.call(this,e);if(t)return t;const r=(0,br.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:a}=this.opts,o=new vr.CodeGen(this.scope,{es5:n,lines:i,ownProperties:a});let s;e.$async&&(s=o.scopeValue("Error",{ref:wS.default,code:(0,vr._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const f={gen:o,allErrors:this.opts.allErrors,data:xn.default.data,parentData:xn.default.parentData,parentDataProperty:xn.default.parentDataProperty,dataNames:[xn.default.data],dataPathArr:[vr.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,vr.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:vr.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,vr._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,ES.validateFunctionCode)(f),o.optimize(this.opts.code.optimize);const c=o.toString();u=`${o.scopeRefs(xn.default.scope)}return ${c}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const p=new Function(`${xn.default.self}`,`${xn.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:c,scopeValues:o._values}),this.opts.unevaluated){const{props:_,items:w}=f;p.evaluated={props:_ instanceof vr.Name?void 0:_,items:w instanceof vr.Name?void 0:w,dynamicProps:_ instanceof vr.Name,dynamicItems:w instanceof vr.Name},p.source&&(p.source.evaluated=(0,vr.stringify)(p.evaluated))}return e.validate=p,e}catch(c){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),c}finally{this._compilations.delete(e)}}Kt.compileSchema=nf;function SS(e,t,r){var n;r=(0,br.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let a=PS.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;o&&(a=new Ol({schema:o,schemaId:s,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=bS.call(this,a)}Kt.resolveRef=SS;function bS(e){return(0,br.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:nf.call(this,e)}function ig(e){for(const t of this._compilations)if(TS(t,e))return t}Kt.getCompilingSchema=ig;function TS(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function PS(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Al.call(this,e,t)}function Al(e,t){const r=this.opts.uriResolver.parse(t),n=(0,br._getFullPath)(this.opts.uriResolver,r);let i=(0,br.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return $c.call(this,r,e);const a=(0,br.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const s=Al.call(this,e,o);return typeof(s==null?void 0:s.schema)!="object"?void 0:$c.call(this,r,s)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||nf.call(this,o),a===(0,br.normalizeId)(t)){const{schema:s}=o,{schemaId:l}=this.opts,f=s[l];return f&&(i=(0,br.resolveUrl)(this.opts.uriResolver,i,f)),new Ol({schema:s,schemaId:l,root:e,baseId:i})}return $c.call(this,r,o)}}Kt.resolveSchema=Al;const OS=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $c(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,_h.unescapeFragment)(s)];if(l===void 0)return;r=l;const f=typeof r=="object"&&r[this.opts.schemaId];!OS.has(s)&&f&&(t=(0,br.resolveUrl)(this.opts.uriResolver,t,f))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,_h.schemaHasRulesButRef)(r,this.RULES)){const s=(0,br.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Al.call(this,n,s)}const{schemaId:o}=this.opts;if(a=a||new Ol({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const AS="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",NS="Meta-schema for $data reference (JSON AnySchema extension proposal)",CS="object",IS=["$data"],RS={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},DS=!1,FS={$id:AS,description:NS,type:CS,required:IS,properties:RS,additionalProperties:DS};var af={},co={},kS={get exports(){return co},set exports(e){co=e}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Pt,function(r){function n(){for(var M=arguments.length,I=Array(M),x=0;x<M;x++)I[x]=arguments[x];if(I.length>1){I[0]=I[0].slice(0,-1);for(var W=I.length-1,K=1;K<W;++K)I[K]=I[K].slice(1,-1);return I[W]=I[W].slice(1),I.join("")}else return I[0]}function i(M){return"(?:"+M+")"}function a(M){return M===void 0?"undefined":M===null?"null":Object.prototype.toString.call(M).split(" ").pop().split("]").shift().toLowerCase()}function o(M){return M.toUpperCase()}function s(M){return M!=null?M instanceof Array?M:typeof M.length!="number"||M.split||M.setInterval||M.call?[M]:Array.prototype.slice.call(M):[]}function l(M,I){var x=M;if(I)for(var W in I)x[W]=I[W];return x}function f(M){var I="[A-Za-z]",x="[0-9]",W=n(x,"[A-Fa-f]"),K=i(i("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+i("%[89A-Fa-f]"+W+"%"+W+W)+"|"+i("%"+W+W)),ie="[\\:\\/\\?\\#\\[\\]\\@]",se="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",$e=n(ie,se),we=M?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qe=M?"[\\uE000-\\uF8FF]":"[]",ye=n(I,x,"[\\-\\.\\_\\~]",we);i(I+n(I,x,"[\\+\\-\\.]")+"*"),i(i(K+"|"+n(ye,se,"[\\:]"))+"*");var Re=i(i("25[0-5]")+"|"+i("2[0-4]"+x)+"|"+i("1"+x+x)+"|"+i("0?[1-9]"+x)+"|0?0?"+x),Ve=i(Re+"\\."+Re+"\\."+Re+"\\."+Re),ue=i(W+"{1,4}"),Te=i(i(ue+"\\:"+ue)+"|"+Ve),We=i(i(ue+"\\:")+"{6}"+Te),Le=i("\\:\\:"+i(ue+"\\:")+"{5}"+Te),Rr=i(i(ue)+"?\\:\\:"+i(ue+"\\:")+"{4}"+Te),or=i(i(i(ue+"\\:")+"{0,1}"+ue)+"?\\:\\:"+i(ue+"\\:")+"{3}"+Te),sr=i(i(i(ue+"\\:")+"{0,2}"+ue)+"?\\:\\:"+i(ue+"\\:")+"{2}"+Te),mr=i(i(i(ue+"\\:")+"{0,3}"+ue)+"?\\:\\:"+ue+"\\:"+Te),zr=i(i(i(ue+"\\:")+"{0,4}"+ue)+"?\\:\\:"+Te),Bt=i(i(i(ue+"\\:")+"{0,5}"+ue)+"?\\:\\:"+ue),at=i(i(i(ue+"\\:")+"{0,6}"+ue)+"?\\:\\:"),Gr=i([We,Le,Rr,or,sr,mr,zr,Bt,at].join("|")),yr=i(i(ye+"|"+K)+"+");i("[vV]"+W+"+\\."+n(ye,se,"[\\:]")+"+"),i(i(K+"|"+n(ye,se))+"*");var kn=i(K+"|"+n(ye,se,"[\\:\\@]"));return i(i(K+"|"+n(ye,se,"[\\@]"))+"+"),i(i(kn+"|"+n("[\\/\\?]",qe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",I,x,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ye,se),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ye,se),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ye,se),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ye,se),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ye,se,"[\\:\\@\\/\\?]",qe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ye,se,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ye,se),"g"),UNRESERVED:new RegExp(ye,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ye,$e),"g"),PCT_ENCODED:new RegExp(K,"g"),IPV4ADDRESS:new RegExp("^("+Ve+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Gr+")"+i(i("\\%25|\\%(?!"+W+"{2})")+"("+yr+")")+"?\\]?$")}}var u=f(!1),c=f(!0),h=function(){function M(I,x){var W=[],K=!0,ie=!1,se=void 0;try{for(var $e=I[Symbol.iterator](),we;!(K=(we=$e.next()).done)&&(W.push(we.value),!(x&&W.length===x));K=!0);}catch(qe){ie=!0,se=qe}finally{try{!K&&$e.return&&$e.return()}finally{if(ie)throw se}}return W}return function(I,x){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return M(I,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(M){if(Array.isArray(M)){for(var I=0,x=Array(M.length);I<M.length;I++)x[I]=M[I];return x}else return Array.from(M)},_=2147483647,w=36,g=1,m=26,y=38,S=700,O=72,j=128,P="-",E=/^xn--/,C=/[^\0-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=w-g,k=Math.floor,Q=String.fromCharCode;function X(M){throw new RangeError(V[M])}function Z(M,I){for(var x=[],W=M.length;W--;)x[W]=I(M[W]);return x}function ee(M,I){var x=M.split("@"),W="";x.length>1&&(W=x[0]+"@",M=x[1]),M=M.replace(b,".");var K=M.split("."),ie=Z(K,I).join(".");return W+ie}function Y(M){for(var I=[],x=0,W=M.length;x<W;){var K=M.charCodeAt(x++);if(K>=55296&&K<=56319&&x<W){var ie=M.charCodeAt(x++);(ie&64512)==56320?I.push(((K&1023)<<10)+(ie&1023)+65536):(I.push(K),x--)}else I.push(K)}return I}var z=function(I){return String.fromCodePoint.apply(String,p(I))},G=function(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:w},R=function(I,x){return I+22+75*(I<26)-((x!=0)<<5)},A=function(I,x,W){var K=0;for(I=W?k(I/S):I>>1,I+=k(I/x);I>q*m>>1;K+=w)I=k(I/q);return k(K+(q+1)*I/(I+y))},L=function(I){var x=[],W=I.length,K=0,ie=j,se=O,$e=I.lastIndexOf(P);$e<0&&($e=0);for(var we=0;we<$e;++we)I.charCodeAt(we)>=128&&X("not-basic"),x.push(I.charCodeAt(we));for(var qe=$e>0?$e+1:0;qe<W;){for(var ye=K,Re=1,Ve=w;;Ve+=w){qe>=W&&X("invalid-input");var ue=G(I.charCodeAt(qe++));(ue>=w||ue>k((_-K)/Re))&&X("overflow"),K+=ue*Re;var Te=Ve<=se?g:Ve>=se+m?m:Ve-se;if(ue<Te)break;var We=w-Te;Re>k(_/We)&&X("overflow"),Re*=We}var Le=x.length+1;se=A(K-ye,Le,ye==0),k(K/Le)>_-ie&&X("overflow"),ie+=k(K/Le),K%=Le,x.splice(K++,0,ie)}return String.fromCodePoint.apply(String,x)},N=function(I){var x=[];I=Y(I);var W=I.length,K=j,ie=0,se=O,$e=!0,we=!1,qe=void 0;try{for(var ye=I[Symbol.iterator](),Re;!($e=(Re=ye.next()).done);$e=!0){var Ve=Re.value;Ve<128&&x.push(Q(Ve))}}catch(un){we=!0,qe=un}finally{try{!$e&&ye.return&&ye.return()}finally{if(we)throw qe}}var ue=x.length,Te=ue;for(ue&&x.push(P);Te<W;){var We=_,Le=!0,Rr=!1,or=void 0;try{for(var sr=I[Symbol.iterator](),mr;!(Le=(mr=sr.next()).done);Le=!0){var zr=mr.value;zr>=K&&zr<We&&(We=zr)}}catch(un){Rr=!0,or=un}finally{try{!Le&&sr.return&&sr.return()}finally{if(Rr)throw or}}var Bt=Te+1;We-K>k((_-ie)/Bt)&&X("overflow"),ie+=(We-K)*Bt,K=We;var at=!0,Gr=!1,yr=void 0;try{for(var kn=I[Symbol.iterator](),Go;!(at=(Go=kn.next()).done);at=!0){var Ko=Go.value;if(Ko<K&&++ie>_&&X("overflow"),Ko==K){for(var $i=ie,Kr=w;;Kr+=w){var wi=Kr<=se?g:Kr>=se+m?m:Kr-se;if($i<wi)break;var cn=$i-wi,Ea=w-wi;x.push(Q(R(wi+cn%Ea,0))),$i=k(cn/Ea)}x.push(Q(R($i,0))),se=A(ie,Bt,Te==ue),ie=0,++Te}}}catch(un){Gr=!0,yr=un}finally{try{!at&&kn.return&&kn.return()}finally{if(Gr)throw yr}}++ie,++K}return x.join("")},d=function(I){return ee(I,function(x){return E.test(x)?L(x.slice(4).toLowerCase()):x})},$=function(I){return ee(I,function(x){return C.test(x)?"xn--"+N(x):x})},F={version:"2.1.0",ucs2:{decode:Y,encode:z},decode:L,encode:N,toASCII:$,toUnicode:d},T={};function v(M){var I=M.charCodeAt(0),x=void 0;return I<16?x="%0"+I.toString(16).toUpperCase():I<128?x="%"+I.toString(16).toUpperCase():I<2048?x="%"+(I>>6|192).toString(16).toUpperCase()+"%"+(I&63|128).toString(16).toUpperCase():x="%"+(I>>12|224).toString(16).toUpperCase()+"%"+(I>>6&63|128).toString(16).toUpperCase()+"%"+(I&63|128).toString(16).toUpperCase(),x}function H(M){for(var I="",x=0,W=M.length;x<W;){var K=parseInt(M.substr(x+1,2),16);if(K<128)I+=String.fromCharCode(K),x+=3;else if(K>=194&&K<224){if(W-x>=6){var ie=parseInt(M.substr(x+4,2),16);I+=String.fromCharCode((K&31)<<6|ie&63)}else I+=M.substr(x,6);x+=6}else if(K>=224){if(W-x>=9){var se=parseInt(M.substr(x+4,2),16),$e=parseInt(M.substr(x+7,2),16);I+=String.fromCharCode((K&15)<<12|(se&63)<<6|$e&63)}else I+=M.substr(x,9);x+=9}else I+=M.substr(x,3),x+=3}return I}function U(M,I){function x(W){var K=H(W);return K.match(I.UNRESERVED)?K:W}return M.scheme&&(M.scheme=String(M.scheme).replace(I.PCT_ENCODED,x).toLowerCase().replace(I.NOT_SCHEME,"")),M.userinfo!==void 0&&(M.userinfo=String(M.userinfo).replace(I.PCT_ENCODED,x).replace(I.NOT_USERINFO,v).replace(I.PCT_ENCODED,o)),M.host!==void 0&&(M.host=String(M.host).replace(I.PCT_ENCODED,x).toLowerCase().replace(I.NOT_HOST,v).replace(I.PCT_ENCODED,o)),M.path!==void 0&&(M.path=String(M.path).replace(I.PCT_ENCODED,x).replace(M.scheme?I.NOT_PATH:I.NOT_PATH_NOSCHEME,v).replace(I.PCT_ENCODED,o)),M.query!==void 0&&(M.query=String(M.query).replace(I.PCT_ENCODED,x).replace(I.NOT_QUERY,v).replace(I.PCT_ENCODED,o)),M.fragment!==void 0&&(M.fragment=String(M.fragment).replace(I.PCT_ENCODED,x).replace(I.NOT_FRAGMENT,v).replace(I.PCT_ENCODED,o)),M}function re(M){return M.replace(/^0*(.*)/,"$1")||"0"}function he(M,I){var x=M.match(I.IPV4ADDRESS)||[],W=h(x,2),K=W[1];return K?K.split(".").map(re).join("."):M}function be(M,I){var x=M.match(I.IPV6ADDRESS)||[],W=h(x,3),K=W[1],ie=W[2];if(K){for(var se=K.toLowerCase().split("::").reverse(),$e=h(se,2),we=$e[0],qe=$e[1],ye=qe?qe.split(":").map(re):[],Re=we.split(":").map(re),Ve=I.IPV4ADDRESS.test(Re[Re.length-1]),ue=Ve?7:8,Te=Re.length-ue,We=Array(ue),Le=0;Le<ue;++Le)We[Le]=ye[Le]||Re[Te+Le]||"";Ve&&(We[ue-1]=he(We[ue-1],I));var Rr=We.reduce(function(Bt,at,Gr){if(!at||at==="0"){var yr=Bt[Bt.length-1];yr&&yr.index+yr.length===Gr?yr.length++:Bt.push({index:Gr,length:1})}return Bt},[]),or=Rr.sort(function(Bt,at){return at.length-Bt.length})[0],sr=void 0;if(or&&or.length>1){var mr=We.slice(0,or.index),zr=We.slice(or.index+or.length);sr=mr.join(":")+"::"+zr.join(":")}else sr=We.join(":");return ie&&(sr+="%"+ie),sr}else return M}var De=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ke="".match(/(){0}/)[1]===void 0;function ke(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},W=I.iri!==!1?c:u;I.reference==="suffix"&&(M=(I.scheme?I.scheme+":":"")+"//"+M);var K=M.match(De);if(K){Ke?(x.scheme=K[1],x.userinfo=K[3],x.host=K[4],x.port=parseInt(K[5],10),x.path=K[6]||"",x.query=K[7],x.fragment=K[8],isNaN(x.port)&&(x.port=K[5])):(x.scheme=K[1]||void 0,x.userinfo=M.indexOf("@")!==-1?K[3]:void 0,x.host=M.indexOf("//")!==-1?K[4]:void 0,x.port=parseInt(K[5],10),x.path=K[6]||"",x.query=M.indexOf("?")!==-1?K[7]:void 0,x.fragment=M.indexOf("#")!==-1?K[8]:void 0,isNaN(x.port)&&(x.port=M.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?K[4]:void 0)),x.host&&(x.host=be(he(x.host,W),W)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",I.reference&&I.reference!=="suffix"&&I.reference!==x.reference&&(x.error=x.error||"URI is not a "+I.reference+" reference.");var ie=T[(I.scheme||x.scheme||"").toLowerCase()];if(!I.unicodeSupport&&(!ie||!ie.unicodeSupport)){if(x.host&&(I.domainHost||ie&&ie.domainHost))try{x.host=F.toASCII(x.host.replace(W.PCT_ENCODED,H).toLowerCase())}catch(se){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+se}U(x,u)}else U(x,W);ie&&ie.parse&&ie.parse(x,I)}else x.error=x.error||"URI can not be parsed.";return x}function Ce(M,I){var x=I.iri!==!1?c:u,W=[];return M.userinfo!==void 0&&(W.push(M.userinfo),W.push("@")),M.host!==void 0&&W.push(be(he(String(M.host),x),x).replace(x.IPV6ADDRESS,function(K,ie,se){return"["+ie+(se?"%25"+se:"")+"]"})),(typeof M.port=="number"||typeof M.port=="string")&&(W.push(":"),W.push(String(M.port))),W.length?W.join(""):void 0}var Ye=/^\.\.?\//,qt=/^\/\.(\/|$)/,Nt=/^\/\.\.(\/|$)/,Ct=/^\/?(?:.|\n)*?(?=\/|$)/;function it(M){for(var I=[];M.length;)if(M.match(Ye))M=M.replace(Ye,"");else if(M.match(qt))M=M.replace(qt,"/");else if(M.match(Nt))M=M.replace(Nt,"/"),I.pop();else if(M==="."||M==="..")M="";else{var x=M.match(Ct);if(x){var W=x[0];M=M.slice(W.length),I.push(W)}else throw new Error("Unexpected dot segment condition")}return I.join("")}function Ze(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=I.iri?c:u,W=[],K=T[(I.scheme||M.scheme||"").toLowerCase()];if(K&&K.serialize&&K.serialize(M,I),M.host&&!x.IPV6ADDRESS.test(M.host)){if(I.domainHost||K&&K.domainHost)try{M.host=I.iri?F.toUnicode(M.host):F.toASCII(M.host.replace(x.PCT_ENCODED,H).toLowerCase())}catch($e){M.error=M.error||"Host's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+$e}}U(M,x),I.reference!=="suffix"&&M.scheme&&(W.push(M.scheme),W.push(":"));var ie=Ce(M,I);if(ie!==void 0&&(I.reference!=="suffix"&&W.push("//"),W.push(ie),M.path&&M.path.charAt(0)!=="/"&&W.push("/")),M.path!==void 0){var se=M.path;!I.absolutePath&&(!K||!K.absolutePath)&&(se=it(se)),ie===void 0&&(se=se.replace(/^\/\//,"/%2F")),W.push(se)}return M.query!==void 0&&(W.push("?"),W.push(M.query)),M.fragment!==void 0&&(W.push("#"),W.push(M.fragment)),W.join("")}function ir(M,I){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=arguments[3],K={};return W||(M=ke(Ze(M,x),x),I=ke(Ze(I,x),x)),x=x||{},!x.tolerant&&I.scheme?(K.scheme=I.scheme,K.userinfo=I.userinfo,K.host=I.host,K.port=I.port,K.path=it(I.path||""),K.query=I.query):(I.userinfo!==void 0||I.host!==void 0||I.port!==void 0?(K.userinfo=I.userinfo,K.host=I.host,K.port=I.port,K.path=it(I.path||""),K.query=I.query):(I.path?(I.path.charAt(0)==="/"?K.path=it(I.path):((M.userinfo!==void 0||M.host!==void 0||M.port!==void 0)&&!M.path?K.path="/"+I.path:M.path?K.path=M.path.slice(0,M.path.lastIndexOf("/")+1)+I.path:K.path=I.path,K.path=it(K.path)),K.query=I.query):(K.path=M.path,I.query!==void 0?K.query=I.query:K.query=M.query),K.userinfo=M.userinfo,K.host=M.host,K.port=M.port),K.scheme=M.scheme),K.fragment=I.fragment,K}function hr(M,I,x){var W=l({scheme:"null"},x);return Ze(ir(ke(M,W),ke(I,W),W,!0),W)}function It(M,I){return typeof M=="string"?M=Ze(ke(M,I),I):a(M)==="object"&&(M=ke(Ze(M,I),I)),M}function Vt(M,I,x){return typeof M=="string"?M=Ze(ke(M,x),x):a(M)==="object"&&(M=Ze(M,x)),typeof I=="string"?I=Ze(ke(I,x),x):a(I)==="object"&&(I=Ze(I,x)),M===I}function pr(M,I){return M&&M.toString().replace(!I||!I.iri?u.ESCAPE:c.ESCAPE,v)}function ot(M,I){return M&&M.toString().replace(!I||!I.iri?u.PCT_ENCODED:c.PCT_ENCODED,H)}var et={scheme:"http",domainHost:!0,parse:function(I,x){return I.host||(I.error=I.error||"HTTP URIs must have a host."),I},serialize:function(I,x){var W=String(I.scheme).toLowerCase()==="https";return(I.port===(W?443:80)||I.port==="")&&(I.port=void 0),I.path||(I.path="/"),I}},ma={scheme:"https",domainHost:et.domainHost,parse:et.parse,serialize:et.serialize};function ya(M){return typeof M.secure=="boolean"?M.secure:String(M.scheme).toLowerCase()==="wss"}var Fn={scheme:"ws",domainHost:!0,parse:function(I,x){var W=I;return W.secure=ya(W),W.resourceName=(W.path||"/")+(W.query?"?"+W.query:""),W.path=void 0,W.query=void 0,W},serialize:function(I,x){if((I.port===(ya(I)?443:80)||I.port==="")&&(I.port=void 0),typeof I.secure=="boolean"&&(I.scheme=I.secure?"wss":"ws",I.secure=void 0),I.resourceName){var W=I.resourceName.split("?"),K=h(W,2),ie=K[0],se=K[1];I.path=ie&&ie!=="/"?ie:void 0,I.query=se,I.resourceName=void 0}return I.fragment=void 0,I}},ga={scheme:"wss",domainHost:Fn.domainHost,parse:Fn.parse,serialize:Fn.serialize},vi={},va="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Zt="[0-9A-Fa-f]",ac=i(i("%[EFef]"+Zt+"%"+Zt+Zt+"%"+Zt+Zt)+"|"+i("%[89A-Fa-f]"+Zt+"%"+Zt+Zt)+"|"+i("%"+Zt+Zt)),Br="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Vo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",oc=n(Vo,'[\\"\\\\]'),sc="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",_a=new RegExp(va,"g"),ar=new RegExp(ac,"g"),$a=new RegExp(n("[^]",Br,"[\\.]",'[\\"]',oc),"g"),_i=new RegExp(n("[^]",va,sc),"g"),wa=_i;function Hr(M){var I=H(M);return I.match(_a)?I:M}var Bo={scheme:"mailto",parse:function(I,x){var W=I,K=W.to=W.path?W.path.split(","):[];if(W.path=void 0,W.query){for(var ie=!1,se={},$e=W.query.split("&"),we=0,qe=$e.length;we<qe;++we){var ye=$e[we].split("=");switch(ye[0]){case"to":for(var Re=ye[1].split(","),Ve=0,ue=Re.length;Ve<ue;++Ve)K.push(Re[Ve]);break;case"subject":W.subject=ot(ye[1],x);break;case"body":W.body=ot(ye[1],x);break;default:ie=!0,se[ot(ye[0],x)]=ot(ye[1],x);break}}ie&&(W.headers=se)}W.query=void 0;for(var Te=0,We=K.length;Te<We;++Te){var Le=K[Te].split("@");if(Le[0]=ot(Le[0]),x.unicodeSupport)Le[1]=ot(Le[1],x).toLowerCase();else try{Le[1]=F.toASCII(ot(Le[1],x).toLowerCase())}catch(Rr){W.error=W.error||"Email address's domain name can not be converted to ASCII via punycode: "+Rr}K[Te]=Le.join("@")}return W},serialize:function(I,x){var W=I,K=s(I.to);if(K){for(var ie=0,se=K.length;ie<se;++ie){var $e=String(K[ie]),we=$e.lastIndexOf("@"),qe=$e.slice(0,we).replace(ar,Hr).replace(ar,o).replace($a,v),ye=$e.slice(we+1);try{ye=x.iri?F.toUnicode(ye):F.toASCII(ot(ye,x).toLowerCase())}catch(Te){W.error=W.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+Te}K[ie]=qe+"@"+ye}W.path=K.join(",")}var Re=I.headers=I.headers||{};I.subject&&(Re.subject=I.subject),I.body&&(Re.body=I.body);var Ve=[];for(var ue in Re)Re[ue]!==vi[ue]&&Ve.push(ue.replace(ar,Hr).replace(ar,o).replace(_i,v)+"="+Re[ue].replace(ar,Hr).replace(ar,o).replace(wa,v));return Ve.length&&(W.query=Ve.join("&")),W}},lc=/^([^\:]+)\:(.*)/,Ho={scheme:"urn",parse:function(I,x){var W=I.path&&I.path.match(lc),K=I;if(W){var ie=x.scheme||K.scheme||"urn",se=W[1].toLowerCase(),$e=W[2],we=ie+":"+(x.nid||se),qe=T[we];K.nid=se,K.nss=$e,K.path=void 0,qe&&(K=qe.parse(K,x))}else K.error=K.error||"URN can not be parsed.";return K},serialize:function(I,x){var W=x.scheme||I.scheme||"urn",K=I.nid,ie=W+":"+(x.nid||K),se=T[ie];se&&(I=se.serialize(I,x));var $e=I,we=I.nss;return $e.path=(K||x.nid)+":"+we,$e}},cc=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,zo={scheme:"urn:uuid",parse:function(I,x){var W=I;return W.uuid=W.nss,W.nss=void 0,!x.tolerant&&(!W.uuid||!W.uuid.match(cc))&&(W.error=W.error||"UUID is not valid."),W},serialize:function(I,x){var W=I;return W.nss=(I.uuid||"").toLowerCase(),W}};T[et.scheme]=et,T[ma.scheme]=ma,T[Fn.scheme]=Fn,T[ga.scheme]=ga,T[Bo.scheme]=Bo,T[Ho.scheme]=Ho,T[zo.scheme]=zo,r.SCHEMES=T,r.pctEncChar=v,r.pctDecChars=H,r.parse=ke,r.removeDotSegments=it,r.serialize=Ze,r.resolveComponents=ir,r.resolve=hr,r.normalize=It,r.equal=Vt,r.escapeComponent=pr,r.unescapeComponent=ot,Object.defineProperty(r,"__esModule",{value:!0})})})(kS,co);Object.defineProperty(af,"__esModule",{value:!0});const ag=co;ag.code='require("ajv/dist/runtime/uri").default';af.default=ag;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Or;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=_e;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Oo,i=Ao,a=ai,o=Kt,s=_e,l=yt,f=Po,u=Ee,c=FS,h=af,p=(R,A)=>new RegExp(R,A);p.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function S(R){var A,L,N,d,$,F,T,v,H,U,re,he,be,De,Ke,ke,Ce,Ye,qt,Nt,Ct,it,Ze,ir,hr;const It=R.strict,Vt=(A=R.code)===null||A===void 0?void 0:A.optimize,pr=Vt===!0||Vt===void 0?1:Vt||0,ot=(N=(L=R.code)===null||L===void 0?void 0:L.regExp)!==null&&N!==void 0?N:p,et=(d=R.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(F=($=R.strictSchema)!==null&&$!==void 0?$:It)!==null&&F!==void 0?F:!0,strictNumbers:(v=(T=R.strictNumbers)!==null&&T!==void 0?T:It)!==null&&v!==void 0?v:!0,strictTypes:(U=(H=R.strictTypes)!==null&&H!==void 0?H:It)!==null&&U!==void 0?U:"log",strictTuples:(he=(re=R.strictTuples)!==null&&re!==void 0?re:It)!==null&&he!==void 0?he:"log",strictRequired:(De=(be=R.strictRequired)!==null&&be!==void 0?be:It)!==null&&De!==void 0?De:!1,code:R.code?{...R.code,optimize:pr,regExp:ot}:{optimize:pr,regExp:ot},loopRequired:(Ke=R.loopRequired)!==null&&Ke!==void 0?Ke:y,loopEnum:(ke=R.loopEnum)!==null&&ke!==void 0?ke:y,meta:(Ce=R.meta)!==null&&Ce!==void 0?Ce:!0,messages:(Ye=R.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(qt=R.inlineRefs)!==null&&qt!==void 0?qt:!0,schemaId:(Nt=R.schemaId)!==null&&Nt!==void 0?Nt:"$id",addUsedSchema:(Ct=R.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(it=R.validateSchema)!==null&&it!==void 0?it:!0,validateFormats:(Ze=R.validateFormats)!==null&&Ze!==void 0?Ze:!0,unicodeRegExp:(ir=R.unicodeRegExp)!==null&&ir!==void 0?ir:!0,int32range:(hr=R.int32range)!==null&&hr!==void 0?hr:!0,uriResolver:et}}class O{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...S(A)};const{es5:L,lines:N}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:w,es5:L,lines:N}),this.logger=k(A.logger);const d=A.validateFormats;A.validateFormats=!1,this.RULES=(0,a.getRules)(),j.call(this,g,A,"NOT SUPPORTED"),j.call(this,m,A,"DEPRECATED","warn"),this._metaOpts=V.call(this),A.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&b.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),E.call(this),A.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:L,schemaId:N}=this.opts;let d=c;N==="id"&&(d={...c},d.id=d.$id,delete d.$id),L&&A&&this.addMetaSchema(d,d[N],!1)}defaultMeta(){const{meta:A,schemaId:L}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[L]||A:void 0}validate(A,L){let N;if(typeof A=="string"){if(N=this.getSchema(A),!N)throw new Error(`no schema with key or ref "${A}"`)}else N=this.compile(A);const d=N(L);return"$async"in N||(this.errors=N.errors),d}compile(A,L){const N=this._addSchema(A,L);return N.validate||this._compileSchemaEnv(N)}compileAsync(A,L){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return d.call(this,A,L);async function d(U,re){await $.call(this,U.$schema);const he=this._addSchema(U,re);return he.validate||F.call(this,he)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function F(U){try{return this._compileSchemaEnv(U)}catch(re){if(!(re instanceof i.default))throw re;return T.call(this,re),await v.call(this,re.missingSchema),F.call(this,U)}}function T({missingSchema:U,missingRef:re}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${re} cannot be resolved`)}async function v(U){const re=await H.call(this,U);this.refs[U]||await $.call(this,re.$schema),this.refs[U]||this.addSchema(re,U,L)}async function H(U){const re=this._loading[U];if(re)return re;try{return await(this._loading[U]=N(U))}finally{delete this._loading[U]}}}addSchema(A,L,N,d=this.opts.validateSchema){if(Array.isArray(A)){for(const F of A)this.addSchema(F,void 0,N,d);return this}let $;if(typeof A=="object"){const{schemaId:F}=this.opts;if($=A[F],$!==void 0&&typeof $!="string")throw new Error(`schema ${F} must be string`)}return L=(0,l.normalizeId)(L||$),this._checkUnique(L),this.schemas[L]=this._addSchema(A,N,L,d,!0),this}addMetaSchema(A,L,N=this.opts.validateSchema){return this.addSchema(A,L,!0,N),this}validateSchema(A,L){if(typeof A=="boolean")return!0;let N;if(N=A.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(N,A);if(!d&&L){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(A){let L;for(;typeof(L=P.call(this,A))=="string";)A=L;if(L===void 0){const{schemaId:N}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:N});if(L=o.resolveSchema.call(this,d,A),!L)return;this.refs[A]=L}return L.validate||this._compileSchemaEnv(L)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const L=P.call(this,A);return typeof L=="object"&&this._cache.delete(L.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const L=A;this._cache.delete(L);let N=A[this.opts.schemaId];return N&&(N=(0,l.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const L of A)this.addKeyword(L);return this}addKeyword(A,L){let N;if(typeof A=="string")N=A,typeof L=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),L.keyword=N);else if(typeof A=="object"&&L===void 0){if(L=A,N=L.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,N,L),!L)return(0,u.eachItem)(N,$=>Z.call(this,$)),this;Y.call(this,L);const d={...L,type:(0,f.getJSONTypes)(L.type),schemaType:(0,f.getJSONTypes)(L.schemaType)};return(0,u.eachItem)(N,d.type.length===0?$=>Z.call(this,$,d):$=>d.type.forEach(F=>Z.call(this,$,d,F))),this}getKeyword(A){const L=this.RULES.all[A];return typeof L=="object"?L.definition:!!L}removeKeyword(A){const{RULES:L}=this;delete L.keywords[A],delete L.all[A];for(const N of L.rules){const d=N.rules.findIndex($=>$.keyword===A);d>=0&&N.rules.splice(d,1)}return this}addFormat(A,L){return typeof L=="string"&&(L=new RegExp(L)),this.formats[A]=L,this}errorsText(A=this.errors,{separator:L=", ",dataVar:N="data"}={}){return!A||A.length===0?"No errors":A.map(d=>`${N}${d.instancePath} ${d.message}`).reduce((d,$)=>d+L+$)}$dataMetaSchema(A,L){const N=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const d of L){const $=d.split("/").slice(1);let F=A;for(const T of $)F=F[T];for(const T in N){const v=N[T];if(typeof v!="object")continue;const{$data:H}=v.definition,U=F[T];H&&U&&(F[T]=G(U))}}return A}_removeAllSchemas(A,L){for(const N in A){const d=A[N];(!L||L.test(N))&&(typeof d=="string"?delete A[N]:d&&!d.meta&&(this._cache.delete(d.schema),delete A[N]))}}_addSchema(A,L,N,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let F;const{schemaId:T}=this.opts;if(typeof A=="object")F=A[T];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let v=this._cache.get(A);if(v!==void 0)return v;N=(0,l.normalizeId)(F||N);const H=l.getSchemaRefs.call(this,A,N);return v=new o.SchemaEnv({schema:A,schemaId:T,meta:L,baseId:N,localRefs:H}),this._cache.set(v.schema,v),$&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=v),d&&this.validateSchema(A,!0),v}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const L=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=L}}}e.default=O,O.ValidationError=n.default,O.MissingRefError=i.default;function j(R,A,L,N="error"){for(const d in R){const $=d;$ in A&&this.logger[N](`${L}: option ${d}. ${R[$]}`)}}function P(R){return R=(0,l.normalizeId)(R),this.schemas[R]||this.refs[R]}function E(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const A in R)this.addSchema(R[A],A)}function C(){for(const R in this.opts.formats){const A=this.opts.formats[R];A&&this.addFormat(R,A)}}function b(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in R){const L=R[A];L.keyword||(L.keyword=A),this.addKeyword(L)}}function V(){const R={...this.opts};for(const A of _)delete R[A];return R}const q={log(){},warn(){},error(){}};function k(R){if(R===!1)return q;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const Q=/^[a-z_$][a-z0-9_$:-]*$/i;function X(R,A){const{RULES:L}=this;if((0,u.eachItem)(R,N=>{if(L.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!Q.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function Z(R,A,L){var N;const d=A==null?void 0:A.post;if(L&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let F=d?$.post:$.rules.find(({type:v})=>v===L);if(F||(F={type:L,rules:[]},$.rules.push(F)),$.keywords[R]=!0,!A)return;const T={keyword:R,definition:{...A,type:(0,f.getJSONTypes)(A.type),schemaType:(0,f.getJSONTypes)(A.schemaType)}};A.before?ee.call(this,F,T,A.before):F.rules.push(T),$.all[R]=T,(N=A.implements)===null||N===void 0||N.forEach(v=>this.addKeyword(v))}function ee(R,A,L){const N=R.rules.findIndex(d=>d.keyword===L);N>=0?R.rules.splice(N,0,A):(R.rules.push(A),this.logger.warn(`rule ${L} is not defined`))}function Y(R){let{metaSchema:A}=R;A!==void 0&&(R.$data&&this.opts.$data&&(A=G(A)),R.validateSchema=this.compile(A,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function G(R){return{anyOf:[R,z]}}})(Ly);var of={},sf={},lf={};Object.defineProperty(lf,"__esModule",{value:!0});const LS={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};lf.default=LS;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.callRef=oi.getValidate=void 0;const jS=Ao,$h=ge,zt=_e,bi=xr,wh=Kt,ts=Ee,US={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:a,validateName:o,opts:s,self:l}=n,{root:f}=a;if((r==="#"||r==="#/")&&i===f.baseId)return c();const u=wh.resolveRef.call(l,f,i,r);if(u===void 0)throw new jS.default(n.opts.uriResolver,i,r);if(u instanceof wh.SchemaEnv)return h(u);return p(u);function c(){if(a===f)return Es(e,o,a,a.$async);const _=t.scopeValue("root",{ref:f});return Es(e,(0,zt._)`${_}.validate`,f,f.$async)}function h(_){const w=og(e,_);Es(e,w,_,_.$async)}function p(_){const w=t.scopeValue("schema",s.code.source===!0?{ref:_,code:(0,zt.stringify)(_)}:{ref:_}),g=t.name("valid"),m=e.subschema({schema:_,dataTypes:[],schemaPath:zt.nil,topSchemaRef:w,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function og(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,zt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}oi.getValidate=og;function Es(e,t,r,n){const{gen:i,it:a}=e,{allErrors:o,schemaEnv:s,opts:l}=a,f=l.passContext?bi.default.this:zt.nil;n?u():c();function u(){if(!s.$async)throw new Error("async schema referenced by sync schema");const _=i.let("valid");i.try(()=>{i.code((0,zt._)`await ${(0,$h.callValidateCode)(e,t,f)}`),p(t),o||i.assign(_,!0)},w=>{i.if((0,zt._)`!(${w} instanceof ${a.ValidationError})`,()=>i.throw(w)),h(w),o||i.assign(_,!1)}),e.ok(_)}function c(){e.result((0,$h.callValidateCode)(e,t,f),()=>p(t),()=>h(t))}function h(_){const w=(0,zt._)`${_}.errors`;i.assign(bi.default.vErrors,(0,zt._)`${bi.default.vErrors} === null ? ${w} : ${bi.default.vErrors}.concat(${w})`),i.assign(bi.default.errors,(0,zt._)`${bi.default.vErrors}.length`)}function p(_){var w;if(!a.opts.unevaluated)return;const g=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=ts.mergeEvaluated.props(i,g.props,a.props));else{const m=i.var("props",(0,zt._)`${_}.evaluated.props`);a.props=ts.mergeEvaluated.props(i,m,a.props,zt.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=ts.mergeEvaluated.items(i,g.items,a.items));else{const m=i.var("items",(0,zt._)`${_}.evaluated.items`);a.items=ts.mergeEvaluated.items(i,m,a.items,zt.Name)}}}oi.callRef=Es;oi.default=US;Object.defineProperty(sf,"__esModule",{value:!0});const MS=lf,xS=oi,qS=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",MS.default,xS.default];sf.default=qS;var cf={},uf={};Object.defineProperty(uf,"__esModule",{value:!0});const zs=_e,pn=zs.operators,Gs={maximum:{okStr:"<=",ok:pn.LTE,fail:pn.GT},minimum:{okStr:">=",ok:pn.GTE,fail:pn.LT},exclusiveMaximum:{okStr:"<",ok:pn.LT,fail:pn.GTE},exclusiveMinimum:{okStr:">",ok:pn.GT,fail:pn.LTE}},VS={message:({keyword:e,schemaCode:t})=>(0,zs.str)`must be ${Gs[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,zs._)`{comparison: ${Gs[e].okStr}, limit: ${t}}`},BS={keyword:Object.keys(Gs),type:"number",schemaType:"number",$data:!0,error:VS,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,zs._)`${r} ${Gs[t].fail} ${n} || isNaN(${r})`)}};uf.default=BS;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});const za=_e,HS={message:({schemaCode:e})=>(0,za.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,za._)`{multipleOf: ${e}}`},zS={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:HS,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,a=i.opts.multipleOfPrecision,o=t.let("res"),s=a?(0,za._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,za._)`${o} !== parseInt(${o})`;e.fail$data((0,za._)`(${n} === 0 || (${o} = ${r}/${n}, ${s}))`)}};ff.default=zS;var df={},hf={};Object.defineProperty(hf,"__esModule",{value:!0});function sg(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}hf.default=sg;sg.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(df,"__esModule",{value:!0});const Kn=_e,GS=Ee,KS=hf,YS={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Kn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Kn._)`{limit: ${e}}`},WS={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:YS,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,a=t==="maxLength"?Kn.operators.GT:Kn.operators.LT,o=i.opts.unicode===!1?(0,Kn._)`${r}.length`:(0,Kn._)`${(0,GS.useFunc)(e.gen,KS.default)}(${r})`;e.fail$data((0,Kn._)`${o} ${a} ${n}`)}};df.default=WS;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});const JS=ge,Ks=_e,XS={message:({schemaCode:e})=>(0,Ks.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ks._)`{pattern: ${e}}`},QS={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:XS,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:a}=e,o=a.opts.unicodeRegExp?"u":"",s=r?(0,Ks._)`(new RegExp(${i}, ${o}))`:(0,JS.usePattern)(e,n);e.fail$data((0,Ks._)`!${s}.test(${t})`)}};pf.default=QS;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});const Ga=_e,ZS={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ga.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ga._)`{limit: ${e}}`},eb={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:ZS,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Ga.operators.GT:Ga.operators.LT;e.fail$data((0,Ga._)`Object.keys(${r}).length ${i} ${n}`)}};mf.default=eb;var yf={};Object.defineProperty(yf,"__esModule",{value:!0});const Na=ge,Ka=_e,tb=Ee,rb={message:({params:{missingProperty:e}})=>(0,Ka.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ka._)`{missingProperty: ${e}}`},nb={keyword:"required",type:"object",schemaType:"array",$data:!0,error:rb,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:a,it:o}=e,{opts:s}=o;if(!a&&r.length===0)return;const l=r.length>=s.loopRequired;if(o.allErrors?f():u(),s.strictRequired){const p=e.parentSchema.properties,{definedProperties:_}=e.it;for(const w of r)if((p==null?void 0:p[w])===void 0&&!_.has(w)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${w}" is not defined at "${g}" (strictRequired)`;(0,tb.checkStrictMode)(o,m,o.opts.strictRequired)}}function f(){if(l||a)e.block$data(Ka.nil,c);else for(const p of r)(0,Na.checkReportMissingProp)(e,p)}function u(){const p=t.let("missing");if(l||a){const _=t.let("valid",!0);e.block$data(_,()=>h(p,_)),e.ok(_)}else t.if((0,Na.checkMissingProp)(e,r,p)),(0,Na.reportMissingProp)(e,p),t.else()}function c(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,Na.noPropertyInData)(t,i,p,s.ownProperties),()=>e.error())})}function h(p,_){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(_,(0,Na.propertyInData)(t,i,p,s.ownProperties)),t.if((0,Ka.not)(_),()=>{e.error(),t.break()})},Ka.nil)}}};yf.default=nb;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});const Ya=_e,ib={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ya.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ya._)`{limit: ${e}}`},ab={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ib,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Ya.operators.GT:Ya.operators.LT;e.fail$data((0,Ya._)`${r}.length ${i} ${n}`)}};gf.default=ab;var vf={},No={};Object.defineProperty(No,"__esModule",{value:!0});const lg=Pl;lg.code='require("ajv/dist/runtime/equal").default';No.default=lg;Object.defineProperty(vf,"__esModule",{value:!0});const wc=Po,ht=_e,ob=Ee,sb=No,lb={message:({params:{i:e,j:t}})=>(0,ht.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,ht._)`{i: ${e}, j: ${t}}`},cb={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:lb,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:a,schemaCode:o,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),f=a.items?(0,wc.getSchemaTypes)(a.items):[];e.block$data(l,u,(0,ht._)`${o} === false`),e.ok(l);function u(){const _=t.let("i",(0,ht._)`${r}.length`),w=t.let("j");e.setParams({i:_,j:w}),t.assign(l,!0),t.if((0,ht._)`${_} > 1`,()=>(c()?h:p)(_,w))}function c(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function h(_,w){const g=t.name("item"),m=(0,wc.checkDataTypes)(f,g,s.opts.strictNumbers,wc.DataType.Wrong),y=t.const("indices",(0,ht._)`{}`);t.for((0,ht._)`;${_}--;`,()=>{t.let(g,(0,ht._)`${r}[${_}]`),t.if(m,(0,ht._)`continue`),f.length>1&&t.if((0,ht._)`typeof ${g} == "string"`,(0,ht._)`${g} += "_"`),t.if((0,ht._)`typeof ${y}[${g}] == "number"`,()=>{t.assign(w,(0,ht._)`${y}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,ht._)`${y}[${g}] = ${_}`)})}function p(_,w){const g=(0,ob.useFunc)(t,sb.default),m=t.name("outer");t.label(m).for((0,ht._)`;${_}--;`,()=>t.for((0,ht._)`${w} = ${_}; ${w}--;`,()=>t.if((0,ht._)`${g}(${r}[${_}], ${r}[${w}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};vf.default=cb;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});const hu=_e,ub=Ee,fb=No,db={message:"must be equal to constant",params:({schemaCode:e})=>(0,hu._)`{allowedValue: ${e}}`},hb={keyword:"const",$data:!0,error:db,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,hu._)`!${(0,ub.useFunc)(t,fb.default)}(${r}, ${i})`):e.fail((0,hu._)`${a} !== ${r}`)}};_f.default=hb;var $f={};Object.defineProperty($f,"__esModule",{value:!0});const xa=_e,pb=Ee,mb=No,yb={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,xa._)`{allowedValues: ${e}}`},gb={keyword:"enum",schemaType:"array",$data:!0,error:yb,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:a,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=o.opts.loopEnum;let l;const f=()=>l??(l=(0,pb.useFunc)(t,mb.default));let u;if(s||n)u=t.let("valid"),e.block$data(u,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=t.const("vSchema",a);u=(0,xa.or)(...i.map((_,w)=>h(p,w)))}e.pass(u);function c(){t.assign(u,!1),t.forOf("v",a,p=>t.if((0,xa._)`${f()}(${r}, ${p})`,()=>t.assign(u,!0).break()))}function h(p,_){const w=i[_];return typeof w=="object"&&w!==null?(0,xa._)`${f()}(${r}, ${p}[${_}])`:(0,xa._)`${r} === ${w}`}}};$f.default=gb;Object.defineProperty(cf,"__esModule",{value:!0});const vb=uf,_b=ff,$b=df,wb=pf,Eb=mf,Sb=yf,bb=gf,Tb=vf,Pb=_f,Ob=$f,Ab=[vb.default,_b.default,$b.default,wb.default,Eb.default,Sb.default,bb.default,Tb.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Pb.default,Ob.default];cf.default=Ab;var wf={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.validateAdditionalItems=void 0;const Yn=_e,pu=Ee,Nb={message:({params:{len:e}})=>(0,Yn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Yn._)`{limit: ${e}}`},Cb={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Nb,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,pu.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}cg(e,n)}};function cg(e,t){const{gen:r,schema:n,data:i,keyword:a,it:o}=e;o.items=!0;const s=r.const("len",(0,Yn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Yn._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,pu.alwaysValidSchema)(o,n)){const f=r.var("valid",(0,Yn._)`${s} <= ${t.length}`);r.if((0,Yn.not)(f),()=>l(f)),e.ok(f)}function l(f){r.forRange("i",t.length,s,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:pu.Type.Num},f),o.allErrors||r.if((0,Yn.not)(f),()=>r.break())})}}ca.validateAdditionalItems=cg;ca.default=Cb;var Ef={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.validateTuple=void 0;const Eh=_e,Ss=Ee,Ib=ge,Rb={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ug(e,"additionalItems",t);r.items=!0,!(0,Ss.alwaysValidSchema)(r,t)&&e.ok((0,Ib.validateArray)(e))}};function ug(e,t,r=e.schema){const{gen:n,parentSchema:i,data:a,keyword:o,it:s}=e;u(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=Ss.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),f=n.const("len",(0,Eh._)`${a}.length`);r.forEach((c,h)=>{(0,Ss.alwaysValidSchema)(s,c)||(n.if((0,Eh._)`${f} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(c){const{opts:h,errSchemaPath:p}=s,_=r.length,w=_===c.minItems&&(_===c.maxItems||c[t]===!1);if(h.strictTuples&&!w){const g=`"${o}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,Ss.checkStrictMode)(s,g,h.strictTuples)}}}ua.validateTuple=ug;ua.default=Rb;Object.defineProperty(Ef,"__esModule",{value:!0});const Db=ua,Fb={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Db.validateTuple)(e,"items")};Ef.default=Fb;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});const Sh=_e,kb=Ee,Lb=ge,jb=ca,Ub={message:({params:{len:e}})=>(0,Sh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Sh._)`{limit: ${e}}`},Mb={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ub,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,kb.alwaysValidSchema)(n,t)&&(i?(0,jb.validateAdditionalItems)(e,i):e.ok((0,Lb.validateArray)(e)))}};Sf.default=Mb;var bf={};Object.defineProperty(bf,"__esModule",{value:!0});const ur=_e,rs=Ee,xb={message:({params:{min:e,max:t}})=>t===void 0?(0,ur.str)`must contain at least ${e} valid item(s)`:(0,ur.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ur._)`{minContains: ${e}}`:(0,ur._)`{minContains: ${e}, maxContains: ${t}}`},qb={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:xb,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:a}=e;let o,s;const{minContains:l,maxContains:f}=n;a.opts.next?(o=l===void 0?1:l,s=f):o=1;const u=t.const("len",(0,ur._)`${i}.length`);if(e.setParams({min:o,max:s}),s===void 0&&o===0){(0,rs.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&o>s){(0,rs.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,rs.alwaysValidSchema)(a,r)){let w=(0,ur._)`${u} >= ${o}`;s!==void 0&&(w=(0,ur._)`${w} && ${u} <= ${s}`),e.pass(w);return}a.items=!0;const c=t.name("valid");s===void 0&&o===1?p(c,()=>t.if(c,()=>t.break())):o===0?(t.let(c,!0),s!==void 0&&t.if((0,ur._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const w=t.name("_valid"),g=t.let("count",0);p(w,()=>t.if(w,()=>_(g)))}function p(w,g){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:rs.Type.Num,compositeRule:!0},w),g()})}function _(w){t.code((0,ur._)`${w}++`),s===void 0?t.if((0,ur._)`${w} >= ${o}`,()=>t.assign(c,!0).break()):(t.if((0,ur._)`${w} > ${s}`,()=>t.assign(c,!1).break()),o===1?t.assign(c,!0):t.if((0,ur._)`${w} >= ${o}`,()=>t.assign(c,!0)))}}};bf.default=qb;var fg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=_e,r=Ee,n=ge;e.error={message:({params:{property:l,depsCount:f,deps:u}})=>{const c=f===1?"property":"properties";return(0,t.str)`must have ${c} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:u,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${f},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,u]=a(l);o(l,f),s(l,u)}};function a({schema:l}){const f={},u={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?f:u;h[c]=l[c]}return[f,u]}function o(l,f=l.schema){const{gen:u,data:c,it:h}=l;if(Object.keys(f).length===0)return;const p=u.let("missing");for(const _ in f){const w=f[_];if(w.length===0)continue;const g=(0,n.propertyInData)(u,c,_,h.opts.ownProperties);l.setParams({property:_,depsCount:w.length,deps:w.join(", ")}),h.allErrors?u.if(g,()=>{for(const m of w)(0,n.checkReportMissingProp)(l,m)}):(u.if((0,t._)`${g} && (${(0,n.checkMissingProp)(l,w,p)})`),(0,n.reportMissingProp)(l,p),u.else())}}e.validatePropertyDeps=o;function s(l,f=l.schema){const{gen:u,data:c,keyword:h,it:p}=l,_=u.name("valid");for(const w in f)(0,r.alwaysValidSchema)(p,f[w])||(u.if((0,n.propertyInData)(u,c,w,p.opts.ownProperties),()=>{const g=l.subschema({keyword:h,schemaProp:w},_);l.mergeValidEvaluated(g,_)},()=>u.var(_,!0)),l.ok(_))}e.validateSchemaDeps=s,e.default=i})(fg);var Tf={};Object.defineProperty(Tf,"__esModule",{value:!0});const dg=_e,Vb=Ee,Bb={message:"property name must be valid",params:({params:e})=>(0,dg._)`{propertyName: ${e.propertyName}}`},Hb={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Bb,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Vb.alwaysValidSchema)(i,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,dg.not)(a),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(a)}};Tf.default=Hb;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});const ns=ge,$r=_e,zb=xr,is=Ee,Gb={message:"must NOT have additional properties",params:({params:e})=>(0,$r._)`{additionalProperty: ${e.additionalProperty}}`},Kb={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Gb,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,is.alwaysValidSchema)(o,r))return;const f=(0,ns.allSchemaProperties)(n.properties),u=(0,ns.allSchemaProperties)(n.patternProperties);c(),e.ok((0,$r._)`${a} === ${zb.default.errors}`);function c(){t.forIn("key",i,g=>{!f.length&&!u.length?_(g):t.if(h(g),()=>_(g))})}function h(g){let m;if(f.length>8){const y=(0,is.schemaRefOrVal)(o,n.properties,"properties");m=(0,ns.isOwnProperty)(t,y,g)}else f.length?m=(0,$r.or)(...f.map(y=>(0,$r._)`${g} === ${y}`)):m=$r.nil;return u.length&&(m=(0,$r.or)(m,...u.map(y=>(0,$r._)`${(0,ns.usePattern)(e,y)}.test(${g})`))),(0,$r.not)(m)}function p(g){t.code((0,$r._)`delete ${i}[${g}]`)}function _(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,is.alwaysValidSchema)(o,r)){const m=t.name("valid");l.removeAdditional==="failing"?(w(g,m,!1),t.if((0,$r.not)(m),()=>{e.reset(),p(g)})):(w(g,m),s||t.if((0,$r.not)(m),()=>t.break()))}}function w(g,m,y){const S={keyword:"additionalProperties",dataProp:g,dataPropType:is.Type.Str};y===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,m)}}};Nl.default=Kb;var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});const Yb=Or,bh=ge,Ec=Ee,Th=Nl,Wb={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Th.default.code(new Yb.KeywordCxt(a,Th.default,"additionalProperties"));const o=(0,bh.allSchemaProperties)(r);for(const c of o)a.definedProperties.add(c);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Ec.mergeEvaluated.props(t,(0,Ec.toHash)(o),a.props));const s=o.filter(c=>!(0,Ec.alwaysValidSchema)(a,r[c]));if(s.length===0)return;const l=t.name("valid");for(const c of s)f(c)?u(c):(t.if((0,bh.propertyInData)(t,i,c,a.opts.ownProperties)),u(c),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function f(c){return a.opts.useDefaults&&!a.compositeRule&&r[c].default!==void 0}function u(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};Pf.default=Wb;var Of={};Object.defineProperty(Of,"__esModule",{value:!0});const Ph=ge,as=_e,Oh=Ee,Ah=Ee,Jb={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:a}=e,{opts:o}=a,s=(0,Ph.allSchemaProperties)(r),l=s.filter(w=>(0,Oh.alwaysValidSchema)(a,r[w]));if(s.length===0||l.length===s.length&&(!a.opts.unevaluated||a.props===!0))return;const f=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof as.Name)&&(a.props=(0,Ah.evaluatedPropsToName)(t,a.props));const{props:c}=a;h();function h(){for(const w of s)f&&p(w),a.allErrors?_(w):(t.var(u,!0),_(w),t.if(u))}function p(w){for(const g in f)new RegExp(w).test(g)&&(0,Oh.checkStrictMode)(a,`property ${g} matches pattern ${w} (use allowMatchingProperties)`)}function _(w){t.forIn("key",n,g=>{t.if((0,as._)`${(0,Ph.usePattern)(e,w)}.test(${g})`,()=>{const m=l.includes(w);m||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:g,dataPropType:Ah.Type.Str},u),a.opts.unevaluated&&c!==!0?t.assign((0,as._)`${c}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,as.not)(u),()=>t.break())})})}}};Of.default=Jb;var Af={};Object.defineProperty(Af,"__esModule",{value:!0});const Xb=Ee,Qb={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Xb.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Af.default=Qb;var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});const Zb=ge,e1={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Zb.validateUnion,error:{message:"must match a schema in anyOf"}};Nf.default=e1;var Cf={};Object.defineProperty(Cf,"__esModule",{value:!0});const bs=_e,t1=Ee,r1={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,bs._)`{passingSchemas: ${e.passing}}`},n1={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:r1,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(f),e.result(o,()=>e.reset(),()=>e.error(!0));function f(){a.forEach((u,c)=>{let h;(0,t1.alwaysValidSchema)(i,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,bs._)`${l} && ${o}`).assign(o,!1).assign(s,(0,bs._)`[${s}, ${c}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(s,c),h&&e.mergeEvaluated(h,bs.Name)})})}}};Cf.default=n1;var If={};Object.defineProperty(If,"__esModule",{value:!0});const i1=Ee,a1={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((a,o)=>{if((0,i1.alwaysValidSchema)(n,a))return;const s=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(s)})}};If.default=a1;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});const Ys=_e,hg=Ee,o1={message:({params:e})=>(0,Ys.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ys._)`{failingKeyword: ${e.ifClause}}`},s1={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:o1,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,hg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Nh(n,"then"),a=Nh(n,"else");if(!i&&!a)return;const o=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(s,f("then",u),f("else",u))}else i?t.if(s,f("then")):t.if((0,Ys.not)(s),f("else"));e.pass(o,()=>e.error(!0));function l(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(u)}function f(u,c){return()=>{const h=e.subschema({keyword:u},s);t.assign(o,s),e.mergeValidEvaluated(h,o),c?t.assign(c,(0,Ys._)`${u}`):e.setParams({ifClause:u})}}}};function Nh(e,t){const r=e.schema[t];return r!==void 0&&!(0,hg.alwaysValidSchema)(e,r)}Rf.default=s1;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});const l1=Ee,c1={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,l1.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Df.default=c1;Object.defineProperty(wf,"__esModule",{value:!0});const u1=ca,f1=Ef,d1=ua,h1=Sf,p1=bf,m1=fg,y1=Tf,g1=Nl,v1=Pf,_1=Of,$1=Af,w1=Nf,E1=Cf,S1=If,b1=Rf,T1=Df;function P1(e=!1){const t=[$1.default,w1.default,E1.default,S1.default,b1.default,T1.default,y1.default,g1.default,m1.default,v1.default,_1.default];return e?t.push(f1.default,h1.default):t.push(u1.default,d1.default),t.push(p1.default),t}wf.default=P1;var Ff={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});const Xe=_e,O1={message:({schemaCode:e})=>(0,Xe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Xe._)`{format: ${e}}`},A1={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:O1,code(e,t){const{gen:r,data:n,$data:i,schema:a,schemaCode:o,it:s}=e,{opts:l,errSchemaPath:f,schemaEnv:u,self:c}=s;if(!l.validateFormats)return;i?h():p();function h(){const _=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),w=r.const("fDef",(0,Xe._)`${_}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,Xe._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(g,(0,Xe._)`${w}.type || "string"`).assign(m,(0,Xe._)`${w}.validate`),()=>r.assign(g,(0,Xe._)`"string"`).assign(m,w)),e.fail$data((0,Xe.or)(y(),S()));function y(){return l.strictSchema===!1?Xe.nil:(0,Xe._)`${o} && !${m}`}function S(){const O=u.$async?(0,Xe._)`(${w}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Xe._)`${m}(${n})`,j=(0,Xe._)`(typeof ${m} == "function" ? ${O} : ${m}.test(${n}))`;return(0,Xe._)`${m} && ${m} !== true && ${g} === ${t} && !${j}`}}function p(){const _=c.formats[a];if(!_){y();return}if(_===!0)return;const[w,g,m]=S(_);w===t&&e.pass(O());function y(){if(l.strictSchema===!1){c.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function S(j){const P=j instanceof RegExp?(0,Xe.regexpCode)(j):l.code.formats?(0,Xe._)`${l.code.formats}${(0,Xe.getProperty)(a)}`:void 0,E=r.scopeValue("formats",{key:a,ref:j,code:P});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,Xe._)`${E}.validate`]:["string",j,E]}function O(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Xe._)`await ${m}(${n})`}return typeof g=="function"?(0,Xe._)`${m}(${n})`:(0,Xe._)`${m}.test(${n})`}}}};kf.default=A1;Object.defineProperty(Ff,"__esModule",{value:!0});const N1=kf,C1=[N1.default];Ff.default=C1;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.contentVocabulary=Xi.metadataVocabulary=void 0;Xi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Xi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(of,"__esModule",{value:!0});const I1=sf,R1=cf,D1=wf,F1=Ff,Ch=Xi,k1=[I1.default,R1.default,(0,D1.default)(),F1.default,Ch.metadataVocabulary,Ch.contentVocabulary];of.default=k1;var Lf={},pg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(pg);Object.defineProperty(Lf,"__esModule",{value:!0});const ki=_e,mu=pg,Ih=Kt,L1=Ee,j1={message:({params:{discrError:e,tagName:t}})=>e===mu.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ki._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},U1={keyword:"discriminator",type:"object",schemaType:"object",error:j1,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:a}=e,{oneOf:o}=i;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",(0,ki._)`${r}${(0,ki.getProperty)(s)}`);t.if((0,ki._)`typeof ${f} == "string"`,()=>u(),()=>e.error(!1,{discrError:mu.DiscrError.Tag,tag:f,tagName:s})),e.ok(l);function u(){const p=h();t.if(!1);for(const _ in p)t.elseIf((0,ki._)`${f} === ${_}`),t.assign(l,c(p[_]));t.else(),e.error(!1,{discrError:mu.DiscrError.Mapping,tag:f,tagName:s}),t.endIf()}function c(p){const _=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:p},_);return e.mergeEvaluated(w,ki.Name),_}function h(){var p;const _={},w=m(i);let g=!0;for(let O=0;O<o.length;O++){let j=o[O];j!=null&&j.$ref&&!(0,L1.schemaHasRulesButRef)(j,a.self.RULES)&&(j=Ih.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,j==null?void 0:j.$ref),j instanceof Ih.SchemaEnv&&(j=j.schema));const P=(p=j==null?void 0:j.properties)===null||p===void 0?void 0:p[s];if(typeof P!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);g=g&&(w||m(j)),y(P,O)}if(!g)throw new Error(`discriminator: "${s}" must be required`);return _;function m({required:O}){return Array.isArray(O)&&O.includes(s)}function y(O,j){if(O.const)S(O.const,j);else if(O.enum)for(const P of O.enum)S(P,j);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function S(O,j){if(typeof O!="string"||O in _)throw new Error(`discriminator: "${s}" values must be unique strings`);_[O]=j}}}};Lf.default=U1;const M1="http://json-schema.org/draft-07/schema#",x1="http://json-schema.org/draft-07/schema#",q1="Core schema meta-schema",V1={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},B1=["object","boolean"],H1={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},z1={$schema:M1,$id:x1,title:q1,definitions:V1,type:B1,properties:H1,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Ly,n=of,i=Lf,a=z1,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(_,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=Or;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var u=_e;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var c=Oo;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Ao;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(tE,Bs);var Ws={},G1={get exports(){return Ws},set exports(e){Ws=e}},mg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(b,V){return{validate:b,compare:V}}e.fullFormats={date:t(a,o),time:t(l,f),"date-time":t(c,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:C,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:O},int64:{type:"number",validate:j},float:{type:"number",validate:P},double:{type:"number",validate:P},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(b){return b%4===0&&(b%100!==0||b%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(b){const V=n.exec(b);if(!V)return!1;const q=+V[1],k=+V[2],Q=+V[3];return k>=1&&k<=12&&Q>=1&&Q<=(k===2&&r(q)?29:i[k])}function o(b,V){if(b&&V)return b>V?1:b<V?-1:0}const s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(b,V){const q=s.exec(b);if(!q)return!1;const k=+q[1],Q=+q[2],X=+q[3],Z=q[5];return(k<=23&&Q<=59&&X<=59||k===23&&Q===59&&X===60)&&(!V||Z!=="")}function f(b,V){if(!(b&&V))return;const q=s.exec(b),k=s.exec(V);if(q&&k)return b=q[1]+q[2]+q[3]+(q[4]||""),V=k[1]+k[2]+k[3]+(k[4]||""),b>V?1:b<V?-1:0}const u=/t|\s/i;function c(b){const V=b.split(u);return V.length===2&&a(V[0])&&l(V[1],!0)}function h(b,V){if(!(b&&V))return;const[q,k]=b.split(u),[Q,X]=V.split(u),Z=o(q,Q);if(Z!==void 0)return Z||f(k,X)}const p=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w(b){return p.test(b)&&_.test(b)}const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(b){return g.lastIndex=0,g.test(b)}const y=-(2**31),S=2**31-1;function O(b){return Number.isInteger(b)&&b<=S&&b>=y}function j(b){return Number.isInteger(b)}function P(){return!0}const E=/[^\\]\\Z/;function C(b){if(E.test(b))return!1;try{return new RegExp(b),!0}catch{return!1}}})(mg);var yg={},Js={},K1={get exports(){return Js},set exports(e){Js=e}},gg={},Ar={},Qi={},Co={},me={},uo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((S,O)=>`${S}${O}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((S,O)=>(O instanceof r&&(S[O.str]=(S[O.str]||0)+1),S),{})}}e._Code=n,e.nil=new n("");function i(m,...y){const S=[m[0]];let O=0;for(;O<y.length;)s(S,y[O]),S.push(m[++O]);return new n(S)}e._=i;const a=new n("+");function o(m,...y){const S=[p(m[0])];let O=0;for(;O<y.length;)S.push(a),s(S,y[O]),S.push(a,p(m[++O]));return l(S),new n(S)}e.str=o;function s(m,y){y instanceof n?m.push(...y._items):y instanceof r?m.push(y):m.push(c(y))}e.addCodeArg=s;function l(m){let y=1;for(;y<m.length-1;){if(m[y]===a){const S=f(m[y-1],m[y+1]);if(S!==void 0){m.splice(y-1,3,S);continue}m[y++]="+"}y++}}function f(m,y){if(y==='""')return m;if(m==='""')return y;if(typeof m=="string")return y instanceof r||m[m.length-1]!=='"'?void 0:typeof y!="string"?`${m.slice(0,-1)}${y}"`:y[0]==='"'?m.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(m instanceof r))return`"${m}${y.slice(1)}`}function u(m,y){return y.emptyStr()?m:m.emptyStr()?y:o`${m}${y}`}e.strConcat=u;function c(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:p(Array.isArray(m)?m.join(","):m)}function h(m){return new n(p(m))}e.stringify=h;function p(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function _(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):i`[${m}]`}e.getProperty=_;function w(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=w;function g(m){return new n(m.toString())}e.regexpCode=g})(uo);var yu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=uo;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:u}={}){this._names={},this._prefixes=f,this._parent=u}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const u=this._names[f]||this._nameGroup(f);return`${f}${u.index++}`}_nameGroup(f){var u,c;if(!((c=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||c===void 0)&&c.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class a extends t.Name{constructor(f,u){super(u),this.prefix=f}setValue(f,{property:u,itemIndex:c}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(u)}[${c}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:t.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,u){var c;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(f),{prefix:p}=h,_=(c=u.key)!==null&&c!==void 0?c:u.ref;let w=this._values[p];if(w){const y=w.get(_);if(y)return y}else w=this._values[p]=new Map;w.set(_,h);const g=this._scope[p]||(this._scope[p]=[]),m=g.length;return g[m]=u.ref,h.setValue(u,{property:p,itemIndex:m}),h}getValue(f,u){const c=this._values[f];if(c)return c.get(u)}scopeRefs(f,u=this._values){return this._reduceValues(u,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${f}${c.scopePath}`})}scopeCode(f=this._values,u,c){return this._reduceValues(f,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,c)}_reduceValues(f,u,c={},h){let p=t.nil;for(const _ in f){const w=f[_];if(!w)continue;const g=c[_]=c[_]||new Map;w.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let y=u(m);if(y){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${S} ${m} = ${y};${this.opts._n}`}else if(y=h==null?void 0:h(m))p=(0,t._)`${p}${y}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return p}}e.ValueScope=s})(yu);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=uo,r=yu;var n=uo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=yu;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(d,$){return this}}class o extends a{constructor(d,$,F){super(),this.varKind=d,this.name=$,this.rhs=F}render({es5:d,_n:$}){const F=d?r.varKinds.var:this.varKind,T=this.rhs===void 0?"":` = ${this.rhs}`;return`${F} ${this.name}${T};`+$}optimizeNames(d,$){if(d[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,d,$)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(d,$,F){super(),this.lhs=d,this.rhs=$,this.sideEffects=F}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,$){if(!(this.lhs instanceof t.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,d,$),this}get names(){const d=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Q(d,this.rhs)}}class l extends s{constructor(d,$,F,T){super(d,F,T),this.op=$}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class f extends a{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends a{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class c extends a{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class h extends a{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,$){return this.code=X(this.code,d,$),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends a{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce(($,F)=>$+F.render(d),"")}optimizeNodes(){const{nodes:d}=this;let $=d.length;for(;$--;){const F=d[$].optimizeNodes();Array.isArray(F)?d.splice($,1,...F):F?d[$]=F:d.splice($,1)}return d.length>0?this:void 0}optimizeNames(d,$){const{nodes:F}=this;let T=F.length;for(;T--;){const v=F[T];v.optimizeNames(d,$)||(Z(d,v.names),F.splice(T,1))}return F.length>0?this:void 0}get names(){return this.nodes.reduce((d,$)=>k(d,$.names),{})}}class _ extends p{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class w extends p{}class g extends _{}g.kind="else";class m extends _{constructor(d,$){super($),this.condition=d}render(d){let $=`if(${this.condition})`+super.render(d);return this.else&&($+="else "+this.else.render(d)),$}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let $=this.else;if($){const F=$.optimizeNodes();$=this.else=Array.isArray(F)?new g(F):F}if($)return d===!1?$ instanceof m?$:$.nodes:this.nodes.length?this:new m(ee(d),$ instanceof m?[$]:$.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,$){var F;if(this.else=(F=this.else)===null||F===void 0?void 0:F.optimizeNames(d,$),!!(super.optimizeNames(d,$)||this.else))return this.condition=X(this.condition,d,$),this}get names(){const d=super.names;return Q(d,this.condition),this.else&&k(d,this.else.names),d}}m.kind="if";class y extends _{}y.kind="for";class S extends y{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iteration=X(this.iteration,d,$),this}get names(){return k(super.names,this.iteration.names)}}class O extends y{constructor(d,$,F,T){super(),this.varKind=d,this.name=$,this.from=F,this.to=T}render(d){const $=d.es5?r.varKinds.var:this.varKind,{name:F,from:T,to:v}=this;return`for(${$} ${F}=${T}; ${F}<${v}; ${F}++)`+super.render(d)}get names(){const d=Q(super.names,this.from);return Q(d,this.to)}}class j extends y{constructor(d,$,F,T){super(),this.loop=d,this.varKind=$,this.name=F,this.iterable=T}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,$){if(super.optimizeNames(d,$))return this.iterable=X(this.iterable,d,$),this}get names(){return k(super.names,this.iterable.names)}}class P extends _{constructor(d,$,F){super(),this.name=d,this.args=$,this.async=F}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}P.kind="func";class E extends p{render(d){return"return "+super.render(d)}}E.kind="return";class C extends _{render(d){let $="try"+super.render(d);return this.catch&&($+=this.catch.render(d)),this.finally&&($+=this.finally.render(d)),$}optimizeNodes(){var d,$;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),($=this.finally)===null||$===void 0||$.optimizeNodes(),this}optimizeNames(d,$){var F,T;return super.optimizeNames(d,$),(F=this.catch)===null||F===void 0||F.optimizeNames(d,$),(T=this.finally)===null||T===void 0||T.optimizeNames(d,$),this}get names(){const d=super.names;return this.catch&&k(d,this.catch.names),this.finally&&k(d,this.finally.names),d}}class b extends _{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}b.kind="catch";class V extends _{render(d){return"finally"+super.render(d)}}V.kind="finally";class q{constructor(d,$={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...$,_n:$.lines?`
`:""},this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,$){const F=this._extScope.value(d,$);return(this._values[F.prefix]||(this._values[F.prefix]=new Set)).add(F),F}getScopeValue(d,$){return this._extScope.getValue(d,$)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,$,F,T){const v=this._scope.toName($);return F!==void 0&&T&&(this._constants[v.str]=F),this._leafNode(new o(d,v,F)),v}const(d,$,F){return this._def(r.varKinds.const,d,$,F)}let(d,$,F){return this._def(r.varKinds.let,d,$,F)}var(d,$,F){return this._def(r.varKinds.var,d,$,F)}assign(d,$,F){return this._leafNode(new s(d,$,F))}add(d,$){return this._leafNode(new l(d,e.operators.ADD,$))}code(d){return typeof d=="function"?d():d!==t.nil&&this._leafNode(new h(d)),this}object(...d){const $=["{"];for(const[F,T]of d)$.length>1&&$.push(","),$.push(F),(F!==T||this.opts.es5)&&($.push(":"),(0,t.addCodeArg)($,T));return $.push("}"),new t._Code($)}if(d,$,F){if(this._blockNode(new m(d)),$&&F)this.code($).else().code(F).endIf();else if($)this.code($).endIf();else if(F)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new m(d))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(d,$){return this._blockNode(d),$&&this.code($).endFor(),this}for(d,$){return this._for(new S(d),$)}forRange(d,$,F,T,v=this.opts.es5?r.varKinds.var:r.varKinds.let){const H=this._scope.toName(d);return this._for(new O(v,H,$,F),()=>T(H))}forOf(d,$,F,T=r.varKinds.const){const v=this._scope.toName(d);if(this.opts.es5){const H=$ instanceof t.Name?$:this.var("_arr",$);return this.forRange("_i",0,(0,t._)`${H}.length`,U=>{this.var(v,(0,t._)`${H}[${U}]`),F(v)})}return this._for(new j("of",T,v,$),()=>F(v))}forIn(d,$,F,T=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,t._)`Object.keys(${$})`,F);const v=this._scope.toName(d);return this._for(new j("in",T,v,$),()=>F(v))}endFor(){return this._endBlockNode(y)}label(d){return this._leafNode(new f(d))}break(d){return this._leafNode(new u(d))}return(d){const $=new E;if(this._blockNode($),this.code(d),$.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(d,$,F){if(!$&&!F)throw new Error('CodeGen: "try" without "catch" and "finally"');const T=new C;if(this._blockNode(T),this.code(d),$){const v=this.name("e");this._currNode=T.catch=new b(v),$(v)}return F&&(this._currNode=T.finally=new V,this.code(F)),this._endBlockNode(b,V)}throw(d){return this._leafNode(new c(d))}block(d,$){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock($),this}endBlock(d){const $=this._blockStarts.pop();if($===void 0)throw new Error("CodeGen: not in self-balancing block");const F=this._nodes.length-$;if(F<0||d!==void 0&&F!==d)throw new Error(`CodeGen: wrong number of nodes: ${F} vs ${d} expected`);return this._nodes.length=$,this}func(d,$=t.nil,F,T){return this._blockNode(new P(d,$,F)),T&&this.code(T).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,$){const F=this._currNode;if(F instanceof d||$&&F instanceof $)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${$?`${d.kind}/${$.kind}`:d.kind}"`)}_elseNode(d){const $=this._currNode;if(!($ instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=$.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const $=this._nodes;$[$.length-1]=d}}e.CodeGen=q;function k(N,d){for(const $ in d)N[$]=(N[$]||0)+(d[$]||0);return N}function Q(N,d){return d instanceof t._CodeOrName?k(N,d.names):N}function X(N,d,$){if(N instanceof t.Name)return F(N);if(!T(N))return N;return new t._Code(N._items.reduce((v,H)=>(H instanceof t.Name&&(H=F(H)),H instanceof t._Code?v.push(...H._items):v.push(H),v),[]));function F(v){const H=$[v.str];return H===void 0||d[v.str]!==1?v:(delete d[v.str],H)}function T(v){return v instanceof t._Code&&v._items.some(H=>H instanceof t.Name&&d[H.str]===1&&$[H.str]!==void 0)}}function Z(N,d){for(const $ in d)N[$]=(N[$]||0)-(d[$]||0)}function ee(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${L(N)}`}e.not=ee;const Y=A(e.operators.AND);function z(...N){return N.reduce(Y)}e.and=z;const G=A(e.operators.OR);function R(...N){return N.reduce(G)}e.or=R;function A(N){return(d,$)=>d===t.nil?$:$===t.nil?d:(0,t._)`${L(d)} ${N} ${L($)}`}function L(N){return N instanceof t.Name?N:(0,t._)`(${N})`}})(me);var Se={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=me,r=uo;function n(P){const E={};for(const C of P)E[C]=!0;return E}e.toHash=n;function i(P,E){return typeof E=="boolean"?E:Object.keys(E).length===0?!0:(a(P,E),!o(E,P.self.RULES.all))}e.alwaysValidSchema=i;function a(P,E=P.schema){const{opts:C,self:b}=P;if(!C.strictSchema||typeof E=="boolean")return;const V=b.RULES.keywords;for(const q in E)V[q]||j(P,`unknown keyword: "${q}"`)}e.checkUnknownRules=a;function o(P,E){if(typeof P=="boolean")return!P;for(const C in P)if(E[C])return!0;return!1}e.schemaHasRules=o;function s(P,E){if(typeof P=="boolean")return!P;for(const C in P)if(C!=="$ref"&&E.all[C])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:P,schemaPath:E},C,b,V){if(!V){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${P}${E}${(0,t.getProperty)(b)}`}e.schemaRefOrVal=l;function f(P){return h(decodeURIComponent(P))}e.unescapeFragment=f;function u(P){return encodeURIComponent(c(P))}e.escapeFragment=u;function c(P){return typeof P=="number"?`${P}`:P.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(P){return P.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function p(P,E){if(Array.isArray(P))for(const C of P)E(C);else E(P)}e.eachItem=p;function _({mergeNames:P,mergeToName:E,mergeValues:C,resultToName:b}){return(V,q,k,Q)=>{const X=k===void 0?q:k instanceof t.Name?(q instanceof t.Name?P(V,q,k):E(V,q,k),k):q instanceof t.Name?(E(V,k,q),q):C(q,k);return Q===t.Name&&!(X instanceof t.Name)?b(V,X):X}}e.mergeEvaluated={props:_({mergeNames:(P,E,C)=>P.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>{P.if((0,t._)`${E} === true`,()=>P.assign(C,!0),()=>P.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${E})`))}),mergeToName:(P,E,C)=>P.if((0,t._)`${C} !== true`,()=>{E===!0?P.assign(C,!0):(P.assign(C,(0,t._)`${C} || {}`),g(P,C,E))}),mergeValues:(P,E)=>P===!0?!0:{...P,...E},resultToName:w}),items:_({mergeNames:(P,E,C)=>P.if((0,t._)`${C} !== true && ${E} !== undefined`,()=>P.assign(C,(0,t._)`${E} === true ? true : ${C} > ${E} ? ${C} : ${E}`)),mergeToName:(P,E,C)=>P.if((0,t._)`${C} !== true`,()=>P.assign(C,E===!0?!0:(0,t._)`${C} > ${E} ? ${C} : ${E}`)),mergeValues:(P,E)=>P===!0?!0:Math.max(P,E),resultToName:(P,E)=>P.var("items",E)})};function w(P,E){if(E===!0)return P.var("props",!0);const C=P.var("props",(0,t._)`{}`);return E!==void 0&&g(P,C,E),C}e.evaluatedPropsToName=w;function g(P,E,C){Object.keys(C).forEach(b=>P.assign((0,t._)`${E}${(0,t.getProperty)(b)}`,!0))}e.setEvaluated=g;const m={};function y(P,E){return P.scopeValue("func",{ref:E,code:m[E.code]||(m[E.code]=new r._Code(E.code))})}e.useFunc=y;var S;(function(P){P[P.Num=0]="Num",P[P.Str=1]="Str"})(S=e.Type||(e.Type={}));function O(P,E,C){if(P instanceof t.Name){const b=E===S.Num;return C?b?(0,t._)`"[" + ${P} + "]"`:(0,t._)`"['" + ${P} + "']"`:b?(0,t._)`"/" + ${P}`:(0,t._)`"/" + ${P}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(P).toString():"/"+c(P)}e.getErrorPath=O;function j(P,E,C=P.opts.strictSchema){if(C){if(E=`strict mode: ${E}`,C===!0)throw new Error(E);P.self.logger.warn(E)}}e.checkStrictMode=j})(Se);var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const Et=me,Y1={data:new Et.Name("data"),valCxt:new Et.Name("valCxt"),instancePath:new Et.Name("instancePath"),parentData:new Et.Name("parentData"),parentDataProperty:new Et.Name("parentDataProperty"),rootData:new Et.Name("rootData"),dynamicAnchors:new Et.Name("dynamicAnchors"),vErrors:new Et.Name("vErrors"),errors:new Et.Name("errors"),this:new Et.Name("this"),self:new Et.Name("self"),scope:new Et.Name("scope"),json:new Et.Name("json"),jsonPos:new Et.Name("jsonPos"),jsonLen:new Et.Name("jsonLen"),jsonPart:new Et.Name("jsonPart")};qr.default=Y1;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=me,r=Se,n=qr;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,m=e.keywordError,y,S){const{it:O}=g,{gen:j,compositeRule:P,allErrors:E}=O,C=c(g,m,y);S??(P||E)?l(j,C):f(O,(0,t._)`[${C}]`)}e.reportError=i;function a(g,m=e.keywordError,y){const{it:S}=g,{gen:O,compositeRule:j,allErrors:P}=S,E=c(g,m,y);l(O,E),j||P||f(S,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:g,keyword:m,schemaValue:y,data:S,errsCount:O,it:j}){if(O===void 0)throw new Error("ajv implementation error");const P=g.name("err");g.forRange("i",O,n.default.errors,E=>{g.const(P,(0,t._)`${n.default.vErrors}[${E}]`),g.if((0,t._)`${P}.instancePath === undefined`,()=>g.assign((0,t._)`${P}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),g.assign((0,t._)`${P}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${m}`),j.opts.verbose&&(g.assign((0,t._)`${P}.schema`,y),g.assign((0,t._)`${P}.data`,S))})}e.extendErrors=s;function l(g,m){const y=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),g.code((0,t._)`${n.default.errors}++`)}function f(g,m){const{gen:y,validateName:S,schemaEnv:O}=g;O.$async?y.throw((0,t._)`new ${g.ValidationError}(${m})`):(y.assign((0,t._)`${S}.errors`,m),y.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(g,m,y){const{createErrors:S}=g.it;return S===!1?(0,t._)`{}`:h(g,m,y)}function h(g,m,y={}){const{gen:S,it:O}=g,j=[p(O,y),_(g,y)];return w(g,m,j),S.object(...j)}function p({errorPath:g},{instancePath:m}){const y=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function _({keyword:g,it:{errSchemaPath:m}},{schemaPath:y,parentSchema:S}){let O=S?m:(0,t.str)`${m}/${g}`;return y&&(O=(0,t.str)`${O}${(0,r.getErrorPath)(y,r.Type.Str)}`),[u.schemaPath,O]}function w(g,{params:m,message:y},S){const{keyword:O,data:j,schemaValue:P,it:E}=g,{opts:C,propertyName:b,topSchemaRef:V,schemaPath:q}=E;S.push([u.keyword,O],[u.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),C.messages&&S.push([u.message,typeof y=="function"?y(g):y]),C.verbose&&S.push([u.schema,P],[u.parentSchema,(0,t._)`${V}${q}`],[n.default.data,j]),b&&S.push([u.propertyName,b])}})(Co);Object.defineProperty(Qi,"__esModule",{value:!0});Qi.boolOrEmptySchema=Qi.topBoolOrEmptySchema=void 0;const W1=Co,J1=me,X1=qr,Q1={message:"boolean schema is false"};function Z1(e){const{gen:t,schema:r,validateName:n}=e;r===!1?vg(e,!1):typeof r=="object"&&r.$async===!0?t.return(X1.default.data):(t.assign((0,J1._)`${n}.errors`,null),t.return(!0))}Qi.topBoolOrEmptySchema=Z1;function eT(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),vg(e)):r.var(t,!0)}Qi.boolOrEmptySchema=eT;function vg(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,W1.reportError)(i,Q1,void 0,t)}var Io={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.getRules=si.isJSONType=void 0;const tT=["string","number","integer","boolean","null","object","array"],rT=new Set(tT);function nT(e){return typeof e=="string"&&rT.has(e)}si.isJSONType=nT;function iT(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}si.getRules=iT;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.shouldUseRule=nn.shouldUseGroup=nn.schemaHasRulesForType=void 0;function aT({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&_g(e,n)}nn.schemaHasRulesForType=aT;function _g(e,t){return t.rules.some(r=>$g(e,r))}nn.shouldUseGroup=_g;function $g(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}nn.shouldUseRule=$g;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=si,r=nn,n=Co,i=me,a=Se;var o;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function s(S){const O=l(S.type);if(O.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!O.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&O.push("null")}return O}e.getSchemaTypes=s;function l(S){const O=Array.isArray(S)?S:S?[S]:[];if(O.every(t.isJSONType))return O;throw new Error("type must be JSONType or JSONType[]: "+O.join(","))}e.getJSONTypes=l;function f(S,O){const{gen:j,data:P,opts:E}=S,C=c(O,E.coerceTypes),b=O.length>0&&!(C.length===0&&O.length===1&&(0,r.schemaHasRulesForType)(S,O[0]));if(b){const V=w(O,P,E.strictNumbers,o.Wrong);j.if(V,()=>{C.length?h(S,O,C):m(S)})}return b}e.coerceAndCheckDataType=f;const u=new Set(["string","number","integer","boolean","null"]);function c(S,O){return O?S.filter(j=>u.has(j)||O==="array"&&j==="array"):[]}function h(S,O,j){const{gen:P,data:E,opts:C}=S,b=P.let("dataType",(0,i._)`typeof ${E}`),V=P.let("coerced",(0,i._)`undefined`);C.coerceTypes==="array"&&P.if((0,i._)`${b} == 'object' && Array.isArray(${E}) && ${E}.length == 1`,()=>P.assign(E,(0,i._)`${E}[0]`).assign(b,(0,i._)`typeof ${E}`).if(w(O,E,C.strictNumbers),()=>P.assign(V,E))),P.if((0,i._)`${V} !== undefined`);for(const k of j)(u.has(k)||k==="array"&&C.coerceTypes==="array")&&q(k);P.else(),m(S),P.endIf(),P.if((0,i._)`${V} !== undefined`,()=>{P.assign(E,V),p(S,V)});function q(k){switch(k){case"string":P.elseIf((0,i._)`${b} == "number" || ${b} == "boolean"`).assign(V,(0,i._)`"" + ${E}`).elseIf((0,i._)`${E} === null`).assign(V,(0,i._)`""`);return;case"number":P.elseIf((0,i._)`${b} == "boolean" || ${E} === null
              || (${b} == "string" && ${E} && ${E} == +${E})`).assign(V,(0,i._)`+${E}`);return;case"integer":P.elseIf((0,i._)`${b} === "boolean" || ${E} === null
              || (${b} === "string" && ${E} && ${E} == +${E} && !(${E} % 1))`).assign(V,(0,i._)`+${E}`);return;case"boolean":P.elseIf((0,i._)`${E} === "false" || ${E} === 0 || ${E} === null`).assign(V,!1).elseIf((0,i._)`${E} === "true" || ${E} === 1`).assign(V,!0);return;case"null":P.elseIf((0,i._)`${E} === "" || ${E} === 0 || ${E} === false`),P.assign(V,null);return;case"array":P.elseIf((0,i._)`${b} === "string" || ${b} === "number"
              || ${b} === "boolean" || ${E} === null`).assign(V,(0,i._)`[${E}]`)}}}function p({gen:S,parentData:O,parentDataProperty:j},P){S.if((0,i._)`${O} !== undefined`,()=>S.assign((0,i._)`${O}[${j}]`,P))}function _(S,O,j,P=o.Correct){const E=P===o.Correct?i.operators.EQ:i.operators.NEQ;let C;switch(S){case"null":return(0,i._)`${O} ${E} null`;case"array":C=(0,i._)`Array.isArray(${O})`;break;case"object":C=(0,i._)`${O} && typeof ${O} == "object" && !Array.isArray(${O})`;break;case"integer":C=b((0,i._)`!(${O} % 1) && !isNaN(${O})`);break;case"number":C=b();break;default:return(0,i._)`typeof ${O} ${E} ${S}`}return P===o.Correct?C:(0,i.not)(C);function b(V=i.nil){return(0,i.and)((0,i._)`typeof ${O} == "number"`,V,j?(0,i._)`isFinite(${O})`:i.nil)}}e.checkDataType=_;function w(S,O,j,P){if(S.length===1)return _(S[0],O,j,P);let E;const C=(0,a.toHash)(S);if(C.array&&C.object){const b=(0,i._)`typeof ${O} != "object"`;E=C.null?b:(0,i._)`!${O} || ${b}`,delete C.null,delete C.array,delete C.object}else E=i.nil;C.number&&delete C.integer;for(const b in C)E=(0,i.and)(E,_(b,O,j,P));return E}e.checkDataTypes=w;const g={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:O})=>typeof S=="string"?(0,i._)`{type: ${S}}`:(0,i._)`{type: ${O}}`};function m(S){const O=y(S);(0,n.reportError)(O,g)}e.reportTypeError=m;function y(S){const{gen:O,data:j,schema:P}=S,E=(0,a.schemaRefOrVal)(S,P,"type");return{gen:O,keyword:"type",data:j,schema:P.type,schemaCode:E,schemaValue:E,parentSchema:P,params:{},it:S}}})(Io);var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.assignDefaults=void 0;const Ti=me,oT=Se;function sT(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Rh(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,a)=>Rh(e,a,i.default))}Cl.assignDefaults=sT;function Rh(e,t,r){const{gen:n,compositeRule:i,data:a,opts:o}=e;if(r===void 0)return;const s=(0,Ti._)`${a}${(0,Ti.getProperty)(t)}`;if(i){(0,oT.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,Ti._)`${s} === undefined`;o.useDefaults==="empty"&&(l=(0,Ti._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,Ti._)`${s} = ${(0,Ti.stringify)(r)}`)}var Ur={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.validateUnion=ve.validateArray=ve.usePattern=ve.callValidateCode=ve.schemaProperties=ve.allSchemaProperties=ve.noPropertyInData=ve.propertyInData=ve.isOwnProperty=ve.hasPropFunc=ve.reportMissingProp=ve.checkMissingProp=ve.checkReportMissingProp=void 0;const xe=me,jf=Se,mn=qr,lT=Se;function cT(e,t){const{gen:r,data:n,it:i}=e;r.if(Mf(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,xe._)`${t}`},!0),e.error()})}ve.checkReportMissingProp=cT;function uT({gen:e,data:t,it:{opts:r}},n,i){return(0,xe.or)(...n.map(a=>(0,xe.and)(Mf(e,t,a,r.ownProperties),(0,xe._)`${i} = ${a}`)))}ve.checkMissingProp=uT;function fT(e,t){e.setParams({missingProperty:t},!0),e.error()}ve.reportMissingProp=fT;function wg(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,xe._)`Object.prototype.hasOwnProperty`})}ve.hasPropFunc=wg;function Uf(e,t,r){return(0,xe._)`${wg(e)}.call(${t}, ${r})`}ve.isOwnProperty=Uf;function dT(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} !== undefined`;return n?(0,xe._)`${i} && ${Uf(e,t,r)}`:i}ve.propertyInData=dT;function Mf(e,t,r,n){const i=(0,xe._)`${t}${(0,xe.getProperty)(r)} === undefined`;return n?(0,xe.or)(i,(0,xe.not)(Uf(e,t,r))):i}ve.noPropertyInData=Mf;function Eg(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ve.allSchemaProperties=Eg;function hT(e,t){return Eg(t).filter(r=>!(0,jf.alwaysValidSchema)(e,t[r]))}ve.schemaProperties=hT;function pT({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:a},it:o},s,l,f){const u=f?(0,xe._)`${e}, ${t}, ${n}${i}`:t,c=[[mn.default.instancePath,(0,xe.strConcat)(mn.default.instancePath,a)],[mn.default.parentData,o.parentData],[mn.default.parentDataProperty,o.parentDataProperty],[mn.default.rootData,mn.default.rootData]];o.opts.dynamicRef&&c.push([mn.default.dynamicAnchors,mn.default.dynamicAnchors]);const h=(0,xe._)`${u}, ${r.object(...c)}`;return l!==xe.nil?(0,xe._)`${s}.call(${l}, ${h})`:(0,xe._)`${s}(${h})`}ve.callValidateCode=pT;const mT=(0,xe._)`new RegExp`;function yT({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,xe._)`${i.code==="new RegExp"?mT:(0,lT.useFunc)(e,i)}(${r}, ${n})`})}ve.usePattern=yT;function gT(e){const{gen:t,data:r,keyword:n,it:i}=e,a=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return o(()=>t.assign(s,!1)),s}return t.var(a,!0),o(()=>t.break()),a;function o(s){const l=t.const("len",(0,xe._)`${r}.length`);t.forRange("i",0,l,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:jf.Type.Num},a),t.if((0,xe.not)(a),s)})}}ve.validateArray=gT;function vT(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,jf.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,f)=>{const u=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},s);t.assign(o,(0,xe._)`${o} || ${s}`),e.mergeValidEvaluated(u,s)||t.if((0,xe.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ve.validateUnion=vT;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.validateKeywordUsage=Ur.validSchemaType=Ur.funcKeywordCode=Ur.macroKeywordCode=void 0;const kt=me,Wn=qr,_T=ve,$T=Co;function wT(e,t){const{gen:r,keyword:n,schema:i,parentSchema:a,it:o}=e,s=t.macro.call(o.self,i,a,o),l=Sg(r,n,s);o.opts.validateSchema!==!1&&o.self.validateSchema(s,!0);const f=r.name("valid");e.subschema({schema:s,schemaPath:kt.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}Ur.macroKeywordCode=wT;function ET(e,t){var r;const{gen:n,keyword:i,schema:a,parentSchema:o,$data:s,it:l}=e;bT(l,t);const f=!s&&t.compile?t.compile.call(l.self,a,o,l):t.validate,u=Sg(n,i,f),c=n.let("valid");e.block$data(c,h),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function h(){if(t.errors===!1)w(),t.modifying&&Dh(e),g(()=>e.error());else{const m=t.async?p():_();t.modifying&&Dh(e),g(()=>ST(e,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>w((0,kt._)`await `),y=>n.assign(c,!1).if((0,kt._)`${y} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,kt._)`${y}.errors`),()=>n.throw(y))),m}function _(){const m=(0,kt._)`${u}.errors`;return n.assign(m,null),w(kt.nil),m}function w(m=t.async?(0,kt._)`await `:kt.nil){const y=l.opts.passContext?Wn.default.this:Wn.default.self,S=!("compile"in t&&!s||t.schema===!1);n.assign(c,(0,kt._)`${m}${(0,_T.callValidateCode)(e,u,y,S)}`,t.modifying)}function g(m){var y;n.if((0,kt.not)((y=t.valid)!==null&&y!==void 0?y:c),m)}}Ur.funcKeywordCode=ET;function Dh(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,kt._)`${n.parentData}[${n.parentDataProperty}]`))}function ST(e,t){const{gen:r}=e;r.if((0,kt._)`Array.isArray(${t})`,()=>{r.assign(Wn.default.vErrors,(0,kt._)`${Wn.default.vErrors} === null ? ${t} : ${Wn.default.vErrors}.concat(${t})`).assign(Wn.default.errors,(0,kt._)`${Wn.default.vErrors}.length`),(0,$T.extendErrors)(e)},()=>e.error())}function bT({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Sg(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,kt.stringify)(r)})}function TT(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ur.validSchemaType=TT;function PT({schema:e,opts:t,self:r,errSchemaPath:n},i,a){if(Array.isArray(i.keyword)?!i.keyword.includes(a):i.keyword!==a)throw new Error("ajv implementation error");const o=i.dependencies;if(o!=null&&o.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[a])){const l=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ur.validateKeywordUsage=PT;var An={};Object.defineProperty(An,"__esModule",{value:!0});An.extendSubschemaMode=An.extendSubschemaData=An.getSubschema=void 0;const kr=me,bg=Se;function OT(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,kr._)`${e.schemaPath}${(0,kr.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,kr._)`${e.schemaPath}${(0,kr.getProperty)(t)}${(0,kr.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,bg.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}An.getSubschema=OT;function AT(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:a,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:f,dataPathArr:u,opts:c}=t,h=s.let("data",(0,kr._)`${t.data}${(0,kr.getProperty)(r)}`,!0);l(h),e.errorPath=(0,kr.str)`${f}${(0,bg.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,kr._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(i!==void 0){const f=i instanceof kr.Name?i:s.let("data",i,!0);l(f),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function l(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}An.extendSubschemaData=AT;function NT(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:a}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}An.extendSubschemaMode=NT;var gt={},gu={},CT={get exports(){return gu},set exports(e){gu=e}},bn=CT.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Ts(t,n,i,e,"",e)};bn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};bn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};bn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};bn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ts(e,t,r,n,i,a,o,s,l,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,a,o,s,l,f);for(var u in n){var c=n[u];if(Array.isArray(c)){if(u in bn.arrayKeywords)for(var h=0;h<c.length;h++)Ts(e,t,r,c[h],i+"/"+u+"/"+h,a,i,u,n,h)}else if(u in bn.propsKeywords){if(c&&typeof c=="object")for(var p in c)Ts(e,t,r,c[p],i+"/"+u+"/"+IT(p),a,i,u,n,p)}else(u in bn.keywords||e.allKeys&&!(u in bn.skipKeywords))&&Ts(e,t,r,c,i+"/"+u,a,i,u,n)}r(n,i,a,o,s,l,f)}}function IT(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(gt,"__esModule",{value:!0});gt.getSchemaRefs=gt.resolveUrl=gt.normalizeId=gt._getFullPath=gt.getFullPath=gt.inlineRef=void 0;const RT=Se,DT=Pl,FT=gu,kT=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function LT(e,t=!0){return typeof e=="boolean"?!0:t===!0?!vu(e):t?Tg(e)<=t:!1}gt.inlineRef=LT;const jT=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function vu(e){for(const t in e){if(jT.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(vu)||typeof r=="object"&&vu(r))return!0}return!1}function Tg(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!kT.has(r)&&(typeof e[r]=="object"&&(0,RT.eachItem)(e[r],n=>t+=Tg(n)),t===1/0))return 1/0}return t}function Pg(e,t="",r){r!==!1&&(t=zi(t));const n=e.parse(t);return Og(e,n)}gt.getFullPath=Pg;function Og(e,t){return e.serialize(t).split("#")[0]+"#"}gt._getFullPath=Og;const UT=/#\/?$/;function zi(e){return e?e.replace(UT,""):""}gt.normalizeId=zi;function MT(e,t,r){return r=zi(r),e.resolve(t,r)}gt.resolveUrl=MT;const xT=/^[a-z_][-a-z0-9._]*$/i;function qT(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=zi(e[r]||t),a={"":i},o=Pg(n,i,!1),s={},l=new Set;return FT(e,{allKeys:!0},(c,h,p,_)=>{if(_===void 0)return;const w=o+h;let g=a[_];typeof c[r]=="string"&&(g=m.call(this,c[r])),y.call(this,c.$anchor),y.call(this,c.$dynamicAnchor),a[h]=g;function m(S){const O=this.opts.uriResolver.resolve;if(S=zi(g?O(g,S):S),l.has(S))throw u(S);l.add(S);let j=this.refs[S];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?f(c,j.schema,S):S!==zi(w)&&(S[0]==="#"?(f(c,s[S],S),s[S]=c):this.refs[S]=w),S}function y(S){if(typeof S=="string"){if(!xT.test(S))throw new Error(`invalid anchor "${S}"`);m.call(this,`#${S}`)}}}),s;function f(c,h,p){if(h!==void 0&&!DT(c,h))throw u(p)}function u(c){return new Error(`reference "${c}" resolves to more than one schema`)}}gt.getSchemaRefs=qT;Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getData=Ar.KeywordCxt=Ar.validateFunctionCode=void 0;const Ag=Qi,Fh=Io,xf=nn,Xs=Io,VT=Cl,Wa=Ur,Sc=An,oe=me,de=qr,BT=gt,an=Se,Ca=Co;function HT(e){if(Ig(e)&&(Rg(e),Cg(e))){KT(e);return}Ng(e,()=>(0,Ag.topBoolOrEmptySchema)(e))}Ar.validateFunctionCode=HT;function Ng({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},a){i.code.es5?e.func(t,(0,oe._)`${de.default.data}, ${de.default.valCxt}`,n.$async,()=>{e.code((0,oe._)`"use strict"; ${kh(r,i)}`),GT(e,i),e.code(a)}):e.func(t,(0,oe._)`${de.default.data}, ${zT(i)}`,n.$async,()=>e.code(kh(r,i)).code(a))}function zT(e){return(0,oe._)`{${de.default.instancePath}="", ${de.default.parentData}, ${de.default.parentDataProperty}, ${de.default.rootData}=${de.default.data}${e.dynamicRef?(0,oe._)`, ${de.default.dynamicAnchors}={}`:oe.nil}}={}`}function GT(e,t){e.if(de.default.valCxt,()=>{e.var(de.default.instancePath,(0,oe._)`${de.default.valCxt}.${de.default.instancePath}`),e.var(de.default.parentData,(0,oe._)`${de.default.valCxt}.${de.default.parentData}`),e.var(de.default.parentDataProperty,(0,oe._)`${de.default.valCxt}.${de.default.parentDataProperty}`),e.var(de.default.rootData,(0,oe._)`${de.default.valCxt}.${de.default.rootData}`),t.dynamicRef&&e.var(de.default.dynamicAnchors,(0,oe._)`${de.default.valCxt}.${de.default.dynamicAnchors}`)},()=>{e.var(de.default.instancePath,(0,oe._)`""`),e.var(de.default.parentData,(0,oe._)`undefined`),e.var(de.default.parentDataProperty,(0,oe._)`undefined`),e.var(de.default.rootData,de.default.data),t.dynamicRef&&e.var(de.default.dynamicAnchors,(0,oe._)`{}`)})}function KT(e){const{schema:t,opts:r,gen:n}=e;Ng(e,()=>{r.$comment&&t.$comment&&Fg(e),QT(e),n.let(de.default.vErrors,null),n.let(de.default.errors,0),r.unevaluated&&YT(e),Dg(e),tP(e)})}function YT(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,oe._)`${r}.evaluated`),t.if((0,oe._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,oe._)`${e.evaluated}.props`,(0,oe._)`undefined`)),t.if((0,oe._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,oe._)`${e.evaluated}.items`,(0,oe._)`undefined`))}function kh(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,oe._)`/*# sourceURL=${r} */`:oe.nil}function WT(e,t){if(Ig(e)&&(Rg(e),Cg(e))){JT(e,t);return}(0,Ag.boolOrEmptySchema)(e,t)}function Cg({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ig(e){return typeof e.schema!="boolean"}function JT(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&Fg(e),ZT(e),eP(e);const a=n.const("_errs",de.default.errors);Dg(e,a),n.var(t,(0,oe._)`${a} === ${de.default.errors}`)}function Rg(e){(0,an.checkUnknownRules)(e),XT(e)}function Dg(e,t){if(e.opts.jtd)return Lh(e,[],!1,t);const r=(0,Fh.getSchemaTypes)(e.schema),n=(0,Fh.coerceAndCheckDataType)(e,r);Lh(e,r,!n,t)}function XT(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,an.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function QT(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,an.checkStrictMode)(e,"default is ignored in the schema root")}function ZT(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,BT.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function eP(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Fg({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const a=r.$comment;if(i.$comment===!0)e.code((0,oe._)`${de.default.self}.logger.log(${a})`);else if(typeof i.$comment=="function"){const o=(0,oe.str)`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,oe._)`${de.default.self}.opts.$comment(${a}, ${o}, ${s}.schema)`)}}function tP(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:a}=e;r.$async?t.if((0,oe._)`${de.default.errors} === 0`,()=>t.return(de.default.data),()=>t.throw((0,oe._)`new ${i}(${de.default.vErrors})`)):(t.assign((0,oe._)`${n}.errors`,de.default.vErrors),a.unevaluated&&rP(e),t.return((0,oe._)`${de.default.errors} === 0`))}function rP({gen:e,evaluated:t,props:r,items:n}){r instanceof oe.Name&&e.assign((0,oe._)`${t}.props`,r),n instanceof oe.Name&&e.assign((0,oe._)`${t}.items`,n)}function Lh(e,t,r,n){const{gen:i,schema:a,data:o,allErrors:s,opts:l,self:f}=e,{RULES:u}=f;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,an.schemaHasRulesButRef)(a,u))){i.block(()=>jg(e,"$ref",u.all.$ref.definition));return}l.jtd||nP(e,t),i.block(()=>{for(const h of u.rules)c(h);c(u.post)});function c(h){(0,xf.shouldUseGroup)(a,h)&&(h.type?(i.if((0,Xs.checkDataType)(h.type,o,l.strictNumbers)),jh(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,Xs.reportTypeError)(e)),i.endIf()):jh(e,h),s||i.if((0,oe._)`${de.default.errors} === ${n||0}`))}}function jh(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,VT.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,xf.shouldUseRule)(n,a)&&jg(e,a.keyword,a.definition,t.type)})}function nP(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(iP(e,t),e.opts.allowUnionTypes||aP(e,t),oP(e,e.dataTypes))}function iP(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{kg(e.dataTypes,r)||qf(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),lP(e,t)}}function aP(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&qf(e,"use allowUnionTypes to allow union type keyword")}function oP(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,xf.shouldUseRule)(e.schema,i)){const{type:a}=i.definition;a.length&&!a.some(o=>sP(t,o))&&qf(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function sP(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function kg(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function lP(e,t){const r=[];for(const n of e.dataTypes)kg(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function qf(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,an.checkStrictMode)(e,t,e.opts.strictTypes)}class Lg{constructor(t,r,n){if((0,Wa.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,an.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Ug(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Wa.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",de.default.errors))}result(t,r,n){this.failResult((0,oe.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,oe.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,oe._)`${r} !== undefined && (${(0,oe.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ca.reportExtraError:Ca.reportError)(this,this.def.error,r)}$dataError(){(0,Ca.reportError)(this,this.def.$dataError||Ca.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ca.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=oe.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=oe.nil,r=oe.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:a,def:o}=this;n.if((0,oe.or)((0,oe._)`${i} === undefined`,r)),t!==oe.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==oe.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:a}=this;return(0,oe.or)(o(),s());function o(){if(n.length){if(!(r instanceof oe.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,oe._)`${(0,Xs.checkDataTypes)(l,r,a.opts.strictNumbers,Xs.DataType.Wrong)}`}return oe.nil}function s(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,oe._)`!${l}(${r})`}return oe.nil}}subschema(t,r){const n=(0,Sc.getSubschema)(this.it,t);(0,Sc.extendSubschemaData)(n,this.it,t),(0,Sc.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return WT(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=an.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=an.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,oe.Name)),!0}}Ar.KeywordCxt=Lg;function jg(e,t,r,n){const i=new Lg(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Wa.funcKeywordCode)(i,r):"macro"in r?(0,Wa.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Wa.funcKeywordCode)(i,r)}const cP=/^\/(?:[^~]|~0|~1)*$/,uP=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ug(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,a;if(e==="")return de.default.rootData;if(e[0]==="/"){if(!cP.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,a=de.default.rootData}else{const f=uP.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+f[1];if(i=f[2],i==="#"){if(u>=t)throw new Error(l("property/index",u));return n[t-u]}if(u>t)throw new Error(l("data",u));if(a=r[t-u],!i)return a}let o=a;const s=i.split("/");for(const f of s)f&&(a=(0,oe._)`${a}${(0,oe.getProperty)((0,an.unescapeJsonPointer)(f))}`,o=(0,oe._)`${o} && ${a}`);return o;function l(f,u){return`Cannot access ${f} ${u} levels up, current level is ${t}`}}Ar.getData=Ug;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});class fP extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Ro.default=fP;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const bc=gt;class dP extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,bc.resolveUrl)(t,r,n),this.missingSchema=(0,bc.normalizeId)((0,bc.getFullPath)(t,this.missingRef))}}Do.default=dP;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.resolveSchema=Yt.getCompilingSchema=Yt.resolveRef=Yt.compileSchema=Yt.SchemaEnv=void 0;const _r=me,hP=Ro,qn=qr,Tr=gt,Uh=Se,pP=Ar;class Il{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Tr.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Yt.SchemaEnv=Il;function Vf(e){const t=Mg.call(this,e);if(t)return t;const r=(0,Tr.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:a}=this.opts,o=new _r.CodeGen(this.scope,{es5:n,lines:i,ownProperties:a});let s;e.$async&&(s=o.scopeValue("Error",{ref:hP.default,code:(0,_r._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const f={gen:o,allErrors:this.opts.allErrors,data:qn.default.data,parentData:qn.default.parentData,parentDataProperty:qn.default.parentDataProperty,dataNames:[qn.default.data],dataPathArr:[_r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,_r.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:_r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_r._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,pP.validateFunctionCode)(f),o.optimize(this.opts.code.optimize);const c=o.toString();u=`${o.scopeRefs(qn.default.scope)}return ${c}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const p=new Function(`${qn.default.self}`,`${qn.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:c,scopeValues:o._values}),this.opts.unevaluated){const{props:_,items:w}=f;p.evaluated={props:_ instanceof _r.Name?void 0:_,items:w instanceof _r.Name?void 0:w,dynamicProps:_ instanceof _r.Name,dynamicItems:w instanceof _r.Name},p.source&&(p.source.evaluated=(0,_r.stringify)(p.evaluated))}return e.validate=p,e}catch(c){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),c}finally{this._compilations.delete(e)}}Yt.compileSchema=Vf;function mP(e,t,r){var n;r=(0,Tr.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let a=vP.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;o&&(a=new Il({schema:o,schemaId:s,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=yP.call(this,a)}Yt.resolveRef=mP;function yP(e){return(0,Tr.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Vf.call(this,e)}function Mg(e){for(const t of this._compilations)if(gP(t,e))return t}Yt.getCompilingSchema=Mg;function gP(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function vP(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Rl.call(this,e,t)}function Rl(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Tr._getFullPath)(this.opts.uriResolver,r);let i=(0,Tr.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Tc.call(this,r,e);const a=(0,Tr.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const s=Rl.call(this,e,o);return typeof(s==null?void 0:s.schema)!="object"?void 0:Tc.call(this,r,s)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Vf.call(this,o),a===(0,Tr.normalizeId)(t)){const{schema:s}=o,{schemaId:l}=this.opts,f=s[l];return f&&(i=(0,Tr.resolveUrl)(this.opts.uriResolver,i,f)),new Il({schema:s,schemaId:l,root:e,baseId:i})}return Tc.call(this,r,o)}}Yt.resolveSchema=Rl;const _P=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Tc(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Uh.unescapeFragment)(s)];if(l===void 0)return;r=l;const f=typeof r=="object"&&r[this.opts.schemaId];!_P.has(s)&&f&&(t=(0,Tr.resolveUrl)(this.opts.uriResolver,t,f))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Uh.schemaHasRulesButRef)(r,this.RULES)){const s=(0,Tr.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Rl.call(this,n,s)}const{schemaId:o}=this.opts;if(a=a||new Il({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const $P="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",wP="Meta-schema for $data reference (JSON AnySchema extension proposal)",EP="object",SP=["$data"],bP={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},TP=!1,PP={$id:$P,description:wP,type:EP,required:SP,properties:bP,additionalProperties:TP};var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});const xg=co;xg.code='require("ajv/dist/runtime/uri").default';Bf.default=xg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ar;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=me;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ro,i=Do,a=si,o=Yt,s=me,l=gt,f=Io,u=Se,c=PP,h=Bf,p=(R,A)=>new RegExp(R,A);p.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function S(R){var A,L,N,d,$,F,T,v,H,U,re,he,be,De,Ke,ke,Ce,Ye,qt,Nt,Ct,it,Ze,ir,hr;const It=R.strict,Vt=(A=R.code)===null||A===void 0?void 0:A.optimize,pr=Vt===!0||Vt===void 0?1:Vt||0,ot=(N=(L=R.code)===null||L===void 0?void 0:L.regExp)!==null&&N!==void 0?N:p,et=(d=R.uriResolver)!==null&&d!==void 0?d:h.default;return{strictSchema:(F=($=R.strictSchema)!==null&&$!==void 0?$:It)!==null&&F!==void 0?F:!0,strictNumbers:(v=(T=R.strictNumbers)!==null&&T!==void 0?T:It)!==null&&v!==void 0?v:!0,strictTypes:(U=(H=R.strictTypes)!==null&&H!==void 0?H:It)!==null&&U!==void 0?U:"log",strictTuples:(he=(re=R.strictTuples)!==null&&re!==void 0?re:It)!==null&&he!==void 0?he:"log",strictRequired:(De=(be=R.strictRequired)!==null&&be!==void 0?be:It)!==null&&De!==void 0?De:!1,code:R.code?{...R.code,optimize:pr,regExp:ot}:{optimize:pr,regExp:ot},loopRequired:(Ke=R.loopRequired)!==null&&Ke!==void 0?Ke:y,loopEnum:(ke=R.loopEnum)!==null&&ke!==void 0?ke:y,meta:(Ce=R.meta)!==null&&Ce!==void 0?Ce:!0,messages:(Ye=R.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(qt=R.inlineRefs)!==null&&qt!==void 0?qt:!0,schemaId:(Nt=R.schemaId)!==null&&Nt!==void 0?Nt:"$id",addUsedSchema:(Ct=R.addUsedSchema)!==null&&Ct!==void 0?Ct:!0,validateSchema:(it=R.validateSchema)!==null&&it!==void 0?it:!0,validateFormats:(Ze=R.validateFormats)!==null&&Ze!==void 0?Ze:!0,unicodeRegExp:(ir=R.unicodeRegExp)!==null&&ir!==void 0?ir:!0,int32range:(hr=R.int32range)!==null&&hr!==void 0?hr:!0,uriResolver:et}}class O{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...S(A)};const{es5:L,lines:N}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:w,es5:L,lines:N}),this.logger=k(A.logger);const d=A.validateFormats;A.validateFormats=!1,this.RULES=(0,a.getRules)(),j.call(this,g,A,"NOT SUPPORTED"),j.call(this,m,A,"DEPRECATED","warn"),this._metaOpts=V.call(this),A.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&b.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),E.call(this),A.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:L,schemaId:N}=this.opts;let d=c;N==="id"&&(d={...c},d.id=d.$id,delete d.$id),L&&A&&this.addMetaSchema(d,d[N],!1)}defaultMeta(){const{meta:A,schemaId:L}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[L]||A:void 0}validate(A,L){let N;if(typeof A=="string"){if(N=this.getSchema(A),!N)throw new Error(`no schema with key or ref "${A}"`)}else N=this.compile(A);const d=N(L);return"$async"in N||(this.errors=N.errors),d}compile(A,L){const N=this._addSchema(A,L);return N.validate||this._compileSchemaEnv(N)}compileAsync(A,L){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return d.call(this,A,L);async function d(U,re){await $.call(this,U.$schema);const he=this._addSchema(U,re);return he.validate||F.call(this,he)}async function $(U){U&&!this.getSchema(U)&&await d.call(this,{$ref:U},!0)}async function F(U){try{return this._compileSchemaEnv(U)}catch(re){if(!(re instanceof i.default))throw re;return T.call(this,re),await v.call(this,re.missingSchema),F.call(this,U)}}function T({missingSchema:U,missingRef:re}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${re} cannot be resolved`)}async function v(U){const re=await H.call(this,U);this.refs[U]||await $.call(this,re.$schema),this.refs[U]||this.addSchema(re,U,L)}async function H(U){const re=this._loading[U];if(re)return re;try{return await(this._loading[U]=N(U))}finally{delete this._loading[U]}}}addSchema(A,L,N,d=this.opts.validateSchema){if(Array.isArray(A)){for(const F of A)this.addSchema(F,void 0,N,d);return this}let $;if(typeof A=="object"){const{schemaId:F}=this.opts;if($=A[F],$!==void 0&&typeof $!="string")throw new Error(`schema ${F} must be string`)}return L=(0,l.normalizeId)(L||$),this._checkUnique(L),this.schemas[L]=this._addSchema(A,N,L,d,!0),this}addMetaSchema(A,L,N=this.opts.validateSchema){return this.addSchema(A,L,!0,N),this}validateSchema(A,L){if(typeof A=="boolean")return!0;let N;if(N=A.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(N,A);if(!d&&L){const $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw new Error($)}return d}getSchema(A){let L;for(;typeof(L=P.call(this,A))=="string";)A=L;if(L===void 0){const{schemaId:N}=this.opts,d=new o.SchemaEnv({schema:{},schemaId:N});if(L=o.resolveSchema.call(this,d,A),!L)return;this.refs[A]=L}return L.validate||this._compileSchemaEnv(L)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const L=P.call(this,A);return typeof L=="object"&&this._cache.delete(L.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const L=A;this._cache.delete(L);let N=A[this.opts.schemaId];return N&&(N=(0,l.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const L of A)this.addKeyword(L);return this}addKeyword(A,L){let N;if(typeof A=="string")N=A,typeof L=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),L.keyword=N);else if(typeof A=="object"&&L===void 0){if(L=A,N=L.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,N,L),!L)return(0,u.eachItem)(N,$=>Z.call(this,$)),this;Y.call(this,L);const d={...L,type:(0,f.getJSONTypes)(L.type),schemaType:(0,f.getJSONTypes)(L.schemaType)};return(0,u.eachItem)(N,d.type.length===0?$=>Z.call(this,$,d):$=>d.type.forEach(F=>Z.call(this,$,d,F))),this}getKeyword(A){const L=this.RULES.all[A];return typeof L=="object"?L.definition:!!L}removeKeyword(A){const{RULES:L}=this;delete L.keywords[A],delete L.all[A];for(const N of L.rules){const d=N.rules.findIndex($=>$.keyword===A);d>=0&&N.rules.splice(d,1)}return this}addFormat(A,L){return typeof L=="string"&&(L=new RegExp(L)),this.formats[A]=L,this}errorsText(A=this.errors,{separator:L=", ",dataVar:N="data"}={}){return!A||A.length===0?"No errors":A.map(d=>`${N}${d.instancePath} ${d.message}`).reduce((d,$)=>d+L+$)}$dataMetaSchema(A,L){const N=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const d of L){const $=d.split("/").slice(1);let F=A;for(const T of $)F=F[T];for(const T in N){const v=N[T];if(typeof v!="object")continue;const{$data:H}=v.definition,U=F[T];H&&U&&(F[T]=G(U))}}return A}_removeAllSchemas(A,L){for(const N in A){const d=A[N];(!L||L.test(N))&&(typeof d=="string"?delete A[N]:d&&!d.meta&&(this._cache.delete(d.schema),delete A[N]))}}_addSchema(A,L,N,d=this.opts.validateSchema,$=this.opts.addUsedSchema){let F;const{schemaId:T}=this.opts;if(typeof A=="object")F=A[T];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let v=this._cache.get(A);if(v!==void 0)return v;N=(0,l.normalizeId)(F||N);const H=l.getSchemaRefs.call(this,A,N);return v=new o.SchemaEnv({schema:A,schemaId:T,meta:L,baseId:N,localRefs:H}),this._cache.set(v.schema,v),$&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=v),d&&this.validateSchema(A,!0),v}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):o.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const L=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,A)}finally{this.opts=L}}}e.default=O,O.ValidationError=n.default,O.MissingRefError=i.default;function j(R,A,L,N="error"){for(const d in R){const $=d;$ in A&&this.logger[N](`${L}: option ${d}. ${R[$]}`)}}function P(R){return R=(0,l.normalizeId)(R),this.schemas[R]||this.refs[R]}function E(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const A in R)this.addSchema(R[A],A)}function C(){for(const R in this.opts.formats){const A=this.opts.formats[R];A&&this.addFormat(R,A)}}function b(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in R){const L=R[A];L.keyword||(L.keyword=A),this.addKeyword(L)}}function V(){const R={...this.opts};for(const A of _)delete R[A];return R}const q={log(){},warn(){},error(){}};function k(R){if(R===!1)return q;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const Q=/^[a-z_$][a-z0-9_$:-]*$/i;function X(R,A){const{RULES:L}=this;if((0,u.eachItem)(R,N=>{if(L.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!Q.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function Z(R,A,L){var N;const d=A==null?void 0:A.post;if(L&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:$}=this;let F=d?$.post:$.rules.find(({type:v})=>v===L);if(F||(F={type:L,rules:[]},$.rules.push(F)),$.keywords[R]=!0,!A)return;const T={keyword:R,definition:{...A,type:(0,f.getJSONTypes)(A.type),schemaType:(0,f.getJSONTypes)(A.schemaType)}};A.before?ee.call(this,F,T,A.before):F.rules.push(T),$.all[R]=T,(N=A.implements)===null||N===void 0||N.forEach(v=>this.addKeyword(v))}function ee(R,A,L){const N=R.rules.findIndex(d=>d.keyword===L);N>=0?R.rules.splice(N,0,A):(R.rules.push(A),this.logger.warn(`rule ${L} is not defined`))}function Y(R){let{metaSchema:A}=R;A!==void 0&&(R.$data&&this.opts.$data&&(A=G(A)),R.validateSchema=this.compile(A,!0))}const z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function G(R){return{anyOf:[R,z]}}})(gg);var Hf={},zf={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});const OP={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Gf.default=OP;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.callRef=li.getValidate=void 0;const AP=Do,Mh=ve,Gt=me,Pi=qr,xh=Yt,os=Se,NP={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:a,validateName:o,opts:s,self:l}=n,{root:f}=a;if((r==="#"||r==="#/")&&i===f.baseId)return c();const u=xh.resolveRef.call(l,f,i,r);if(u===void 0)throw new AP.default(n.opts.uriResolver,i,r);if(u instanceof xh.SchemaEnv)return h(u);return p(u);function c(){if(a===f)return Ps(e,o,a,a.$async);const _=t.scopeValue("root",{ref:f});return Ps(e,(0,Gt._)`${_}.validate`,f,f.$async)}function h(_){const w=qg(e,_);Ps(e,w,_,_.$async)}function p(_){const w=t.scopeValue("schema",s.code.source===!0?{ref:_,code:(0,Gt.stringify)(_)}:{ref:_}),g=t.name("valid"),m=e.subschema({schema:_,dataTypes:[],schemaPath:Gt.nil,topSchemaRef:w,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function qg(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Gt._)`${r.scopeValue("wrapper",{ref:t})}.validate`}li.getValidate=qg;function Ps(e,t,r,n){const{gen:i,it:a}=e,{allErrors:o,schemaEnv:s,opts:l}=a,f=l.passContext?Pi.default.this:Gt.nil;n?u():c();function u(){if(!s.$async)throw new Error("async schema referenced by sync schema");const _=i.let("valid");i.try(()=>{i.code((0,Gt._)`await ${(0,Mh.callValidateCode)(e,t,f)}`),p(t),o||i.assign(_,!0)},w=>{i.if((0,Gt._)`!(${w} instanceof ${a.ValidationError})`,()=>i.throw(w)),h(w),o||i.assign(_,!1)}),e.ok(_)}function c(){e.result((0,Mh.callValidateCode)(e,t,f),()=>p(t),()=>h(t))}function h(_){const w=(0,Gt._)`${_}.errors`;i.assign(Pi.default.vErrors,(0,Gt._)`${Pi.default.vErrors} === null ? ${w} : ${Pi.default.vErrors}.concat(${w})`),i.assign(Pi.default.errors,(0,Gt._)`${Pi.default.vErrors}.length`)}function p(_){var w;if(!a.opts.unevaluated)return;const g=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=os.mergeEvaluated.props(i,g.props,a.props));else{const m=i.var("props",(0,Gt._)`${_}.evaluated.props`);a.props=os.mergeEvaluated.props(i,m,a.props,Gt.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=os.mergeEvaluated.items(i,g.items,a.items));else{const m=i.var("items",(0,Gt._)`${_}.evaluated.items`);a.items=os.mergeEvaluated.items(i,m,a.items,Gt.Name)}}}li.callRef=Ps;li.default=NP;Object.defineProperty(zf,"__esModule",{value:!0});const CP=Gf,IP=li,RP=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",CP.default,IP.default];zf.default=RP;var Kf={},Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});const Qs=me,yn=Qs.operators,Zs={maximum:{okStr:"<=",ok:yn.LTE,fail:yn.GT},minimum:{okStr:">=",ok:yn.GTE,fail:yn.LT},exclusiveMaximum:{okStr:"<",ok:yn.LT,fail:yn.GTE},exclusiveMinimum:{okStr:">",ok:yn.GT,fail:yn.LTE}},DP={message:({keyword:e,schemaCode:t})=>(0,Qs.str)`must be ${Zs[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Qs._)`{comparison: ${Zs[e].okStr}, limit: ${t}}`},FP={keyword:Object.keys(Zs),type:"number",schemaType:"number",$data:!0,error:DP,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Qs._)`${r} ${Zs[t].fail} ${n} || isNaN(${r})`)}};Yf.default=FP;var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});const Ja=me,kP={message:({schemaCode:e})=>(0,Ja.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ja._)`{multipleOf: ${e}}`},LP={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:kP,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,a=i.opts.multipleOfPrecision,o=t.let("res"),s=a?(0,Ja._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,Ja._)`${o} !== parseInt(${o})`;e.fail$data((0,Ja._)`(${n} === 0 || (${o} = ${r}/${n}, ${s}))`)}};Wf.default=LP;var Jf={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});function Vg(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Xf.default=Vg;Vg.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Jf,"__esModule",{value:!0});const Jn=me,jP=Se,UP=Xf,MP={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Jn.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Jn._)`{limit: ${e}}`},xP={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:MP,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,a=t==="maxLength"?Jn.operators.GT:Jn.operators.LT,o=i.opts.unicode===!1?(0,Jn._)`${r}.length`:(0,Jn._)`${(0,jP.useFunc)(e.gen,UP.default)}(${r})`;e.fail$data((0,Jn._)`${o} ${a} ${n}`)}};Jf.default=xP;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});const qP=ve,el=me,VP={message:({schemaCode:e})=>(0,el.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,el._)`{pattern: ${e}}`},BP={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:VP,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:a}=e,o=a.opts.unicodeRegExp?"u":"",s=r?(0,el._)`(new RegExp(${i}, ${o}))`:(0,qP.usePattern)(e,n);e.fail$data((0,el._)`!${s}.test(${t})`)}};Qf.default=BP;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});const Xa=me,HP={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Xa.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Xa._)`{limit: ${e}}`},zP={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:HP,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Xa.operators.GT:Xa.operators.LT;e.fail$data((0,Xa._)`Object.keys(${r}).length ${i} ${n}`)}};Zf.default=zP;var ed={};Object.defineProperty(ed,"__esModule",{value:!0});const Ia=ve,Qa=me,GP=Se,KP={message:({params:{missingProperty:e}})=>(0,Qa.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Qa._)`{missingProperty: ${e}}`},YP={keyword:"required",type:"object",schemaType:"array",$data:!0,error:KP,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:a,it:o}=e,{opts:s}=o;if(!a&&r.length===0)return;const l=r.length>=s.loopRequired;if(o.allErrors?f():u(),s.strictRequired){const p=e.parentSchema.properties,{definedProperties:_}=e.it;for(const w of r)if((p==null?void 0:p[w])===void 0&&!_.has(w)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${w}" is not defined at "${g}" (strictRequired)`;(0,GP.checkStrictMode)(o,m,o.opts.strictRequired)}}function f(){if(l||a)e.block$data(Qa.nil,c);else for(const p of r)(0,Ia.checkReportMissingProp)(e,p)}function u(){const p=t.let("missing");if(l||a){const _=t.let("valid",!0);e.block$data(_,()=>h(p,_)),e.ok(_)}else t.if((0,Ia.checkMissingProp)(e,r,p)),(0,Ia.reportMissingProp)(e,p),t.else()}function c(){t.forOf("prop",n,p=>{e.setParams({missingProperty:p}),t.if((0,Ia.noPropertyInData)(t,i,p,s.ownProperties),()=>e.error())})}function h(p,_){e.setParams({missingProperty:p}),t.forOf(p,n,()=>{t.assign(_,(0,Ia.propertyInData)(t,i,p,s.ownProperties)),t.if((0,Qa.not)(_),()=>{e.error(),t.break()})},Qa.nil)}}};ed.default=YP;var td={};Object.defineProperty(td,"__esModule",{value:!0});const Za=me,WP={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Za.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Za._)`{limit: ${e}}`},JP={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:WP,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Za.operators.GT:Za.operators.LT;e.fail$data((0,Za._)`${r}.length ${i} ${n}`)}};td.default=JP;var rd={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const Bg=Pl;Bg.code='require("ajv/dist/runtime/equal").default';Fo.default=Bg;Object.defineProperty(rd,"__esModule",{value:!0});const Pc=Io,pt=me,XP=Se,QP=Fo,ZP={message:({params:{i:e,j:t}})=>(0,pt.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,pt._)`{i: ${e}, j: ${t}}`},eO={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ZP,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:a,schemaCode:o,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),f=a.items?(0,Pc.getSchemaTypes)(a.items):[];e.block$data(l,u,(0,pt._)`${o} === false`),e.ok(l);function u(){const _=t.let("i",(0,pt._)`${r}.length`),w=t.let("j");e.setParams({i:_,j:w}),t.assign(l,!0),t.if((0,pt._)`${_} > 1`,()=>(c()?h:p)(_,w))}function c(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function h(_,w){const g=t.name("item"),m=(0,Pc.checkDataTypes)(f,g,s.opts.strictNumbers,Pc.DataType.Wrong),y=t.const("indices",(0,pt._)`{}`);t.for((0,pt._)`;${_}--;`,()=>{t.let(g,(0,pt._)`${r}[${_}]`),t.if(m,(0,pt._)`continue`),f.length>1&&t.if((0,pt._)`typeof ${g} == "string"`,(0,pt._)`${g} += "_"`),t.if((0,pt._)`typeof ${y}[${g}] == "number"`,()=>{t.assign(w,(0,pt._)`${y}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,pt._)`${y}[${g}] = ${_}`)})}function p(_,w){const g=(0,XP.useFunc)(t,QP.default),m=t.name("outer");t.label(m).for((0,pt._)`;${_}--;`,()=>t.for((0,pt._)`${w} = ${_}; ${w}--;`,()=>t.if((0,pt._)`${g}(${r}[${_}], ${r}[${w}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};rd.default=eO;var nd={};Object.defineProperty(nd,"__esModule",{value:!0});const _u=me,tO=Se,rO=Fo,nO={message:"must be equal to constant",params:({schemaCode:e})=>(0,_u._)`{allowedValue: ${e}}`},iO={keyword:"const",$data:!0,error:nO,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,_u._)`!${(0,tO.useFunc)(t,rO.default)}(${r}, ${i})`):e.fail((0,_u._)`${a} !== ${r}`)}};nd.default=iO;var id={};Object.defineProperty(id,"__esModule",{value:!0});const qa=me,aO=Se,oO=Fo,sO={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,qa._)`{allowedValues: ${e}}`},lO={keyword:"enum",schemaType:"array",$data:!0,error:sO,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:a,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=o.opts.loopEnum;let l;const f=()=>l??(l=(0,aO.useFunc)(t,oO.default));let u;if(s||n)u=t.let("valid"),e.block$data(u,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=t.const("vSchema",a);u=(0,qa.or)(...i.map((_,w)=>h(p,w)))}e.pass(u);function c(){t.assign(u,!1),t.forOf("v",a,p=>t.if((0,qa._)`${f()}(${r}, ${p})`,()=>t.assign(u,!0).break()))}function h(p,_){const w=i[_];return typeof w=="object"&&w!==null?(0,qa._)`${f()}(${r}, ${p}[${_}])`:(0,qa._)`${r} === ${w}`}}};id.default=lO;Object.defineProperty(Kf,"__esModule",{value:!0});const cO=Yf,uO=Wf,fO=Jf,dO=Qf,hO=Zf,pO=ed,mO=td,yO=rd,gO=nd,vO=id,_O=[cO.default,uO.default,fO.default,dO.default,hO.default,pO.default,mO.default,yO.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},gO.default,vO.default];Kf.default=_O;var ad={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.validateAdditionalItems=void 0;const Xn=me,$u=Se,$O={message:({params:{len:e}})=>(0,Xn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xn._)`{limit: ${e}}`},wO={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:$O,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,$u.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Hg(e,n)}};function Hg(e,t){const{gen:r,schema:n,data:i,keyword:a,it:o}=e;o.items=!0;const s=r.const("len",(0,Xn._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xn._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,$u.alwaysValidSchema)(o,n)){const f=r.var("valid",(0,Xn._)`${s} <= ${t.length}`);r.if((0,Xn.not)(f),()=>l(f)),e.ok(f)}function l(f){r.forRange("i",t.length,s,u=>{e.subschema({keyword:a,dataProp:u,dataPropType:$u.Type.Num},f),o.allErrors||r.if((0,Xn.not)(f),()=>r.break())})}}fa.validateAdditionalItems=Hg;fa.default=wO;var od={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.validateTuple=void 0;const qh=me,Os=Se,EO=ve,SO={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return zg(e,"additionalItems",t);r.items=!0,!(0,Os.alwaysValidSchema)(r,t)&&e.ok((0,EO.validateArray)(e))}};function zg(e,t,r=e.schema){const{gen:n,parentSchema:i,data:a,keyword:o,it:s}=e;u(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=Os.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),f=n.const("len",(0,qh._)`${a}.length`);r.forEach((c,h)=>{(0,Os.alwaysValidSchema)(s,c)||(n.if((0,qh._)`${f} > ${h}`,()=>e.subschema({keyword:o,schemaProp:h,dataProp:h},l)),e.ok(l))});function u(c){const{opts:h,errSchemaPath:p}=s,_=r.length,w=_===c.minItems&&(_===c.maxItems||c[t]===!1);if(h.strictTuples&&!w){const g=`"${o}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,Os.checkStrictMode)(s,g,h.strictTuples)}}}da.validateTuple=zg;da.default=SO;Object.defineProperty(od,"__esModule",{value:!0});const bO=da,TO={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,bO.validateTuple)(e,"items")};od.default=TO;var sd={};Object.defineProperty(sd,"__esModule",{value:!0});const Vh=me,PO=Se,OO=ve,AO=fa,NO={message:({params:{len:e}})=>(0,Vh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vh._)`{limit: ${e}}`},CO={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:NO,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,PO.alwaysValidSchema)(n,t)&&(i?(0,AO.validateAdditionalItems)(e,i):e.ok((0,OO.validateArray)(e)))}};sd.default=CO;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});const fr=me,ss=Se,IO={message:({params:{min:e,max:t}})=>t===void 0?(0,fr.str)`must contain at least ${e} valid item(s)`:(0,fr.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,fr._)`{minContains: ${e}}`:(0,fr._)`{minContains: ${e}, maxContains: ${t}}`},RO={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:IO,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:a}=e;let o,s;const{minContains:l,maxContains:f}=n;a.opts.next?(o=l===void 0?1:l,s=f):o=1;const u=t.const("len",(0,fr._)`${i}.length`);if(e.setParams({min:o,max:s}),s===void 0&&o===0){(0,ss.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&o>s){(0,ss.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ss.alwaysValidSchema)(a,r)){let w=(0,fr._)`${u} >= ${o}`;s!==void 0&&(w=(0,fr._)`${w} && ${u} <= ${s}`),e.pass(w);return}a.items=!0;const c=t.name("valid");s===void 0&&o===1?p(c,()=>t.if(c,()=>t.break())):o===0?(t.let(c,!0),s!==void 0&&t.if((0,fr._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const w=t.name("_valid"),g=t.let("count",0);p(w,()=>t.if(w,()=>_(g)))}function p(w,g){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:ss.Type.Num,compositeRule:!0},w),g()})}function _(w){t.code((0,fr._)`${w}++`),s===void 0?t.if((0,fr._)`${w} >= ${o}`,()=>t.assign(c,!0).break()):(t.if((0,fr._)`${w} > ${s}`,()=>t.assign(c,!1).break()),o===1?t.assign(c,!0):t.if((0,fr._)`${w} >= ${o}`,()=>t.assign(c,!0)))}}};ld.default=RO;var Gg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=me,r=Se,n=ve;e.error={message:({params:{property:l,depsCount:f,deps:u}})=>{const c=f===1?"property":"properties";return(0,t.str)`must have ${c} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:u,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${f},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,u]=a(l);o(l,f),s(l,u)}};function a({schema:l}){const f={},u={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?f:u;h[c]=l[c]}return[f,u]}function o(l,f=l.schema){const{gen:u,data:c,it:h}=l;if(Object.keys(f).length===0)return;const p=u.let("missing");for(const _ in f){const w=f[_];if(w.length===0)continue;const g=(0,n.propertyInData)(u,c,_,h.opts.ownProperties);l.setParams({property:_,depsCount:w.length,deps:w.join(", ")}),h.allErrors?u.if(g,()=>{for(const m of w)(0,n.checkReportMissingProp)(l,m)}):(u.if((0,t._)`${g} && (${(0,n.checkMissingProp)(l,w,p)})`),(0,n.reportMissingProp)(l,p),u.else())}}e.validatePropertyDeps=o;function s(l,f=l.schema){const{gen:u,data:c,keyword:h,it:p}=l,_=u.name("valid");for(const w in f)(0,r.alwaysValidSchema)(p,f[w])||(u.if((0,n.propertyInData)(u,c,w,p.opts.ownProperties),()=>{const g=l.subschema({keyword:h,schemaProp:w},_);l.mergeValidEvaluated(g,_)},()=>u.var(_,!0)),l.ok(_))}e.validateSchemaDeps=s,e.default=i})(Gg);var cd={};Object.defineProperty(cd,"__esModule",{value:!0});const Kg=me,DO=Se,FO={message:"property name must be valid",params:({params:e})=>(0,Kg._)`{propertyName: ${e.propertyName}}`},kO={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:FO,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,DO.alwaysValidSchema)(i,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,Kg.not)(a),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(a)}};cd.default=kO;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});const ls=ve,wr=me,LO=qr,cs=Se,jO={message:"must NOT have additional properties",params:({params:e})=>(0,wr._)`{additionalProperty: ${e.additionalProperty}}`},UO={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jO,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,cs.alwaysValidSchema)(o,r))return;const f=(0,ls.allSchemaProperties)(n.properties),u=(0,ls.allSchemaProperties)(n.patternProperties);c(),e.ok((0,wr._)`${a} === ${LO.default.errors}`);function c(){t.forIn("key",i,g=>{!f.length&&!u.length?_(g):t.if(h(g),()=>_(g))})}function h(g){let m;if(f.length>8){const y=(0,cs.schemaRefOrVal)(o,n.properties,"properties");m=(0,ls.isOwnProperty)(t,y,g)}else f.length?m=(0,wr.or)(...f.map(y=>(0,wr._)`${g} === ${y}`)):m=wr.nil;return u.length&&(m=(0,wr.or)(m,...u.map(y=>(0,wr._)`${(0,ls.usePattern)(e,y)}.test(${g})`))),(0,wr.not)(m)}function p(g){t.code((0,wr._)`delete ${i}[${g}]`)}function _(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,cs.alwaysValidSchema)(o,r)){const m=t.name("valid");l.removeAdditional==="failing"?(w(g,m,!1),t.if((0,wr.not)(m),()=>{e.reset(),p(g)})):(w(g,m),s||t.if((0,wr.not)(m),()=>t.break()))}}function w(g,m,y){const S={keyword:"additionalProperties",dataProp:g,dataPropType:cs.Type.Str};y===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,m)}}};Dl.default=UO;var ud={};Object.defineProperty(ud,"__esModule",{value:!0});const MO=Ar,Bh=ve,Oc=Se,Hh=Dl,xO={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Hh.default.code(new MO.KeywordCxt(a,Hh.default,"additionalProperties"));const o=(0,Bh.allSchemaProperties)(r);for(const c of o)a.definedProperties.add(c);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Oc.mergeEvaluated.props(t,(0,Oc.toHash)(o),a.props));const s=o.filter(c=>!(0,Oc.alwaysValidSchema)(a,r[c]));if(s.length===0)return;const l=t.name("valid");for(const c of s)f(c)?u(c):(t.if((0,Bh.propertyInData)(t,i,c,a.opts.ownProperties)),u(c),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function f(c){return a.opts.useDefaults&&!a.compositeRule&&r[c].default!==void 0}function u(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};ud.default=xO;var fd={};Object.defineProperty(fd,"__esModule",{value:!0});const zh=ve,us=me,Gh=Se,Kh=Se,qO={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:a}=e,{opts:o}=a,s=(0,zh.allSchemaProperties)(r),l=s.filter(w=>(0,Gh.alwaysValidSchema)(a,r[w]));if(s.length===0||l.length===s.length&&(!a.opts.unevaluated||a.props===!0))return;const f=o.strictSchema&&!o.allowMatchingProperties&&i.properties,u=t.name("valid");a.props!==!0&&!(a.props instanceof us.Name)&&(a.props=(0,Kh.evaluatedPropsToName)(t,a.props));const{props:c}=a;h();function h(){for(const w of s)f&&p(w),a.allErrors?_(w):(t.var(u,!0),_(w),t.if(u))}function p(w){for(const g in f)new RegExp(w).test(g)&&(0,Gh.checkStrictMode)(a,`property ${g} matches pattern ${w} (use allowMatchingProperties)`)}function _(w){t.forIn("key",n,g=>{t.if((0,us._)`${(0,zh.usePattern)(e,w)}.test(${g})`,()=>{const m=l.includes(w);m||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:g,dataPropType:Kh.Type.Str},u),a.opts.unevaluated&&c!==!0?t.assign((0,us._)`${c}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,us.not)(u),()=>t.break())})})}}};fd.default=qO;var dd={};Object.defineProperty(dd,"__esModule",{value:!0});const VO=Se,BO={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,VO.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};dd.default=BO;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});const HO=ve,zO={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:HO.validateUnion,error:{message:"must match a schema in anyOf"}};hd.default=zO;var pd={};Object.defineProperty(pd,"__esModule",{value:!0});const As=me,GO=Se,KO={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,As._)`{passingSchemas: ${e.passing}}`},YO={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:KO,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(f),e.result(o,()=>e.reset(),()=>e.error(!0));function f(){a.forEach((u,c)=>{let h;(0,GO.alwaysValidSchema)(i,u)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,As._)`${l} && ${o}`).assign(o,!1).assign(s,(0,As._)`[${s}, ${c}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(s,c),h&&e.mergeEvaluated(h,As.Name)})})}}};pd.default=YO;var md={};Object.defineProperty(md,"__esModule",{value:!0});const WO=Se,JO={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((a,o)=>{if((0,WO.alwaysValidSchema)(n,a))return;const s=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(s)})}};md.default=JO;var yd={};Object.defineProperty(yd,"__esModule",{value:!0});const tl=me,Yg=Se,XO={message:({params:e})=>(0,tl.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,tl._)`{failingKeyword: ${e.ifClause}}`},QO={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:XO,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Yg.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Yh(n,"then"),a=Yh(n,"else");if(!i&&!a)return;const o=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&a){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(s,f("then",u),f("else",u))}else i?t.if(s,f("then")):t.if((0,tl.not)(s),f("else"));e.pass(o,()=>e.error(!0));function l(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(u)}function f(u,c){return()=>{const h=e.subschema({keyword:u},s);t.assign(o,s),e.mergeValidEvaluated(h,o),c?t.assign(c,(0,tl._)`${u}`):e.setParams({ifClause:u})}}}};function Yh(e,t){const r=e.schema[t];return r!==void 0&&!(0,Yg.alwaysValidSchema)(e,r)}yd.default=QO;var gd={};Object.defineProperty(gd,"__esModule",{value:!0});const ZO=Se,eA={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,ZO.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};gd.default=eA;Object.defineProperty(ad,"__esModule",{value:!0});const tA=fa,rA=od,nA=da,iA=sd,aA=ld,oA=Gg,sA=cd,lA=Dl,cA=ud,uA=fd,fA=dd,dA=hd,hA=pd,pA=md,mA=yd,yA=gd;function gA(e=!1){const t=[fA.default,dA.default,hA.default,pA.default,mA.default,yA.default,sA.default,lA.default,oA.default,cA.default,uA.default];return e?t.push(rA.default,iA.default):t.push(tA.default,nA.default),t.push(aA.default),t}ad.default=gA;var vd={},_d={};Object.defineProperty(_d,"__esModule",{value:!0});const Qe=me,vA={message:({schemaCode:e})=>(0,Qe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Qe._)`{format: ${e}}`},_A={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:vA,code(e,t){const{gen:r,data:n,$data:i,schema:a,schemaCode:o,it:s}=e,{opts:l,errSchemaPath:f,schemaEnv:u,self:c}=s;if(!l.validateFormats)return;i?h():p();function h(){const _=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),w=r.const("fDef",(0,Qe._)`${_}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,Qe._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(g,(0,Qe._)`${w}.type || "string"`).assign(m,(0,Qe._)`${w}.validate`),()=>r.assign(g,(0,Qe._)`"string"`).assign(m,w)),e.fail$data((0,Qe.or)(y(),S()));function y(){return l.strictSchema===!1?Qe.nil:(0,Qe._)`${o} && !${m}`}function S(){const O=u.$async?(0,Qe._)`(${w}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,Qe._)`${m}(${n})`,j=(0,Qe._)`(typeof ${m} == "function" ? ${O} : ${m}.test(${n}))`;return(0,Qe._)`${m} && ${m} !== true && ${g} === ${t} && !${j}`}}function p(){const _=c.formats[a];if(!_){y();return}if(_===!0)return;const[w,g,m]=S(_);w===t&&e.pass(O());function y(){if(l.strictSchema===!1){c.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function S(j){const P=j instanceof RegExp?(0,Qe.regexpCode)(j):l.code.formats?(0,Qe._)`${l.code.formats}${(0,Qe.getProperty)(a)}`:void 0,E=r.scopeValue("formats",{key:a,ref:j,code:P});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,Qe._)`${E}.validate`]:["string",j,E]}function O(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!u.$async)throw new Error("async format in sync schema");return(0,Qe._)`await ${m}(${n})`}return typeof g=="function"?(0,Qe._)`${m}(${n})`:(0,Qe._)`${m}.test(${n})`}}}};_d.default=_A;Object.defineProperty(vd,"__esModule",{value:!0});const $A=_d,wA=[$A.default];vd.default=wA;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.contentVocabulary=Zi.metadataVocabulary=void 0;Zi.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Zi.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Hf,"__esModule",{value:!0});const EA=zf,SA=Kf,bA=ad,TA=vd,Wh=Zi,PA=[EA.default,SA.default,(0,bA.default)(),TA.default,Wh.metadataVocabulary,Wh.contentVocabulary];Hf.default=PA;var $d={},Wg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Wg);Object.defineProperty($d,"__esModule",{value:!0});const Li=me,wu=Wg,Jh=Yt,OA=Se,AA={message:({params:{discrError:e,tagName:t}})=>e===wu.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Li._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},NA={keyword:"discriminator",type:"object",schemaType:"object",error:AA,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:a}=e,{oneOf:o}=i;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",(0,Li._)`${r}${(0,Li.getProperty)(s)}`);t.if((0,Li._)`typeof ${f} == "string"`,()=>u(),()=>e.error(!1,{discrError:wu.DiscrError.Tag,tag:f,tagName:s})),e.ok(l);function u(){const p=h();t.if(!1);for(const _ in p)t.elseIf((0,Li._)`${f} === ${_}`),t.assign(l,c(p[_]));t.else(),e.error(!1,{discrError:wu.DiscrError.Mapping,tag:f,tagName:s}),t.endIf()}function c(p){const _=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:p},_);return e.mergeEvaluated(w,Li.Name),_}function h(){var p;const _={},w=m(i);let g=!0;for(let O=0;O<o.length;O++){let j=o[O];j!=null&&j.$ref&&!(0,OA.schemaHasRulesButRef)(j,a.self.RULES)&&(j=Jh.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,j==null?void 0:j.$ref),j instanceof Jh.SchemaEnv&&(j=j.schema));const P=(p=j==null?void 0:j.properties)===null||p===void 0?void 0:p[s];if(typeof P!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);g=g&&(w||m(j)),y(P,O)}if(!g)throw new Error(`discriminator: "${s}" must be required`);return _;function m({required:O}){return Array.isArray(O)&&O.includes(s)}function y(O,j){if(O.const)S(O.const,j);else if(O.enum)for(const P of O.enum)S(P,j);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function S(O,j){if(typeof O!="string"||O in _)throw new Error(`discriminator: "${s}" values must be unique strings`);_[O]=j}}}};$d.default=NA;const CA="http://json-schema.org/draft-07/schema#",IA="http://json-schema.org/draft-07/schema#",RA="Core schema meta-schema",DA={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},FA=["object","boolean"],kA={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},LA={$schema:CA,$id:IA,title:RA,definitions:DA,type:FA,properties:kA,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=gg,n=Hf,i=$d,a=LA,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(_,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=Ar;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var u=me;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var c=Ro;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Do;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(K1,Js);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Js,r=me,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:s,schemaCode:l})=>r.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>r._`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:a,code(s){const{gen:l,data:f,schemaCode:u,keyword:c,it:h}=s,{opts:p,self:_}=h;if(!p.validateFormats)return;const w=new t.KeywordCxt(h,_.RULES.all.format.definition,"format");w.$data?g():m();function g(){const S=l.scopeValue("formats",{ref:_.formats,code:p.code.formats}),O=l.const("fmt",r._`${S}[${w.schemaCode}]`);s.fail$data(r.or(r._`typeof ${O} != "object"`,r._`${O} instanceof RegExp`,r._`typeof ${O}.compare != "function"`,y(O)))}function m(){const S=w.schema,O=_.formats[S];if(!O||O===!0)return;if(typeof O!="object"||O instanceof RegExp||typeof O.compare!="function")throw new Error(`"${c}": format "${S}" does not define "compare" function`);const j=l.scopeValue("formats",{key:S,ref:O,code:p.code.formats?r._`${p.code.formats}${r.getProperty(S)}`:void 0});s.fail$data(y(j))}function y(S){return r._`${S}.compare(${f}, ${u}) ${i[c].fail} 0`}},dependencies:["format"]};const o=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=o})(yg);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=mg,n=yg,i=me,a=new i.Name("fullFormats"),o=new i.Name("fastFormats"),s=(f,u={keywords:!0})=>{if(Array.isArray(u))return l(f,u,r.fullFormats,a),f;const[c,h]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],p=u.formats||r.formatNames;return l(f,p,c,h),u.keywords&&n.default(f),f};s.get=(f,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[f];if(!h)throw new Error(`Unknown format "${f}"`);return h};function l(f,u,c,h){var p,_;(p=(_=f.opts.code).formats)!==null&&p!==void 0||(_.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const w of u)f.addFormat(w,c[w])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(G1,Ws);const jA=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!UA(i,a)&&n||Object.defineProperty(e,r,a)},UA=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},MA=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},xA=(e,t)=>`/* Wrapped ${e}*/
${t}`,qA=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),VA=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),BA=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=xA.bind(null,n,t.toString());Object.defineProperty(i,"name",VA),Object.defineProperty(e,"toString",{...qA,value:i})},HA=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))jA(e,t,i,r);return MA(e,t),BA(e,t,n),e};var zA=HA;const GA=zA;var KA=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,o;const s=function(...l){const f=this,u=()=>{a=void 0,i&&(o=e.apply(f,l))},c=n&&!a;return clearTimeout(a),a=setTimeout(u,r),c&&(o=e.apply(f,l)),o};return GA(s,e),s.cancel=()=>{a&&(clearTimeout(a),a=void 0)},s},sn={},YA={get exports(){return sn},set exports(e){sn=e}};const WA="2.0.0",JA=256,XA=Number.MAX_SAFE_INTEGER||9007199254740991,QA=16;var Fl={SEMVER_SPEC_VERSION:WA,MAX_LENGTH:JA,MAX_SAFE_INTEGER:XA,MAX_SAFE_COMPONENT_LENGTH:QA};const ZA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var kl=ZA;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=Fl,n=kl;t=e.exports={};const i=t.re=[],a=t.src=[],o=t.t={};let s=0;const l=(f,u,c)=>{const h=s++;n(f,h,u),o[f]=h,a[h]=u,i[h]=new RegExp(u,c?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${a[o.NUMERICIDENTIFIER]})\\.(${a[o.NUMERICIDENTIFIER]})\\.(${a[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${a[o.NUMERICIDENTIFIERLOOSE]})\\.(${a[o.NUMERICIDENTIFIERLOOSE]})\\.(${a[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${a[o.NUMERICIDENTIFIER]}|${a[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${a[o.NUMERICIDENTIFIERLOOSE]}|${a[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${a[o.PRERELEASEIDENTIFIER]}(?:\\.${a[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${a[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${a[o.BUILDIDENTIFIER]}(?:\\.${a[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${a[o.MAINVERSION]}${a[o.PRERELEASE]}?${a[o.BUILD]}?`),l("FULL",`^${a[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${a[o.MAINVERSIONLOOSE]}${a[o.PRERELEASELOOSE]}?${a[o.BUILD]}?`),l("LOOSE",`^${a[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${a[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${a[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${a[o.XRANGEIDENTIFIER]})(?:\\.(${a[o.XRANGEIDENTIFIER]})(?:\\.(${a[o.XRANGEIDENTIFIER]})(?:${a[o.PRERELEASE]})?${a[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${a[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[o.XRANGEIDENTIFIERLOOSE]})(?:${a[o.PRERELEASELOOSE]})?${a[o.BUILD]}?)?)?`),l("XRANGE",`^${a[o.GTLT]}\\s*${a[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${a[o.GTLT]}\\s*${a[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",a[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${a[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${a[o.LONETILDE]}${a[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${a[o.LONETILDE]}${a[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${a[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${a[o.LONECARET]}${a[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${a[o.LONECARET]}${a[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${a[o.GTLT]}\\s*(${a[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${a[o.GTLT]}\\s*(${a[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${a[o.GTLT]}\\s*(${a[o.LOOSEPLAIN]}|${a[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${a[o.XRANGEPLAIN]})\\s+-\\s+(${a[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${a[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(YA,sn);const eN=["includePrerelease","loose","rtl"],tN=e=>e?typeof e!="object"?{loose:!0}:eN.filter(t=>e[t]).reduce((t,r)=>(t[r]=!0,t),{}):{};var Ll=tN;const Xh=/^[0-9]+$/,Jg=(e,t)=>{const r=Xh.test(e),n=Xh.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},rN=(e,t)=>Jg(t,e);var Xg={compareIdentifiers:Jg,rcompareIdentifiers:rN};const fs=kl,{MAX_LENGTH:Qh,MAX_SAFE_INTEGER:ds}=Fl,{re:Zh,t:ep}=sn,nN=Ll,{compareIdentifiers:Oi}=Xg;let iN=class Dr{constructor(t,r){if(r=nN(r),t instanceof Dr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Qh)throw new TypeError(`version is longer than ${Qh} characters`);fs("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Zh[ep.LOOSE]:Zh[ep.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ds||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ds||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ds||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const a=+i;if(a>=0&&a<ds)return a}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(fs("SemVer.compare",this.version,this.options,t),!(t instanceof Dr)){if(typeof t=="string"&&t===this.version)return 0;t=new Dr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Dr||(t=new Dr(t,this.options)),Oi(this.major,t.major)||Oi(this.minor,t.minor)||Oi(this.patch,t.patch)}comparePre(t){if(t instanceof Dr||(t=new Dr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(fs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Oi(n,i)}while(++r)}compareBuild(t){t instanceof Dr||(t=new Dr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(fs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Oi(n,i)}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Oi(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};var jt=iN;const{MAX_LENGTH:aN}=Fl,{re:tp,t:rp}=sn,np=jt,oN=Ll,sN=(e,t)=>{if(t=oN(t),e instanceof np)return e;if(typeof e!="string"||e.length>aN||!(t.loose?tp[rp.LOOSE]:tp[rp.FULL]).test(e))return null;try{return new np(e,t)}catch{return null}};var ha=sN;const lN=ha,cN=(e,t)=>{const r=lN(e,t);return r?r.version:null};var uN=cN;const fN=ha,dN=(e,t)=>{const r=fN(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var hN=dN;const ip=jt,pN=(e,t,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new ip(e instanceof ip?e.version:e,r).inc(t,n).version}catch{return null}};var mN=pN;const ap=jt,yN=(e,t,r)=>new ap(e,r).compare(new ap(t,r));var Nr=yN;const gN=Nr,vN=(e,t,r)=>gN(e,t,r)===0;var wd=vN;const op=ha,_N=wd,$N=(e,t)=>{if(_N(e,t))return null;{const r=op(e),n=op(t),i=r.prerelease.length||n.prerelease.length,a=i?"pre":"",o=i?"prerelease":"";for(const s in r)if((s==="major"||s==="minor"||s==="patch")&&r[s]!==n[s])return a+s;return o}};var wN=$N;const EN=jt,SN=(e,t)=>new EN(e,t).major;var bN=SN;const TN=jt,PN=(e,t)=>new TN(e,t).minor;var ON=PN;const AN=jt,NN=(e,t)=>new AN(e,t).patch;var CN=NN;const IN=ha,RN=(e,t)=>{const r=IN(e,t);return r&&r.prerelease.length?r.prerelease:null};var DN=RN;const FN=Nr,kN=(e,t,r)=>FN(t,e,r);var LN=kN;const jN=Nr,UN=(e,t)=>jN(e,t,!0);var MN=UN;const sp=jt,xN=(e,t,r)=>{const n=new sp(e,r),i=new sp(t,r);return n.compare(i)||n.compareBuild(i)};var Ed=xN;const qN=Ed,VN=(e,t)=>e.sort((r,n)=>qN(r,n,t));var BN=VN;const HN=Ed,zN=(e,t)=>e.sort((r,n)=>HN(n,r,t));var GN=zN;const KN=Nr,YN=(e,t,r)=>KN(e,t,r)>0;var jl=YN;const WN=Nr,JN=(e,t,r)=>WN(e,t,r)<0;var Sd=JN;const XN=Nr,QN=(e,t,r)=>XN(e,t,r)!==0;var Qg=QN;const ZN=Nr,eC=(e,t,r)=>ZN(e,t,r)>=0;var bd=eC;const tC=Nr,rC=(e,t,r)=>tC(e,t,r)<=0;var Td=rC;const nC=wd,iC=Qg,aC=jl,oC=bd,sC=Sd,lC=Td,cC=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return nC(e,r,n);case"!=":return iC(e,r,n);case">":return aC(e,r,n);case">=":return oC(e,r,n);case"<":return sC(e,r,n);case"<=":return lC(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Zg=cC;const uC=jt,fC=ha,{re:hs,t:ps}=sn,dC=(e,t)=>{if(e instanceof uC)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(hs[ps.COERCE]);else{let n;for(;(n=hs[ps.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),hs[ps.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;hs[ps.COERCERTL].lastIndex=-1}return r===null?null:fC(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var hC=dC,Ac,lp;function pC(){return lp||(lp=1,Ac=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Ac}var mC=Pe;Pe.Node=ci;Pe.create=Pe;function Pe(e){var t=this;if(t instanceof Pe||(t=new Pe),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Pe.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Pe.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Pe.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Pe.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)gC(this,arguments[e]);return this.length};Pe.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)vC(this,arguments[e]);return this.length};Pe.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Pe.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Pe.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Pe.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Pe.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Pe.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Pe.prototype.map=function(e,t){t=t||this;for(var r=new Pe,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Pe.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Pe,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Pe.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Pe.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Pe.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Pe.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Pe.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Pe;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Pe.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Pe;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Pe.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var a=[],n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=yC(this,i,r[n]);return a};Pe.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function yC(e,t,r){var n=t===e.head?new ci(r,null,t,e):new ci(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function gC(e,t){e.tail=new ci(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function vC(e,t){e.head=new ci(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ci(e,t,r,n){if(!(this instanceof ci))return new ci(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{pC()(Pe)}catch{}const _C=mC,Qn=Symbol("max"),Zr=Symbol("length"),Ai=Symbol("lengthCalculator"),eo=Symbol("allowStale"),ei=Symbol("maxAge"),Jr=Symbol("dispose"),cp=Symbol("noDisposeOnSet"),ct=Symbol("lruList"),Er=Symbol("cache"),ev=Symbol("updateAgeOnGet"),Nc=()=>1;class $C{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Qn]=t.max||1/0;const r=t.length||Nc;if(this[Ai]=typeof r!="function"?Nc:r,this[eo]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ei]=t.maxAge||0,this[Jr]=t.dispose,this[cp]=t.noDisposeOnSet||!1,this[ev]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Qn]=t||1/0,Ra(this)}get max(){return this[Qn]}set allowStale(t){this[eo]=!!t}get allowStale(){return this[eo]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ei]=t,Ra(this)}get maxAge(){return this[ei]}set lengthCalculator(t){typeof t!="function"&&(t=Nc),t!==this[Ai]&&(this[Ai]=t,this[Zr]=0,this[ct].forEach(r=>{r.length=this[Ai](r.value,r.key),this[Zr]+=r.length})),Ra(this)}get lengthCalculator(){return this[Ai]}get length(){return this[Zr]}get itemCount(){return this[ct].length}rforEach(t,r){r=r||this;for(let n=this[ct].tail;n!==null;){const i=n.prev;up(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ct].head;n!==null;){const i=n.next;up(this,t,n,r),n=i}}keys(){return this[ct].toArray().map(t=>t.key)}values(){return this[ct].toArray().map(t=>t.value)}reset(){this[Jr]&&this[ct]&&this[ct].length&&this[ct].forEach(t=>this[Jr](t.key,t.value)),this[Er]=new Map,this[ct]=new _C,this[Zr]=0}dump(){return this[ct].map(t=>rl(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ct]}set(t,r,n){if(n=n||this[ei],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,a=this[Ai](r,t);if(this[Er].has(t)){if(a>this[Qn])return Gi(this,this[Er].get(t)),!1;const l=this[Er].get(t).value;return this[Jr]&&(this[cp]||this[Jr](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Zr]+=a-l.length,l.length=a,this.get(t),Ra(this),!0}const o=new wC(t,r,a,i,n);return o.length>this[Qn]?(this[Jr]&&this[Jr](t,r),!1):(this[Zr]+=o.length,this[ct].unshift(o),this[Er].set(t,this[ct].head),Ra(this),!0)}has(t){if(!this[Er].has(t))return!1;const r=this[Er].get(t).value;return!rl(this,r)}get(t){return Cc(this,t,!0)}peek(t){return Cc(this,t,!1)}pop(){const t=this[ct].tail;return t?(Gi(this,t),t.value):null}del(t){Gi(this,this[Er].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{const o=a-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Er].forEach((t,r)=>Cc(this,r,!1))}}const Cc=(e,t,r)=>{const n=e[Er].get(t);if(n){const i=n.value;if(rl(e,i)){if(Gi(e,n),!e[eo])return}else r&&(e[ev]&&(n.value.now=Date.now()),e[ct].unshiftNode(n));return i.value}},rl=(e,t)=>{if(!t||!t.maxAge&&!e[ei])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ei]&&r>e[ei]},Ra=e=>{if(e[Zr]>e[Qn])for(let t=e[ct].tail;e[Zr]>e[Qn]&&t!==null;){const r=t.prev;Gi(e,t),t=r}},Gi=(e,t)=>{if(t){const r=t.value;e[Jr]&&e[Jr](r.key,r.value),e[Zr]-=r.length,e[Er].delete(r.key),e[ct].removeNode(t)}};class wC{constructor(t,r,n,i,a){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}}const up=(e,t,r,n)=>{let i=r.value;rl(e,i)&&(Gi(e,r),e[eo]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var EC=$C,Ic,fp;function Cr(){if(fp)return Ic;fp=1;class e{constructor(k,Q){if(Q=n(Q),k instanceof e)return k.loose===!!Q.loose&&k.includePrerelease===!!Q.includePrerelease?k:new e(k.raw,Q);if(k instanceof i)return this.raw=k.value,this.set=[[k]],this.format(),this;if(this.options=Q,this.loose=!!Q.loose,this.includePrerelease=!!Q.includePrerelease,this.raw=k,this.set=k.split("||").map(X=>this.parseRange(X.trim())).filter(X=>X.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${k}`);if(this.set.length>1){const X=this.set[0];if(this.set=this.set.filter(Z=>!h(Z[0])),this.set.length===0)this.set=[X];else if(this.set.length>1){for(const Z of this.set)if(Z.length===1&&p(Z[0])){this.set=[Z];break}}}this.format()}format(){return this.range=this.set.map(k=>k.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(k){k=k.trim();const X=`parseRange:${Object.keys(this.options).join(",")}:${k}`,Z=r.get(X);if(Z)return Z;const ee=this.options.loose,Y=ee?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];k=k.replace(Y,b(this.options.includePrerelease)),a("hyphen replace",k),k=k.replace(s[l.COMPARATORTRIM],f),a("comparator trim",k),k=k.replace(s[l.TILDETRIM],u),k=k.replace(s[l.CARETTRIM],c),k=k.split(/\s+/).join(" ");let z=k.split(" ").map(L=>w(L,this.options)).join(" ").split(/\s+/).map(L=>C(L,this.options));ee&&(z=z.filter(L=>(a("loose invalid filter",L,this.options),!!L.match(s[l.COMPARATORLOOSE])))),a("range list",z);const G=new Map,R=z.map(L=>new i(L,this.options));for(const L of R){if(h(L))return[L];G.set(L.value,L)}G.size>1&&G.has("")&&G.delete("");const A=[...G.values()];return r.set(X,A),A}intersects(k,Q){if(!(k instanceof e))throw new TypeError("a Range is required");return this.set.some(X=>_(X,Q)&&k.set.some(Z=>_(Z,Q)&&X.every(ee=>Z.every(Y=>ee.intersects(Y,Q)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new o(k,this.options)}catch{return!1}for(let Q=0;Q<this.set.length;Q++)if(V(this.set[Q],k,this.options))return!0;return!1}}Ic=e;const t=EC,r=new t({max:1e3}),n=Ll,i=Ul(),a=kl,o=jt,{re:s,t:l,comparatorTrimReplace:f,tildeTrimReplace:u,caretTrimReplace:c}=sn,h=q=>q.value==="<0.0.0-0",p=q=>q.value==="",_=(q,k)=>{let Q=!0;const X=q.slice();let Z=X.pop();for(;Q&&X.length;)Q=X.every(ee=>Z.intersects(ee,k)),Z=X.pop();return Q},w=(q,k)=>(a("comp",q,k),q=S(q,k),a("caret",q),q=m(q,k),a("tildes",q),q=j(q,k),a("xrange",q),q=E(q,k),a("stars",q),q),g=q=>!q||q.toLowerCase()==="x"||q==="*",m=(q,k)=>q.trim().split(/\s+/).map(Q=>y(Q,k)).join(" "),y=(q,k)=>{const Q=k.loose?s[l.TILDELOOSE]:s[l.TILDE];return q.replace(Q,(X,Z,ee,Y,z)=>{a("tilde",q,X,Z,ee,Y,z);let G;return g(Z)?G="":g(ee)?G=`>=${Z}.0.0 <${+Z+1}.0.0-0`:g(Y)?G=`>=${Z}.${ee}.0 <${Z}.${+ee+1}.0-0`:z?(a("replaceTilde pr",z),G=`>=${Z}.${ee}.${Y}-${z} <${Z}.${+ee+1}.0-0`):G=`>=${Z}.${ee}.${Y} <${Z}.${+ee+1}.0-0`,a("tilde return",G),G})},S=(q,k)=>q.trim().split(/\s+/).map(Q=>O(Q,k)).join(" "),O=(q,k)=>{a("caret",q,k);const Q=k.loose?s[l.CARETLOOSE]:s[l.CARET],X=k.includePrerelease?"-0":"";return q.replace(Q,(Z,ee,Y,z,G)=>{a("caret",q,Z,ee,Y,z,G);let R;return g(ee)?R="":g(Y)?R=`>=${ee}.0.0${X} <${+ee+1}.0.0-0`:g(z)?ee==="0"?R=`>=${ee}.${Y}.0${X} <${ee}.${+Y+1}.0-0`:R=`>=${ee}.${Y}.0${X} <${+ee+1}.0.0-0`:G?(a("replaceCaret pr",G),ee==="0"?Y==="0"?R=`>=${ee}.${Y}.${z}-${G} <${ee}.${Y}.${+z+1}-0`:R=`>=${ee}.${Y}.${z}-${G} <${ee}.${+Y+1}.0-0`:R=`>=${ee}.${Y}.${z}-${G} <${+ee+1}.0.0-0`):(a("no pr"),ee==="0"?Y==="0"?R=`>=${ee}.${Y}.${z}${X} <${ee}.${Y}.${+z+1}-0`:R=`>=${ee}.${Y}.${z}${X} <${ee}.${+Y+1}.0-0`:R=`>=${ee}.${Y}.${z} <${+ee+1}.0.0-0`),a("caret return",R),R})},j=(q,k)=>(a("replaceXRanges",q,k),q.split(/\s+/).map(Q=>P(Q,k)).join(" ")),P=(q,k)=>{q=q.trim();const Q=k.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return q.replace(Q,(X,Z,ee,Y,z,G)=>{a("xRange",q,X,Z,ee,Y,z,G);const R=g(ee),A=R||g(Y),L=A||g(z),N=L;return Z==="="&&N&&(Z=""),G=k.includePrerelease?"-0":"",R?Z===">"||Z==="<"?X="<0.0.0-0":X="*":Z&&N?(A&&(Y=0),z=0,Z===">"?(Z=">=",A?(ee=+ee+1,Y=0,z=0):(Y=+Y+1,z=0)):Z==="<="&&(Z="<",A?ee=+ee+1:Y=+Y+1),Z==="<"&&(G="-0"),X=`${Z+ee}.${Y}.${z}${G}`):A?X=`>=${ee}.0.0${G} <${+ee+1}.0.0-0`:L&&(X=`>=${ee}.${Y}.0${G} <${ee}.${+Y+1}.0-0`),a("xRange return",X),X})},E=(q,k)=>(a("replaceStars",q,k),q.trim().replace(s[l.STAR],"")),C=(q,k)=>(a("replaceGTE0",q,k),q.trim().replace(s[k.includePrerelease?l.GTE0PRE:l.GTE0],"")),b=q=>(k,Q,X,Z,ee,Y,z,G,R,A,L,N,d)=>(g(X)?Q="":g(Z)?Q=`>=${X}.0.0${q?"-0":""}`:g(ee)?Q=`>=${X}.${Z}.0${q?"-0":""}`:Y?Q=`>=${Q}`:Q=`>=${Q}${q?"-0":""}`,g(R)?G="":g(A)?G=`<${+R+1}.0.0-0`:g(L)?G=`<${R}.${+A+1}.0-0`:N?G=`<=${R}.${A}.${L}-${N}`:q?G=`<${R}.${A}.${+L+1}-0`:G=`<=${G}`,`${Q} ${G}`.trim()),V=(q,k,Q)=>{for(let X=0;X<q.length;X++)if(!q[X].test(k))return!1;if(k.prerelease.length&&!Q.includePrerelease){for(let X=0;X<q.length;X++)if(a(q[X].semver),q[X].semver!==i.ANY&&q[X].semver.prerelease.length>0){const Z=q[X].semver;if(Z.major===k.major&&Z.minor===k.minor&&Z.patch===k.patch)return!0}return!1}return!0};return Ic}var Rc,dp;function Ul(){if(dp)return Rc;dp=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,c){if(c=r(c),u instanceof t){if(u.loose===!!c.loose)return u;u=u.value}o("comparator",u,c),this.options=c,this.loose=!!c.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const c=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=u.match(c);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new s(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new s(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,c){if(!(u instanceof t))throw new TypeError("a Comparator is required");if((!c||typeof c!="object")&&(c={loose:!!c,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new l(u.value,c).test(this.value);if(u.operator==="")return u.value===""?!0:new l(this.value,c).test(u.semver);const h=(this.operator===">="||this.operator===">")&&(u.operator===">="||u.operator===">"),p=(this.operator==="<="||this.operator==="<")&&(u.operator==="<="||u.operator==="<"),_=this.semver.version===u.semver.version,w=(this.operator===">="||this.operator==="<=")&&(u.operator===">="||u.operator==="<="),g=a(this.semver,"<",u.semver,c)&&(this.operator===">="||this.operator===">")&&(u.operator==="<="||u.operator==="<"),m=a(this.semver,">",u.semver,c)&&(this.operator==="<="||this.operator==="<")&&(u.operator===">="||u.operator===">");return h||p||_&&w||g||m}}Rc=t;const r=Ll,{re:n,t:i}=sn,a=Zg,o=kl,s=jt,l=Cr();return Rc}const SC=Cr(),bC=(e,t,r)=>{try{t=new SC(t,r)}catch{return!1}return t.test(e)};var Ml=bC;const TC=Cr(),PC=(e,t)=>new TC(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var OC=PC;const AC=jt,NC=Cr(),CC=(e,t,r)=>{let n=null,i=null,a=null;try{a=new NC(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new AC(n,r))}),n};var IC=CC;const RC=jt,DC=Cr(),FC=(e,t,r)=>{let n=null,i=null,a=null;try{a=new DC(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new RC(n,r))}),n};var kC=FC;const Dc=jt,LC=Cr(),hp=jl,jC=(e,t)=>{e=new LC(e,t);let r=new Dc("0.0.0");if(e.test(r)||(r=new Dc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let a=null;i.forEach(o=>{const s=new Dc(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!a||hp(s,a))&&(a=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||hp(r,a))&&(r=a)}return r&&e.test(r)?r:null};var UC=jC;const MC=Cr(),xC=(e,t)=>{try{return new MC(e,t).range||"*"}catch{return null}};var qC=xC;const VC=jt,tv=Ul(),{ANY:BC}=tv,HC=Cr(),zC=Ml,pp=jl,mp=Sd,GC=Td,KC=bd,YC=(e,t,r,n)=>{e=new VC(e,n),t=new HC(t,n);let i,a,o,s,l;switch(r){case">":i=pp,a=GC,o=mp,s=">",l=">=";break;case"<":i=mp,a=KC,o=pp,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(zC(e,t,n))return!1;for(let f=0;f<t.set.length;++f){const u=t.set[f];let c=null,h=null;if(u.forEach(p=>{p.semver===BC&&(p=new tv(">=0.0.0")),c=c||p,h=h||p,i(p.semver,c.semver,n)?c=p:o(p.semver,h.semver,n)&&(h=p)}),c.operator===s||c.operator===l||(!h.operator||h.operator===s)&&a(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};var Pd=YC;const WC=Pd,JC=(e,t,r)=>WC(e,t,">",r);var XC=JC;const QC=Pd,ZC=(e,t,r)=>QC(e,t,"<",r);var eI=ZC;const yp=Cr(),tI=(e,t,r)=>(e=new yp(e,r),t=new yp(t,r),e.intersects(t));var rI=tI;const nI=Ml,iI=Nr;var aI=(e,t,r)=>{const n=[];let i=null,a=null;const o=e.sort((u,c)=>iI(u,c,r));for(const u of o)nI(u,t,r)?(a=u,i||(i=u)):(a&&n.push([i,a]),a=null,i=null);i&&n.push([i,null]);const s=[];for(const[u,c]of n)u===c?s.push(u):!c&&u===o[0]?s.push("*"):c?u===o[0]?s.push(`<=${c}`):s.push(`${u} - ${c}`):s.push(`>=${u}`);const l=s.join(" || "),f=typeof t.raw=="string"?t.raw:String(t);return l.length<f.length?l:t};const gp=Cr(),Ns=Ul(),{ANY:Fc}=Ns,Da=Ml,Od=Nr,oI=(e,t,r={})=>{if(e===t)return!0;e=new gp(e,r),t=new gp(t,r);let n=!1;e:for(const i of e.set){for(const a of t.set){const o=sI(i,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},sI=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Fc){if(t.length===1&&t[0].semver===Fc)return!0;r.includePrerelease?e=[new Ns(">=0.0.0-0")]:e=[new Ns(">=0.0.0")]}if(t.length===1&&t[0].semver===Fc){if(r.includePrerelease)return!0;t=[new Ns(">=0.0.0")]}const n=new Set;let i,a;for(const p of e)p.operator===">"||p.operator===">="?i=vp(i,p,r):p.operator==="<"||p.operator==="<="?a=_p(a,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&a){if(o=Od(i.semver,a.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||a.operator!=="<="))return null}for(const p of n){if(i&&!Da(p,String(i),r)||a&&!Da(p,String(a),r))return null;for(const _ of t)if(!Da(p,String(_),r))return!1;return!0}let s,l,f,u,c=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;c&&c.prerelease.length===1&&a.operator==="<"&&c.prerelease[0]===0&&(c=!1);for(const p of t){if(u=u||p.operator===">"||p.operator===">=",f=f||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(s=vp(i,p,r),s===p&&s!==i)return!1}else if(i.operator===">="&&!Da(i.semver,String(p),r))return!1}if(a){if(c&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===c.major&&p.semver.minor===c.minor&&p.semver.patch===c.patch&&(c=!1),p.operator==="<"||p.operator==="<="){if(l=_p(a,p,r),l===p&&l!==a)return!1}else if(a.operator==="<="&&!Da(a.semver,String(p),r))return!1}if(!p.operator&&(a||i)&&o!==0)return!1}return!(i&&f&&!a&&o!==0||a&&u&&!i&&o!==0||h||c)},vp=(e,t,r)=>{if(!e)return t;const n=Od(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},_p=(e,t,r)=>{if(!e)return t;const n=Od(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var lI=oI;const kc=sn,cI=Fl,uI=jt,$p=Xg,fI=ha,dI=uN,hI=hN,pI=mN,mI=wN,yI=bN,gI=ON,vI=CN,_I=DN,$I=Nr,wI=LN,EI=MN,SI=Ed,bI=BN,TI=GN,PI=jl,OI=Sd,AI=wd,NI=Qg,CI=bd,II=Td,RI=Zg,DI=hC,FI=Ul(),kI=Cr(),LI=Ml,jI=OC,UI=IC,MI=kC,xI=UC,qI=qC,VI=Pd,BI=XC,HI=eI,zI=rI,GI=aI,KI=lI;var Ad={parse:fI,valid:dI,clean:hI,inc:pI,diff:mI,major:yI,minor:gI,patch:vI,prerelease:_I,compare:$I,rcompare:wI,compareLoose:EI,compareBuild:SI,sort:bI,rsort:TI,gt:PI,lt:OI,eq:AI,neq:NI,gte:CI,lte:II,cmp:RI,coerce:DI,Comparator:FI,Range:kI,satisfies:LI,toComparators:jI,maxSatisfying:UI,minSatisfying:MI,minVersion:xI,validRange:qI,outside:VI,gtr:BI,ltr:HI,intersects:zI,simplifyRange:GI,subset:KI,SemVer:uI,re:kc.re,src:kc.src,tokens:kc.t,SEMVER_SPEC_VERSION:cI.SEMVER_SPEC_VERSION,compareIdentifiers:$p.compareIdentifiers,rcompareIdentifiers:$p.rcompareIdentifiers},fo={},YI={get exports(){return fo},set exports(e){fo=e}},nl={},WI={get exports(){return nl},set exports(e){nl=e}};const rv=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};WI.exports=rv;nl.default=rv;const JI=nl,il=new WeakMap,nv=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",a=function(...o){if(il.set(a,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return JI(a,e),il.set(a,n),a};YI.exports=nv;fo.default=nv;fo.callCount=e=>{if(!il.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return il.get(e)};(function(e,t){var r=Pt&&Pt.__classPrivateFieldSet||function(Y,z,G,R,A){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!A)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?Y!==z||!A:!z.has(Y))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?A.call(Y,G):A?A.value=G:z.set(Y,G),G},n=Pt&&Pt.__classPrivateFieldGet||function(Y,z,G,R){if(G==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?Y!==z||!R:!z.has(Y))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?R:G==="a"?R.call(Y):R?R.value:z.get(Y)},i,a,o,s,l,f;Object.defineProperty(t,"__esModule",{value:!0});const u=hi,c=Xt,h=Oe,p=sa,_=Lu,w=gl,g=yw,m=Ls,y=Vs,S=Lr,O=Bs,j=Ws,P=KA,E=Ad,C=fo,b="aes-256-cbc",V=()=>Object.create(null),q=Y=>Y!=null;let k="";try{delete require.cache[__filename],k=h.dirname((a=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&a!==void 0?a:".")}catch{}const Q=(Y,z)=>{const G=new Set(["undefined","symbol","function"]),R=typeof z;if(G.has(R))throw new TypeError(`Setting a value of type \`${R}\` for key \`${Y}\` is not allowed as it's not supported by JSON`)},X="__internal__",Z=`${X}.migrations.version`;class ee{constructor(z={}){var G;o.set(this,void 0),s.set(this,void 0),l.set(this,void 0),f.set(this,{}),this._deserialize=$=>JSON.parse($),this._serialize=$=>JSON.stringify($,void 0,"	");const R={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...z},A=C(()=>{const $=m.sync({cwd:k}),F=$&&JSON.parse(c.readFileSync($,"utf8"));return F??{}});if(!R.cwd){if(R.projectName||(R.projectName=A().name),!R.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");R.cwd=y(R.projectName,{suffix:R.projectSuffix}).config}if(r(this,l,R,"f"),R.schema){if(typeof R.schema!="object")throw new TypeError("The `schema` option must be an object.");const $=new O.default({allErrors:!0,useDefaults:!0});(0,j.default)($);const F={type:"object",properties:R.schema};r(this,o,$.compile(F),"f");for(const[T,v]of Object.entries(R.schema))v!=null&&v.default&&(n(this,f,"f")[T]=v.default)}R.defaults&&r(this,f,{...n(this,f,"f"),...R.defaults},"f"),R.serialize&&(this._serialize=R.serialize),R.deserialize&&(this._deserialize=R.deserialize),this.events=new w.EventEmitter,r(this,s,R.encryptionKey,"f");const L=R.fileExtension?`.${R.fileExtension}`:"";this.path=h.resolve(R.cwd,`${(G=R.configName)!==null&&G!==void 0?G:"config"}${L}`);const N=this.store,d=Object.assign(V(),R.defaults,N);this._validate(d);try{_.deepEqual(N,d)}catch{this.store=d}if(R.watch&&this._watch(),R.migrations){if(R.projectVersion||(R.projectVersion=A().version),!R.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(R.migrations,R.projectVersion,R.beforeEachMigration)}}get(z,G){if(n(this,l,"f").accessPropertiesByDotNotation)return this._get(z,G);const{store:R}=this;return z in R?R[z]:G}set(z,G){if(typeof z!="string"&&typeof z!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof z}`);if(typeof z!="object"&&G===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(z))throw new TypeError(`Please don't use the ${X} key, as it's used to manage this module internal operations.`);const{store:R}=this,A=(L,N)=>{Q(L,N),n(this,l,"f").accessPropertiesByDotNotation?g.set(R,L,N):R[L]=N};if(typeof z=="object"){const L=z;for(const[N,d]of Object.entries(L))A(N,d)}else A(z,G);this.store=R}has(z){return n(this,l,"f").accessPropertiesByDotNotation?g.has(this.store,z):z in this.store}reset(...z){for(const G of z)q(n(this,f,"f")[G])&&this.set(G,n(this,f,"f")[G])}delete(z){const{store:G}=this;n(this,l,"f").accessPropertiesByDotNotation?g.delete(G,z):delete G[z],this.store=G}clear(){this.store=V();for(const z of Object.keys(n(this,f,"f")))this.reset(z)}onDidChange(z,G){if(typeof z!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof z}`);if(typeof G!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof G}`);return this._handleChange(()=>this.get(z),G)}onDidAnyChange(z){if(typeof z!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof z}`);return this._handleChange(()=>this.store,z)}get size(){return Object.keys(this.store).length}get store(){try{const z=c.readFileSync(this.path,n(this,s,"f")?null:"utf8"),G=this._encryptData(z),R=this._deserialize(G);return this._validate(R),Object.assign(V(),R)}catch(z){if((z==null?void 0:z.code)==="ENOENT")return this._ensureDirectory(),V();if(n(this,l,"f").clearInvalidConfig&&z.name==="SyntaxError")return V();throw z}}set store(z){this._ensureDirectory(),this._validate(z),this._write(z),this.events.emit("change")}*[(o=new WeakMap,s=new WeakMap,l=new WeakMap,f=new WeakMap,Symbol.iterator)](){for(const[z,G]of Object.entries(this.store))yield[z,G]}_encryptData(z){if(!n(this,s,"f"))return z.toString();try{if(n(this,s,"f"))try{if(z.slice(16,17).toString()===":"){const G=z.slice(0,16),R=p.pbkdf2Sync(n(this,s,"f"),G.toString(),1e4,32,"sha512"),A=p.createDecipheriv(b,R,G);z=Buffer.concat([A.update(Buffer.from(z.slice(17))),A.final()]).toString("utf8")}else{const G=p.createDecipher(b,n(this,s,"f"));z=Buffer.concat([G.update(Buffer.from(z)),G.final()]).toString("utf8")}}catch{}}catch{}return z.toString()}_handleChange(z,G){let R=z();const A=()=>{const L=R,N=z();(0,u.isDeepStrictEqual)(N,L)||(R=N,G.call(this,N,L))};return this.events.on("change",A),()=>this.events.removeListener("change",A)}_validate(z){if(!n(this,o,"f")||n(this,o,"f").call(this,z)||!n(this,o,"f").errors)return;const R=n(this,o,"f").errors.map(({instancePath:A,message:L=""})=>`\`${A.slice(1)}\` ${L}`);throw new Error("Config schema violation: "+R.join("; "))}_ensureDirectory(){c.mkdirSync(h.dirname(this.path),{recursive:!0})}_write(z){let G=this._serialize(z);if(n(this,s,"f")){const R=p.randomBytes(16),A=p.pbkdf2Sync(n(this,s,"f"),R.toString(),1e4,32,"sha512"),L=p.createCipheriv(b,A,R);G=Buffer.concat([R,Buffer.from(":"),L.update(Buffer.from(G)),L.final()])}if(process.env.SNAP)c.writeFileSync(this.path,G,{mode:n(this,l,"f").configFileMode});else try{S.writeFileSync(this.path,G,{mode:n(this,l,"f").configFileMode})}catch(R){if((R==null?void 0:R.code)==="EXDEV"){c.writeFileSync(this.path,G,{mode:n(this,l,"f").configFileMode});return}throw R}}_watch(){this._ensureDirectory(),c.existsSync(this.path)||this._write(V()),process.platform==="win32"?c.watch(this.path,{persistent:!1},P(()=>{this.events.emit("change")},{wait:100})):c.watchFile(this.path,{persistent:!1},P(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(z,G,R){let A=this._get(Z,"0.0.0");const L=Object.keys(z).filter(d=>this._shouldPerformMigration(d,A,G));let N={...this.store};for(const d of L)try{R&&R(this,{fromVersion:A,toVersion:d,finalVersion:G,versions:L});const $=z[d];$(this),this._set(Z,d),A=d,N={...this.store}}catch($){throw this.store=N,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${$}`)}(this._isVersionInRangeFormat(A)||!E.eq(A,G))&&this._set(Z,G)}_containsReservedKey(z){return typeof z=="object"&&Object.keys(z)[0]===X?!0:typeof z!="string"?!1:n(this,l,"f").accessPropertiesByDotNotation?!!z.startsWith(`${X}.`):!1}_isVersionInRangeFormat(z){return E.clean(z)===null}_shouldPerformMigration(z,G,R){return this._isVersionInRangeFormat(z)?G!=="0.0.0"&&E.satisfies(G,z)?!1:E.satisfies(R,z):!(E.lte(z,G)||E.gt(z,R))}_get(z,G){return g.get(this.store,z,G)}_set(z,G){const{store:R}=this;g.set(R,z,G),this.store=R}}t.default=ee,e.exports=ee,e.exports.default=ee})(dw,ks);const wp=Oe,{app:Cs,ipcMain:Eu,ipcRenderer:Ep,shell:XI}=le,QI=ks;let Sp=!1;const bp=()=>{if(!Eu||!Cs)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Cs.getPath("userData"),appVersion:Cs.getVersion()};return Sp||(Eu.on("electron-store-get-data",t=>{t.returnValue=e}),Sp=!0),e};class ZI extends QI{constructor(t){let r,n;if(Ep){const i=Ep.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else Eu&&Cs&&({defaultCwd:r,appVersion:n}=bp());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=wp.isAbsolute(t.cwd)?t.cwd:wp.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){bp()}openInEditor(){XI.openPath(this.path)}}var iv=ZI,Lc={},jc={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.CancellationError=ui.CancellationToken=void 0;const eR=gl;class tR extends eR.EventEmitter{constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Su);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,a)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{a(new Su)}},this.cancelled){n();return}this.onCancel(n),t(i,a,s=>{o=s})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}ui.CancellationToken=tR;class Su extends Error{constructor(){super("cancelled")}}ui.CancellationError=Su;var He={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.ProgressCallbackTransform=void 0;const rR=Eo;class nR extends rR.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}}ko.ProgressCallbackTransform=nR;var Tp;function iR(){if(Tp)return He;Tp=1,Object.defineProperty(He,"__esModule",{value:!0}),He.safeStringifyJson=He.configureRequestOptions=He.safeGetHeader=He.DigestTransform=He.configureRequestUrl=He.configureRequestOptionsFromUrl=He.HttpExecutor=He.parseJson=He.HttpError=He.createHttpError=void 0;const e=sa,t=ao,r=Xt,n=Eo,i=Rn,a=ui,o=nt(),s=ko,l=t.default("electron-builder");function f(P,E=null){return new c(P.statusCode||-1,`${P.statusCode} ${P.statusMessage}`+(E==null?"":`
`+JSON.stringify(E,null,"  "))+`
Headers: `+j(P.headers),E)}He.createHttpError=f;const u=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class c extends Error{constructor(E,C=`HTTP error: ${u.get(E)||E}`,b=null){super(C),this.statusCode=E,this.description=b,this.name="HttpError",this.code=`HTTP_ERROR_${E}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}He.HttpError=c;function h(P){return P.then(E=>E==null||E.length===0?null:JSON.parse(E))}He.parseJson=h;class p{constructor(){this.maxRedirects=10}request(E,C=new a.CancellationToken,b){O(E);const V=b==null?void 0:JSON.stringify(b),q=V?Buffer.from(V):void 0;if(q!=null){l(V);const{headers:k,...Q}=E;E={method:"post",headers:{"Content-Type":"application/json","Content-Length":q.length,...k},...Q}}return this.doApiRequest(E,C,k=>k.end(q))}doApiRequest(E,C,b,V=0){return l.enabled&&l(`Request: ${j(E)}`),C.createPromise((q,k,Q)=>{const X=this.createRequest(E,Z=>{try{this.handleResponse(Z,E,C,q,k,V,b)}catch(ee){k(ee)}});this.addErrorAndTimeoutHandlers(X,k,E.timeout),this.addRedirectHandlers(X,E,k,V,Z=>{this.doApiRequest(Z,C,b,V).then(q).catch(k)}),b(X,k),Q(()=>X.abort())})}addRedirectHandlers(E,C,b,V,q){}addErrorAndTimeoutHandlers(E,C,b=60*1e3){this.addTimeOutHandler(E,C,b),E.on("error",C),E.on("aborted",()=>{C(new Error("Request has been aborted by the server"))})}handleResponse(E,C,b,V,q,k,Q){var X;if(l.enabled&&l(`Response: ${E.statusCode} ${E.statusMessage}, request options: ${j(C)}`),E.statusCode===404){q(f(E,`method: ${C.method||"GET"} url: ${C.protocol||"https:"}//${C.hostname}${C.port?`:${C.port}`:""}${C.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(E.statusCode===204){V();return}const Z=(X=E.statusCode)!==null&&X!==void 0?X:0,ee=Z>=300&&Z<400,Y=y(E,"location");if(ee&&Y!=null){if(k>this.maxRedirects){q(this.createMaxRedirectError());return}this.doApiRequest(p.prepareRedirectUrlOptions(Y,C),b,Q,k).then(V).catch(q);return}E.setEncoding("utf8");let z="";E.on("error",q),E.on("data",G=>z+=G),E.on("end",()=>{try{if(E.statusCode!=null&&E.statusCode>=400){const G=y(E,"content-type"),R=G!=null&&(Array.isArray(G)?G.find(A=>A.includes("json"))!=null:G.includes("json"));q(f(E,`method: ${C.method||"GET"} url: ${C.protocol||"https:"}//${C.hostname}${C.port?`:${C.port}`:""}${C.path}

          Data:
          ${R?JSON.stringify(JSON.parse(z)):z}
          `))}else V(z.length===0?null:z)}catch(G){q(G)}})}async downloadToBuffer(E,C){return await C.cancellationToken.createPromise((b,V,q)=>{let k=null;const Q={headers:C.headers||void 0,redirect:"manual"};w(E,Q),O(Q),this.doDownload(Q,{destination:null,options:C,onCancel:q,callback:X=>{X==null?b(k):V(X)},responseHandler:(X,Z)=>{const ee=y(X,"content-length");let Y=-1;if(ee!=null){const z=parseInt(ee,10);if(z>0){if(z>524288e3){Z(new Error("Maximum allowed size is 500 MB"));return}k=Buffer.alloc(z),Y=0}}X.on("data",z=>{if(Y!==-1)z.copy(k,Y),Y+=z.length;else if(k==null)k=z;else{if(k.length>524288e3){Z(new Error("Maximum allowed size is 500 MB"));return}k=Buffer.concat([k,z])}}),X.on("end",()=>{k!=null&&Y!==-1&&Y!==k.length?Z(new Error(`Received data length ${Y} is not equal to expected ${k.length}`)):Z(null)})}},0)})}doDownload(E,C,b){const V=this.createRequest(E,q=>{if(q.statusCode>=400){C.callback(new Error(`Cannot download "${E.protocol||"https:"}//${E.hostname}${E.path}", status ${q.statusCode}: ${q.statusMessage}`));return}q.on("error",C.callback);const k=y(q,"location");if(k!=null){b<this.maxRedirects?this.doDownload(p.prepareRedirectUrlOptions(k,E),C,b++):C.callback(this.createMaxRedirectError());return}C.responseHandler==null?S(C,q):C.responseHandler(q,C.callback)});this.addErrorAndTimeoutHandlers(V,C.callback,E.timeout),this.addRedirectHandlers(V,E,C.callback,b,q=>{this.doDownload(q,C,b++)}),V.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(E,C,b){E.on("socket",V=>{V.setTimeout(b,()=>{E.abort(),C(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(E,C){const b=_(E,{...C}),V=b.headers;if(V!=null&&V.authorization){const q=new i.URL(E);(q.hostname.endsWith(".amazonaws.com")||q.searchParams.has("X-Amz-Credential"))&&delete V.authorization}return b}static retryOnServerError(E,C=3){for(let b=0;;b++)try{return E()}catch(V){if(b<C&&(V instanceof c&&V.isServerError()||V.code==="EPIPE"))continue;throw V}}}He.HttpExecutor=p;function _(P,E){const C=O(E);return w(new i.URL(P),C),C}He.configureRequestOptionsFromUrl=_;function w(P,E){E.protocol=P.protocol,E.hostname=P.hostname,P.port?E.port=P.port:E.port&&delete E.port,E.path=P.pathname+P.search}He.configureRequestUrl=w;class g extends n.Transform{constructor(E,C="sha512",b="base64"){super(),this.expected=E,this.algorithm=C,this.encoding=b,this._actual=null,this.isValidateOnEnd=!0,this.digester=e.createHash(C)}get actual(){return this._actual}_transform(E,C,b){this.digester.update(E),b(null,E)}_flush(E){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(C){E(C);return}E(null)}validate(){if(this._actual==null)throw o.newError("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw o.newError(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}He.DigestTransform=g;function m(P,E,C){return P!=null&&E!=null&&P!==E?(C(new Error(`checksum mismatch: expected ${E} but got ${P} (X-Checksum-Sha2 header)`)),!1):!0}function y(P,E){const C=P.headers[E];return C==null?null:Array.isArray(C)?C.length===0?null:C[C.length-1]:C}He.safeGetHeader=y;function S(P,E){if(!m(y(E,"X-Checksum-Sha2"),P.options.sha2,P.callback))return;const C=[];if(P.options.onProgress!=null){const k=y(E,"content-length");k!=null&&C.push(new s.ProgressCallbackTransform(parseInt(k,10),P.options.cancellationToken,P.options.onProgress))}const b=P.options.sha512;b!=null?C.push(new g(b,"sha512",b.length===128&&!b.includes("+")&&!b.includes("Z")&&!b.includes("=")?"hex":"base64")):P.options.sha2!=null&&C.push(new g(P.options.sha2,"sha256","hex"));const V=r.createWriteStream(P.destination);C.push(V);let q=E;for(const k of C)k.on("error",Q=>{V.close(),P.options.cancellationToken.cancelled||P.callback(Q)}),q=q.pipe(k);V.on("finish",()=>{V.close(P.callback)})}function O(P,E,C){C!=null&&(P.method=C),P.headers={...P.headers};const b=P.headers;return E!=null&&(b.authorization=E.startsWith("Basic")||E.startsWith("Bearer")?E:`token ${E}`),b["User-Agent"]==null&&(b["User-Agent"]="electron-builder"),(C==null||C==="GET"||b["Cache-Control"]==null)&&(b["Cache-Control"]="no-cache"),P.protocol==null&&process.versions.electron!=null&&(P.protocol="https:"),P}He.configureRequestOptions=O;function j(P,E){return JSON.stringify(P,(C,b)=>C.endsWith("Authorization")||C.endsWith("authorization")||C.endsWith("Password")||C.endsWith("PASSWORD")||C.endsWith("Token")||C.includes("password")||C.includes("token")||E!=null&&E.has(C)?"<stripped sensitive data>":b,2)}return He.safeStringifyJson=j,He}var ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.getS3LikeProviderBaseUrl=ea.githubUrl=void 0;function aR(e,t="github.com"){return`${e.protocol||"https"}://${e.host||t}`}ea.githubUrl=aR;function oR(e){const t=e.provider;if(t==="s3")return sR(e);if(t==="spaces")return lR(e);throw new Error(`Not supported provider: ${t}`)}ea.getS3LikeProviderBaseUrl=oR;function sR(e){let t;if(e.endpoint!=null)t=`${e.endpoint}/${e.bucket}`;else if(e.bucket.includes(".")){if(e.region==null)throw new Error(`Bucket name "${e.bucket}" includes a dot, but S3 region is missing`);e.region==="us-east-1"?t=`https://s3.amazonaws.com/${e.bucket}`:t=`https://s3-${e.region}.amazonaws.com/${e.bucket}`}else e.region==="cn-north-1"?t=`https://${e.bucket}.s3.${e.region}.amazonaws.com.cn`:t=`https://${e.bucket}.s3.amazonaws.com`;return av(t,e.path)}function av(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function lR(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return av(`https://${e.name}.${e.region}.digitaloceanspaces.com`,e.path)}var xl={};Object.defineProperty(xl,"__esModule",{value:!0});xl.parseDn=void 0;function cR(e){let t=!1,r=null,n="",i=0;e=e.trim();const a=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&a.set(r,n);break}const s=e[o];if(t){if(s==='"'){t=!1;continue}}else{if(s==='"'){t=!0;continue}if(s==="\\"){o++;const l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&s==="="){r=n,n="";continue}if(s===","||s===";"||s==="+"){r!==null&&a.set(r,n),r=null,n="";continue}}if(s===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=s}return a}xl.parseDn=cR;var Vn={},Pp;function uR(){if(Pp)return Vn;Pp=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.nil=Vn.UUID=void 0;const e=sa,t=nt(),r="options.name must be either a string or a Buffer",n=e.randomBytes(16);n[0]=n[0]|1;const i={},a=[];for(let c=0;c<256;c++){const h=(c+256).toString(16).substr(1);i[h]=c,a[c]=h}class o{constructor(h){this.ascii=null,this.binary=null;const p=o.check(h);if(!p)throw new Error("not a UUID");this.version=p.version,p.format==="ascii"?this.ascii=h:this.binary=h}static v5(h,p){return f(h,"sha1",80,p)}toString(){return this.ascii==null&&(this.ascii=u(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(h,p=0){if(typeof h=="string")return h=h.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(h)?h==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(i[h[14]+h[15]]&240)>>4,variant:s((i[h[19]+h[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(h)){if(h.length<p+16)return!1;let _=0;for(;_<16&&h[p+_]===0;_++);return _===16?{version:void 0,variant:"nil",format:"binary"}:{version:(h[p+6]&240)>>4,variant:s((h[p+8]&224)>>5),format:"binary"}}throw t.newError("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(h){const p=Buffer.allocUnsafe(16);let _=0;for(let w=0;w<16;w++)p[w]=i[h[_++]+h[_++]],(w===3||w===5||w===7||w===9)&&(_+=1);return p}}Vn.UUID=o,o.OID=o.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function s(c){switch(c){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var l;(function(c){c[c.ASCII=0]="ASCII",c[c.BINARY=1]="BINARY",c[c.OBJECT=2]="OBJECT"})(l||(l={}));function f(c,h,p,_,w=l.ASCII){const g=e.createHash(h);if(typeof c!="string"&&!Buffer.isBuffer(c))throw t.newError(r,"ERR_INVALID_UUID_NAME");g.update(_),g.update(c);const y=g.digest();let S;switch(w){case l.BINARY:y[6]=y[6]&15|p,y[8]=y[8]&63|128,S=y;break;case l.OBJECT:y[6]=y[6]&15|p,y[8]=y[8]&63|128,S=new o(y);break;default:S=a[y[0]]+a[y[1]]+a[y[2]]+a[y[3]]+"-"+a[y[4]]+a[y[5]]+"-"+a[y[6]&15|p]+a[y[7]]+"-"+a[y[8]&63|128]+a[y[9]]+"-"+a[y[10]]+a[y[11]]+a[y[12]]+a[y[13]]+a[y[14]]+a[y[15]];break}return S}function u(c){return a[c[0]]+a[c[1]]+a[c[2]]+a[c[3]]+"-"+a[c[4]]+a[c[5]]+"-"+a[c[6]]+a[c[7]]+"-"+a[c[8]]+a[c[9]]+"-"+a[c[10]]+a[c[11]]+a[c[12]]+a[c[13]]+a[c[14]]+a[c[15]]}return Vn.nil=new o("00000000-0000-0000-0000-000000000000"),Vn}var Bn={},ov={};(function(e){(function(t){t.parser=function(T,v){return new n(T,v)},t.SAXParser=n,t.SAXStream=u,t.createStream=f,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(T,v){if(!(this instanceof n))return new n(T,v);var H=this;a(H),H.q=H.c="",H.bufferCheckPosition=t.MAX_BUFFER_LENGTH,H.opt=v||{},H.opt.lowercase=H.opt.lowercase||H.opt.lowercasetags,H.looseCase=H.opt.lowercase?"toLowerCase":"toUpperCase",H.tags=[],H.closed=H.closedRoot=H.sawRoot=!1,H.tag=H.error=null,H.strict=!!T,H.noscript=!!(T||H.opt.noscript),H.state=b.BEGIN,H.strictEntities=H.opt.strictEntities,H.ENTITIES=H.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),H.attribList=[],H.opt.xmlns&&(H.ns=Object.create(w)),H.trackPosition=H.opt.position!==!1,H.trackPosition&&(H.position=H.line=H.column=0),q(H,"onready")}Object.create||(Object.create=function(T){function v(){}v.prototype=T;var H=new v;return H}),Object.keys||(Object.keys=function(T){var v=[];for(var H in T)T.hasOwnProperty(H)&&v.push(H);return v});function i(T){for(var v=Math.max(t.MAX_BUFFER_LENGTH,10),H=0,U=0,re=r.length;U<re;U++){var he=T[r[U]].length;if(he>v)switch(r[U]){case"textNode":Q(T);break;case"cdata":k(T,"oncdata",T.cdata),T.cdata="";break;case"script":k(T,"onscript",T.script),T.script="";break;default:Z(T,"Max buffer length exceeded: "+r[U])}H=Math.max(H,he)}var be=t.MAX_BUFFER_LENGTH-H;T.bufferCheckPosition=be+T.position}function a(T){for(var v=0,H=r.length;v<H;v++)T[r[v]]=""}function o(T){Q(T),T.cdata!==""&&(k(T,"oncdata",T.cdata),T.cdata=""),T.script!==""&&(k(T,"onscript",T.script),T.script="")}n.prototype={end:function(){ee(this)},write:F,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}var l=t.EVENTS.filter(function(T){return T!=="error"&&T!=="end"});function f(T,v){return new u(T,v)}function u(T,v){if(!(this instanceof u))return new u(T,v);s.apply(this),this._parser=new n(T,v),this.writable=!0,this.readable=!0;var H=this;this._parser.onend=function(){H.emit("end")},this._parser.onerror=function(U){H.emit("error",U),H._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(H,"on"+U,{get:function(){return H._parser["on"+U]},set:function(re){if(!re)return H.removeAllListeners(U),H._parser["on"+U]=re,re;H.on(U,re)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(s.prototype,{constructor:{value:u}}),u.prototype.write=function(T){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(T)){if(!this._decoder){var v=v_.StringDecoder;this._decoder=new v("utf8")}T=this._decoder.write(T)}return this._parser.write(T.toString()),this.emit("data",T),!0},u.prototype.end=function(T){return T&&T.length&&this.write(T),this._parser.end(),!0},u.prototype.on=function(T,v){var H=this;return!H._parser["on"+T]&&l.indexOf(T)!==-1&&(H._parser["on"+T]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,T),H.emit.apply(H,U)}),s.prototype.on.call(H,T,v)};var c="[CDATA[",h="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={xml:p,xmlns:_},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function O(T){return T===" "||T===`
`||T==="\r"||T==="	"}function j(T){return T==='"'||T==="'"}function P(T){return T===">"||O(T)}function E(T,v){return T.test(v)}function C(T,v){return!E(T,v)}var b=0;t.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(T){var v=t.ENTITIES[T],H=typeof v=="number"?String.fromCharCode(v):v;t.ENTITIES[T]=H});for(var V in t.STATE)t.STATE[t.STATE[V]]=V;b=t.STATE;function q(T,v,H){T[v]&&T[v](H)}function k(T,v,H){T.textNode&&Q(T),q(T,v,H)}function Q(T){T.textNode=X(T.opt,T.textNode),T.textNode&&q(T,"ontext",T.textNode),T.textNode=""}function X(T,v){return T.trim&&(v=v.trim()),T.normalize&&(v=v.replace(/\s+/g," ")),v}function Z(T,v){return Q(T),T.trackPosition&&(v+=`
Line: `+T.line+`
Column: `+T.column+`
Char: `+T.c),v=new Error(v),T.error=v,q(T,"onerror",v),T}function ee(T){return T.sawRoot&&!T.closedRoot&&Y(T,"Unclosed root tag"),T.state!==b.BEGIN&&T.state!==b.BEGIN_WHITESPACE&&T.state!==b.TEXT&&Z(T,"Unexpected end"),Q(T),T.c="",T.closed=!0,q(T,"onend"),n.call(T,T.strict,T.opt),T}function Y(T,v){if(typeof T!="object"||!(T instanceof n))throw new Error("bad call to strictFail");T.strict&&Z(T,v)}function z(T){T.strict||(T.tagName=T.tagName[T.looseCase]());var v=T.tags[T.tags.length-1]||T,H=T.tag={name:T.tagName,attributes:{}};T.opt.xmlns&&(H.ns=v.ns),T.attribList.length=0,k(T,"onopentagstart",H)}function G(T,v){var H=T.indexOf(":"),U=H<0?["",T]:T.split(":"),re=U[0],he=U[1];return v&&T==="xmlns"&&(re="xmlns",he=""),{prefix:re,local:he}}function R(T){if(T.strict||(T.attribName=T.attribName[T.looseCase]()),T.attribList.indexOf(T.attribName)!==-1||T.tag.attributes.hasOwnProperty(T.attribName)){T.attribName=T.attribValue="";return}if(T.opt.xmlns){var v=G(T.attribName,!0),H=v.prefix,U=v.local;if(H==="xmlns")if(U==="xml"&&T.attribValue!==p)Y(T,"xml: prefix must be bound to "+p+`
Actual: `+T.attribValue);else if(U==="xmlns"&&T.attribValue!==_)Y(T,"xmlns: prefix must be bound to "+_+`
Actual: `+T.attribValue);else{var re=T.tag,he=T.tags[T.tags.length-1]||T;re.ns===he.ns&&(re.ns=Object.create(he.ns)),re.ns[U]=T.attribValue}T.attribList.push([T.attribName,T.attribValue])}else T.tag.attributes[T.attribName]=T.attribValue,k(T,"onattribute",{name:T.attribName,value:T.attribValue});T.attribName=T.attribValue=""}function A(T,v){if(T.opt.xmlns){var H=T.tag,U=G(T.tagName);H.prefix=U.prefix,H.local=U.local,H.uri=H.ns[U.prefix]||"",H.prefix&&!H.uri&&(Y(T,"Unbound namespace prefix: "+JSON.stringify(T.tagName)),H.uri=U.prefix);var re=T.tags[T.tags.length-1]||T;H.ns&&re.ns!==H.ns&&Object.keys(H.ns).forEach(function(it){k(T,"onopennamespace",{prefix:it,uri:H.ns[it]})});for(var he=0,be=T.attribList.length;he<be;he++){var De=T.attribList[he],Ke=De[0],ke=De[1],Ce=G(Ke,!0),Ye=Ce.prefix,qt=Ce.local,Nt=Ye===""?"":H.ns[Ye]||"",Ct={name:Ke,value:ke,prefix:Ye,local:qt,uri:Nt};Ye&&Ye!=="xmlns"&&!Nt&&(Y(T,"Unbound namespace prefix: "+JSON.stringify(Ye)),Ct.uri=Ye),T.tag.attributes[Ke]=Ct,k(T,"onattribute",Ct)}T.attribList.length=0}T.tag.isSelfClosing=!!v,T.sawRoot=!0,T.tags.push(T.tag),k(T,"onopentag",T.tag),v||(!T.noscript&&T.tagName.toLowerCase()==="script"?T.state=b.SCRIPT:T.state=b.TEXT,T.tag=null,T.tagName=""),T.attribName=T.attribValue="",T.attribList.length=0}function L(T){if(!T.tagName){Y(T,"Weird empty close tag."),T.textNode+="</>",T.state=b.TEXT;return}if(T.script){if(T.tagName!=="script"){T.script+="</"+T.tagName+">",T.tagName="",T.state=b.SCRIPT;return}k(T,"onscript",T.script),T.script=""}var v=T.tags.length,H=T.tagName;T.strict||(H=H[T.looseCase]());for(var U=H;v--;){var re=T.tags[v];if(re.name!==U)Y(T,"Unexpected close tag");else break}if(v<0){Y(T,"Unmatched closing tag: "+T.tagName),T.textNode+="</"+T.tagName+">",T.state=b.TEXT;return}T.tagName=H;for(var he=T.tags.length;he-- >v;){var be=T.tag=T.tags.pop();T.tagName=T.tag.name,k(T,"onclosetag",T.tagName);var De={};for(var Ke in be.ns)De[Ke]=be.ns[Ke];var ke=T.tags[T.tags.length-1]||T;T.opt.xmlns&&be.ns!==ke.ns&&Object.keys(be.ns).forEach(function(Ce){var Ye=be.ns[Ce];k(T,"onclosenamespace",{prefix:Ce,uri:Ye})})}v===0&&(T.closedRoot=!0),T.tagName=T.attribValue=T.attribName="",T.attribList.length=0,T.state=b.TEXT}function N(T){var v=T.entity,H=v.toLowerCase(),U,re="";return T.ENTITIES[v]?T.ENTITIES[v]:T.ENTITIES[H]?T.ENTITIES[H]:(v=H,v.charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),U=parseInt(v,16),re=U.toString(16)):(v=v.slice(1),U=parseInt(v,10),re=U.toString(10))),v=v.replace(/^0+/,""),isNaN(U)||re.toLowerCase()!==v?(Y(T,"Invalid character entity"),"&"+T.entity+";"):String.fromCodePoint(U))}function d(T,v){v==="<"?(T.state=b.OPEN_WAKA,T.startTagPosition=T.position):O(v)||(Y(T,"Non-whitespace before first tag."),T.textNode=v,T.state=b.TEXT)}function $(T,v){var H="";return v<T.length&&(H=T.charAt(v)),H}function F(T){var v=this;if(this.error)throw this.error;if(v.closed)return Z(v,"Cannot write after close. Assign an onready handler.");if(T===null)return ee(v);typeof T=="object"&&(T=T.toString());for(var H=0,U="";U=$(T,H++),v.c=U,!!U;)switch(v.trackPosition&&(v.position++,U===`
`?(v.line++,v.column=0):v.column++),v.state){case b.BEGIN:if(v.state=b.BEGIN_WHITESPACE,U==="\uFEFF")continue;d(v,U);continue;case b.BEGIN_WHITESPACE:d(v,U);continue;case b.TEXT:if(v.sawRoot&&!v.closedRoot){for(var re=H-1;U&&U!=="<"&&U!=="&";)U=$(T,H++),U&&v.trackPosition&&(v.position++,U===`
`?(v.line++,v.column=0):v.column++);v.textNode+=T.substring(re,H-1)}U==="<"&&!(v.sawRoot&&v.closedRoot&&!v.strict)?(v.state=b.OPEN_WAKA,v.startTagPosition=v.position):(!O(U)&&(!v.sawRoot||v.closedRoot)&&Y(v,"Text data outside of root node."),U==="&"?v.state=b.TEXT_ENTITY:v.textNode+=U);continue;case b.SCRIPT:U==="<"?v.state=b.SCRIPT_ENDING:v.script+=U;continue;case b.SCRIPT_ENDING:U==="/"?v.state=b.CLOSE_TAG:(v.script+="<"+U,v.state=b.SCRIPT);continue;case b.OPEN_WAKA:if(U==="!")v.state=b.SGML_DECL,v.sgmlDecl="";else if(!O(U))if(E(g,U))v.state=b.OPEN_TAG,v.tagName=U;else if(U==="/")v.state=b.CLOSE_TAG,v.tagName="";else if(U==="?")v.state=b.PROC_INST,v.procInstName=v.procInstBody="";else{if(Y(v,"Unencoded <"),v.startTagPosition+1<v.position){var he=v.position-v.startTagPosition;U=new Array(he).join(" ")+U}v.textNode+="<"+U,v.state=b.TEXT}continue;case b.SGML_DECL:(v.sgmlDecl+U).toUpperCase()===c?(k(v,"onopencdata"),v.state=b.CDATA,v.sgmlDecl="",v.cdata=""):v.sgmlDecl+U==="--"?(v.state=b.COMMENT,v.comment="",v.sgmlDecl=""):(v.sgmlDecl+U).toUpperCase()===h?(v.state=b.DOCTYPE,(v.doctype||v.sawRoot)&&Y(v,"Inappropriately located doctype declaration"),v.doctype="",v.sgmlDecl=""):U===">"?(k(v,"onsgmldeclaration",v.sgmlDecl),v.sgmlDecl="",v.state=b.TEXT):(j(U)&&(v.state=b.SGML_DECL_QUOTED),v.sgmlDecl+=U);continue;case b.SGML_DECL_QUOTED:U===v.q&&(v.state=b.SGML_DECL,v.q=""),v.sgmlDecl+=U;continue;case b.DOCTYPE:U===">"?(v.state=b.TEXT,k(v,"ondoctype",v.doctype),v.doctype=!0):(v.doctype+=U,U==="["?v.state=b.DOCTYPE_DTD:j(U)&&(v.state=b.DOCTYPE_QUOTED,v.q=U));continue;case b.DOCTYPE_QUOTED:v.doctype+=U,U===v.q&&(v.q="",v.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:v.doctype+=U,U==="]"?v.state=b.DOCTYPE:j(U)&&(v.state=b.DOCTYPE_DTD_QUOTED,v.q=U);continue;case b.DOCTYPE_DTD_QUOTED:v.doctype+=U,U===v.q&&(v.state=b.DOCTYPE_DTD,v.q="");continue;case b.COMMENT:U==="-"?v.state=b.COMMENT_ENDING:v.comment+=U;continue;case b.COMMENT_ENDING:U==="-"?(v.state=b.COMMENT_ENDED,v.comment=X(v.opt,v.comment),v.comment&&k(v,"oncomment",v.comment),v.comment=""):(v.comment+="-"+U,v.state=b.COMMENT);continue;case b.COMMENT_ENDED:U!==">"?(Y(v,"Malformed comment"),v.comment+="--"+U,v.state=b.COMMENT):v.state=b.TEXT;continue;case b.CDATA:U==="]"?v.state=b.CDATA_ENDING:v.cdata+=U;continue;case b.CDATA_ENDING:U==="]"?v.state=b.CDATA_ENDING_2:(v.cdata+="]"+U,v.state=b.CDATA);continue;case b.CDATA_ENDING_2:U===">"?(v.cdata&&k(v,"oncdata",v.cdata),k(v,"onclosecdata"),v.cdata="",v.state=b.TEXT):U==="]"?v.cdata+="]":(v.cdata+="]]"+U,v.state=b.CDATA);continue;case b.PROC_INST:U==="?"?v.state=b.PROC_INST_ENDING:O(U)?v.state=b.PROC_INST_BODY:v.procInstName+=U;continue;case b.PROC_INST_BODY:if(!v.procInstBody&&O(U))continue;U==="?"?v.state=b.PROC_INST_ENDING:v.procInstBody+=U;continue;case b.PROC_INST_ENDING:U===">"?(k(v,"onprocessinginstruction",{name:v.procInstName,body:v.procInstBody}),v.procInstName=v.procInstBody="",v.state=b.TEXT):(v.procInstBody+="?"+U,v.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:E(m,U)?v.tagName+=U:(z(v),U===">"?A(v):U==="/"?v.state=b.OPEN_TAG_SLASH:(O(U)||Y(v,"Invalid character in tag name"),v.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:U===">"?(A(v,!0),L(v)):(Y(v,"Forward-slash in opening tag not followed by >"),v.state=b.ATTRIB);continue;case b.ATTRIB:if(O(U))continue;U===">"?A(v):U==="/"?v.state=b.OPEN_TAG_SLASH:E(g,U)?(v.attribName=U,v.attribValue="",v.state=b.ATTRIB_NAME):Y(v,"Invalid attribute name");continue;case b.ATTRIB_NAME:U==="="?v.state=b.ATTRIB_VALUE:U===">"?(Y(v,"Attribute without value"),v.attribValue=v.attribName,R(v),A(v)):O(U)?v.state=b.ATTRIB_NAME_SAW_WHITE:E(m,U)?v.attribName+=U:Y(v,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if(U==="=")v.state=b.ATTRIB_VALUE;else{if(O(U))continue;Y(v,"Attribute without value"),v.tag.attributes[v.attribName]="",v.attribValue="",k(v,"onattribute",{name:v.attribName,value:""}),v.attribName="",U===">"?A(v):E(g,U)?(v.attribName=U,v.state=b.ATTRIB_NAME):(Y(v,"Invalid attribute name"),v.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(O(U))continue;j(U)?(v.q=U,v.state=b.ATTRIB_VALUE_QUOTED):(Y(v,"Unquoted attribute value"),v.state=b.ATTRIB_VALUE_UNQUOTED,v.attribValue=U);continue;case b.ATTRIB_VALUE_QUOTED:if(U!==v.q){U==="&"?v.state=b.ATTRIB_VALUE_ENTITY_Q:v.attribValue+=U;continue}R(v),v.q="",v.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:O(U)?v.state=b.ATTRIB:U===">"?A(v):U==="/"?v.state=b.OPEN_TAG_SLASH:E(g,U)?(Y(v,"No whitespace between attributes"),v.attribName=U,v.attribValue="",v.state=b.ATTRIB_NAME):Y(v,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!P(U)){U==="&"?v.state=b.ATTRIB_VALUE_ENTITY_U:v.attribValue+=U;continue}R(v),U===">"?A(v):v.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(v.tagName)U===">"?L(v):E(m,U)?v.tagName+=U:v.script?(v.script+="</"+v.tagName,v.tagName="",v.state=b.SCRIPT):(O(U)||Y(v,"Invalid tagname in closing tag"),v.state=b.CLOSE_TAG_SAW_WHITE);else{if(O(U))continue;C(g,U)?v.script?(v.script+="</"+U,v.state=b.SCRIPT):Y(v,"Invalid tagname in closing tag."):v.tagName=U}continue;case b.CLOSE_TAG_SAW_WHITE:if(O(U))continue;U===">"?L(v):Y(v,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var be,De;switch(v.state){case b.TEXT_ENTITY:be=b.TEXT,De="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:be=b.ATTRIB_VALUE_QUOTED,De="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:be=b.ATTRIB_VALUE_UNQUOTED,De="attribValue";break}U===";"?(v[De]+=N(v),v.entity="",v.state=be):E(v.entity.length?S:y,U)?v.entity+=U:(Y(v,"Invalid character in entity name"),v[De]+="&"+v.entity+U,v.entity="",v.state=be);continue;default:throw new Error(v,"Unknown state: "+v.state)}return v.position>=v.bufferCheckPosition&&i(v),v}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var T=String.fromCharCode,v=Math.floor,H=function(){var U=16384,re=[],he,be,De=-1,Ke=arguments.length;if(!Ke)return"";for(var ke="";++De<Ke;){var Ce=Number(arguments[De]);if(!isFinite(Ce)||Ce<0||Ce>1114111||v(Ce)!==Ce)throw RangeError("Invalid code point: "+Ce);Ce<=65535?re.push(Ce):(Ce-=65536,he=(Ce>>10)+55296,be=Ce%1024+56320,re.push(he,be)),(De+1===Ke||re.length>U)&&(ke+=T.apply(null,re),re.length=0)}return ke};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H}()})(e)})(ov);var Op;function fR(){if(Op)return Bn;Op=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.parseXml=Bn.XElement=void 0;const e=ov,t=nt();class r{constructor(l){if(this.name=l,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!l)throw t.newError("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!i(l))throw t.newError(`Invalid element name: ${l}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(l){const f=this.attributes===null?null:this.attributes[l];if(f==null)throw t.newError(`No attribute "${l}"`,"ERR_XML_MISSED_ATTRIBUTE");return f}removeAttribute(l){this.attributes!==null&&delete this.attributes[l]}element(l,f=!1,u=null){const c=this.elementOrNull(l,f);if(c===null)throw t.newError(u||`No element "${l}"`,"ERR_XML_MISSED_ELEMENT");return c}elementOrNull(l,f=!1){if(this.elements===null)return null;for(const u of this.elements)if(a(u,l,f))return u;return null}getElements(l,f=!1){return this.elements===null?[]:this.elements.filter(u=>a(u,l,f))}elementValueOrEmpty(l,f=!1){const u=this.elementOrNull(l,f);return u===null?"":u.value}}Bn.XElement=r;const n=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function i(s){return n.test(s)}function a(s,l,f){const u=s.name;return u===l||f===!0&&u.length===l.length&&u.toLowerCase()===l.toLowerCase()}function o(s){let l=null;const f=e.parser(!0,{}),u=[];return f.onopentag=c=>{const h=new r(c.name);if(h.attributes=c.attributes,l===null)l=h;else{const p=u[u.length-1];p.elements==null&&(p.elements=[]),p.elements.push(h)}u.push(h)},f.onclosetag=()=>{u.pop()},f.ontext=c=>{u.length>0&&(u[u.length-1].value=c)},f.oncdata=c=>{const h=u[u.length-1];h.value=c,h.isCData=!0},f.onerror=c=>{throw c},f.write(s),l}return Bn.parseXml=o,Bn}var Ap;function nt(){return Ap||(Ap=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=e.asArray=e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=e.XElement=e.parseXml=e.ProgressCallbackTransform=e.UUID=e.parseDn=e.githubUrl=e.getS3LikeProviderBaseUrl=e.configureRequestUrl=e.parseJson=e.safeStringifyJson=e.configureRequestOptionsFromUrl=e.configureRequestOptions=e.safeGetHeader=e.DigestTransform=e.HttpExecutor=e.createHttpError=e.HttpError=e.CancellationError=e.CancellationToken=void 0;var t=ui;Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return t.CancellationError}});var r=iR();Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return r.HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return r.createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return r.HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return r.DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return r.safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return r.configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return r.configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return r.safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return r.parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return r.configureRequestUrl}});var n=ea;Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return n.getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return n.githubUrl}});var i=xl;Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return i.parseDn}});var a=uR();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return a.UUID}});var o=ko;Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return o.ProgressCallbackTransform}});var s=fR();Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return s.parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return s.XElement}}),e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function l(u){return u==null?[]:Array.isArray(u)?u:[u]}e.asArray=l;function f(u,c){const h=new Error(u);return h.code=c,h}e.newError=f}(jc)),jc}var Hn={},mi={},Ut={};Ut.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{e.call(this,...t,(i,a)=>i!=null?n(i):r(a))})},"name",{value:e.name})};Ut.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:e.name})};var gn=__,dR=process.cwd,Is=null,hR=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Is||(Is=dR.call(process)),Is};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Np=process.chdir;process.chdir=function(e){Is=null,Np.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Np)}var pR=mR;function mR(e){gn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,c,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,c,h,p){p&&process.nextTick(p)},e.lchownSync=function(){}),hR==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function c(h,p,_){var w=Date.now(),g=0;u(h,p,function m(y){if(y&&(y.code==="EACCES"||y.code==="EPERM")&&Date.now()-w<6e4){setTimeout(function(){e.stat(p,function(S,O){S&&S.code==="ENOENT"?u(h,p,m):_(y)})},g),g<100&&(g+=10);return}_&&_(y)})}return Object.setPrototypeOf&&Object.setPrototypeOf(c,u),c}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function c(h,p,_,w,g,m){var y;if(m&&typeof m=="function"){var S=0;y=function(O,j,P){if(O&&O.code==="EAGAIN"&&S<10)return S++,u.call(e,h,p,_,w,g,y);m.apply(this,arguments)}}return u.call(e,h,p,_,w,g,y)}return Object.setPrototypeOf&&Object.setPrototypeOf(c,u),c}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(c,h,p,_,w){for(var g=0;;)try{return u.call(e,c,h,p,_,w)}catch(m){if(m.code==="EAGAIN"&&g<10){g++;continue}throw m}}}(e.readSync);function t(u){u.lchmod=function(c,h,p){u.open(c,gn.O_WRONLY|gn.O_SYMLINK,h,function(_,w){if(_){p&&p(_);return}u.fchmod(w,h,function(g){u.close(w,function(m){p&&p(g||m)})})})},u.lchmodSync=function(c,h){var p=u.openSync(c,gn.O_WRONLY|gn.O_SYMLINK,h),_=!0,w;try{w=u.fchmodSync(p,h),_=!1}finally{if(_)try{u.closeSync(p)}catch{}else u.closeSync(p)}return w}}function r(u){gn.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(c,h,p,_){u.open(c,gn.O_SYMLINK,function(w,g){if(w){_&&_(w);return}u.futimes(g,h,p,function(m){u.close(g,function(y){_&&_(m||y)})})})},u.lutimesSync=function(c,h,p){var _=u.openSync(c,gn.O_SYMLINK),w,g=!0;try{w=u.futimesSync(_,h,p),g=!1}finally{if(g)try{u.closeSync(_)}catch{}else u.closeSync(_)}return w}):u.futimes&&(u.lutimes=function(c,h,p,_){_&&process.nextTick(_)},u.lutimesSync=function(){})}function n(u){return u&&function(c,h,p){return u.call(e,c,h,function(_){f(_)&&(_=null),p&&p.apply(this,arguments)})}}function i(u){return u&&function(c,h){try{return u.call(e,c,h)}catch(p){if(!f(p))throw p}}}function a(u){return u&&function(c,h,p,_){return u.call(e,c,h,p,function(w){f(w)&&(w=null),_&&_.apply(this,arguments)})}}function o(u){return u&&function(c,h,p){try{return u.call(e,c,h,p)}catch(_){if(!f(_))throw _}}}function s(u){return u&&function(c,h,p){typeof h=="function"&&(p=h,h=null);function _(w,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),p&&p.apply(this,arguments)}return h?u.call(e,c,h,_):u.call(e,c,_)}}function l(u){return u&&function(c,h){var p=h?u.call(e,c,h):u.call(e,c);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function f(u){if(!u||u.code==="ENOSYS")return!0;var c=!process.getuid||process.getuid()!==0;return!!(c&&(u.code==="EINVAL"||u.code==="EPERM"))}}var Cp=Eo.Stream,yR=gR;function gR(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Cp.call(this);var a=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),s=0,l=o.length;s<l;s++){var f=o[s];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}e.open(this.path,this.flags,this.mode,function(u,c){if(u){a.emit("error",u),a.readable=!1;return}a.fd=c,a.emit("open",c),a._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Cp.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var a=Object.keys(i),o=0,s=a.length;o<s;o++){var l=a[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var vR=$R,_R=Object.getPrototypeOf||function(e){return e.__proto__};function $R(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:_R(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Ge=Xt,wR=pR,ER=yR,SR=vR,ms=hi,vt,al;typeof Symbol=="function"&&typeof Symbol.for=="function"?(vt=Symbol.for("graceful-fs.queue"),al=Symbol.for("graceful-fs.previous")):(vt="___graceful-fs.queue",al="___graceful-fs.previous");function bR(){}function sv(e,t){Object.defineProperty(e,vt,{get:function(){return t}})}var ti=bR;ms.debuglog?ti=ms.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ti=function(){var e=ms.format.apply(ms,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Ge[vt]){var TR=Pt[vt]||[];sv(Ge,TR),Ge.close=function(e){function t(r,n){return e.call(Ge,r,function(i){i||Ip(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,al,{value:e}),t}(Ge.close),Ge.closeSync=function(e){function t(r){e.apply(Ge,arguments),Ip()}return Object.defineProperty(t,al,{value:e}),t}(Ge.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ti(Ge[vt]),Lu.equal(Ge[vt].length,0)})}Pt[vt]||sv(Pt,Ge[vt]);var Mt=Nd(SR(Ge));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ge.__patched&&(Mt=Nd(Ge),Ge.__patched=!0);function Nd(e){wR(e),e.gracefulify=Nd,e.createReadStream=j,e.createWriteStream=P;var t=e.readFile;e.readFile=r;function r(b,V,q){return typeof V=="function"&&(q=V,V=null),k(b,V,q);function k(Q,X,Z,ee){return t(Q,X,function(Y){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?Ni([k,[Q,X,Z],Y,ee||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(b,V,q,k){return typeof q=="function"&&(k=q,q=null),Q(b,V,q,k);function Q(X,Z,ee,Y,z){return n(X,Z,ee,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Ni([Q,[X,Z,ee,Y],G,z||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var a=e.appendFile;a&&(e.appendFile=o);function o(b,V,q,k){return typeof q=="function"&&(k=q,q=null),Q(b,V,q,k);function Q(X,Z,ee,Y,z){return a(X,Z,ee,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Ni([Q,[X,Z,ee,Y],G,z||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var s=e.copyFile;s&&(e.copyFile=l);function l(b,V,q,k){return typeof q=="function"&&(k=q,q=0),Q(b,V,q,k);function Q(X,Z,ee,Y,z){return s(X,Z,ee,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Ni([Q,[X,Z,ee,Y],G,z||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var f=e.readdir;e.readdir=c;var u=/^v[0-5]\./;function c(b,V,q){typeof V=="function"&&(q=V,V=null);var k=u.test(process.version)?function(Z,ee,Y,z){return f(Z,Q(Z,ee,Y,z))}:function(Z,ee,Y,z){return f(Z,ee,Q(Z,ee,Y,z))};return k(b,V,q);function Q(X,Z,ee,Y){return function(z,G){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Ni([k,[X,Z,ee],z,Y||Date.now(),Date.now()]):(G&&G.sort&&G.sort(),typeof ee=="function"&&ee.call(this,z,G))}}}if(process.version.substr(0,4)==="v0.8"){var h=ER(e);m=h.ReadStream,S=h.WriteStream}var p=e.ReadStream;p&&(m.prototype=Object.create(p.prototype),m.prototype.open=y);var _=e.WriteStream;_&&(S.prototype=Object.create(_.prototype),S.prototype.open=O),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(b){m=b},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(b){S=b},enumerable:!0,configurable:!0});var w=m;Object.defineProperty(e,"FileReadStream",{get:function(){return w},set:function(b){w=b},enumerable:!0,configurable:!0});var g=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return g},set:function(b){g=b},enumerable:!0,configurable:!0});function m(b,V){return this instanceof m?(p.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(){var b=this;C(b.path,b.flags,b.mode,function(V,q){V?(b.autoClose&&b.destroy(),b.emit("error",V)):(b.fd=q,b.emit("open",q),b.read())})}function S(b,V){return this instanceof S?(_.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function O(){var b=this;C(b.path,b.flags,b.mode,function(V,q){V?(b.destroy(),b.emit("error",V)):(b.fd=q,b.emit("open",q))})}function j(b,V){return new e.ReadStream(b,V)}function P(b,V){return new e.WriteStream(b,V)}var E=e.open;e.open=C;function C(b,V,q,k){return typeof q=="function"&&(k=q,q=null),Q(b,V,q,k);function Q(X,Z,ee,Y,z){return E(X,Z,ee,function(G,R){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Ni([Q,[X,Z,ee,Y],G,z||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}return e}function Ni(e){ti("ENQUEUE",e[0].name,e[1]),Ge[vt].push(e),Cd()}var ys;function Ip(){for(var e=Date.now(),t=0;t<Ge[vt].length;++t)Ge[vt][t].length>2&&(Ge[vt][t][3]=e,Ge[vt][t][4]=e);Cd()}function Cd(){if(clearTimeout(ys),ys=void 0,Ge[vt].length!==0){var e=Ge[vt].shift(),t=e[0],r=e[1],n=e[2],i=e[3],a=e[4];if(i===void 0)ti("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ti("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var s=Date.now()-a,l=Math.max(a-i,1),f=Math.min(l*1.2,100);s>=f?(ti("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ge[vt].push(e)}ys===void 0&&(ys=setTimeout(Cd,0))}}(function(e){const t=Ut.fromCallback,r=Mt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,a){return typeof a=="function"?r.exists(i,a):new Promise(o=>r.exists(i,o))},e.read=function(i,a,o,s,l,f){return typeof f=="function"?r.read(i,a,o,s,l,f):new Promise((u,c)=>{r.read(i,a,o,s,l,(h,p,_)=>{if(h)return c(h);u({bytesRead:p,buffer:_})})})},e.write=function(i,a,...o){return typeof o[o.length-1]=="function"?r.write(i,a,...o):new Promise((s,l)=>{r.write(i,a,...o,(f,u,c)=>{if(f)return l(f);s({bytesWritten:u,buffer:c})})})},typeof r.writev=="function"&&(e.writev=function(i,a,...o){return typeof o[o.length-1]=="function"?r.writev(i,a,...o):new Promise((s,l)=>{r.writev(i,a,...o,(f,u,c)=>{if(f)return l(f);s({bytesWritten:u,buffers:c})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(mi);var Id={},lv={};const PR=Oe;lv.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(PR.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const cv=mi,{checkPath:uv}=lv,fv=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Id.makeDir=async(e,t)=>(uv(e),cv.mkdir(e,{mode:fv(t),recursive:!0}));Id.makeDirSync=(e,t)=>(uv(e),cv.mkdirSync(e,{mode:fv(t),recursive:!0}));const OR=Ut.fromPromise,{makeDir:AR,makeDirSync:Uc}=Id,Mc=OR(AR);var Vr={mkdirs:Mc,mkdirsSync:Uc,mkdirp:Mc,mkdirpSync:Uc,ensureDir:Mc,ensureDirSync:Uc};const NR=Ut.fromPromise,dv=mi;function CR(e){return dv.access(e).then(()=>!0).catch(()=>!1)}var yi={pathExists:NR(CR),pathExistsSync:dv.existsSync};const Ki=Mt;function IR(e,t,r,n){Ki.open(e,"r+",(i,a)=>{if(i)return n(i);Ki.futimes(a,t,r,o=>{Ki.close(a,s=>{n&&n(o||s)})})})}function RR(e,t,r){const n=Ki.openSync(e,"r+");return Ki.futimesSync(n,t,r),Ki.closeSync(n)}var hv={utimesMillis:IR,utimesMillisSync:RR};const ta=mi,ut=Oe,DR=hi;function FR(e,t,r){const n=r.dereference?i=>ta.stat(i,{bigint:!0}):i=>ta.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,a])=>({srcStat:i,destStat:a}))}function kR(e,t,r){let n;const i=r.dereference?o=>ta.statSync(o,{bigint:!0}):o=>ta.lstatSync(o,{bigint:!0}),a=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:a,destStat:null};throw o}return{srcStat:a,destStat:n}}function LR(e,t,r,n,i){DR.callbackify(FR)(e,t,n,(a,o)=>{if(a)return i(a);const{srcStat:s,destStat:l}=o;if(l){if(Lo(s,l)){const f=ut.basename(e),u=ut.basename(t);return r==="move"&&f!==u&&f.toLowerCase()===u.toLowerCase()?i(null,{srcStat:s,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!l.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&l.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&Rd(e,t)?i(new Error(ql(e,t,r))):i(null,{srcStat:s,destStat:l})})}function jR(e,t,r,n){const{srcStat:i,destStat:a}=kR(e,t,n);if(a){if(Lo(i,a)){const o=ut.basename(e),s=ut.basename(t);if(r==="move"&&o!==s&&o.toLowerCase()===s.toLowerCase())return{srcStat:i,destStat:a,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!a.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&a.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Rd(e,t))throw new Error(ql(e,t,r));return{srcStat:i,destStat:a}}function pv(e,t,r,n,i){const a=ut.resolve(ut.dirname(e)),o=ut.resolve(ut.dirname(r));if(o===a||o===ut.parse(o).root)return i();ta.stat(o,{bigint:!0},(s,l)=>s?s.code==="ENOENT"?i():i(s):Lo(t,l)?i(new Error(ql(e,r,n))):pv(e,t,o,n,i))}function mv(e,t,r,n){const i=ut.resolve(ut.dirname(e)),a=ut.resolve(ut.dirname(r));if(a===i||a===ut.parse(a).root)return;let o;try{o=ta.statSync(a,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(Lo(t,o))throw new Error(ql(e,r,n));return mv(e,t,a,n)}function Lo(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Rd(e,t){const r=ut.resolve(e).split(ut.sep).filter(i=>i),n=ut.resolve(t).split(ut.sep).filter(i=>i);return r.reduce((i,a,o)=>i&&n[o]===a,!0)}function ql(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var pa={checkPaths:LR,checkPathsSync:jR,checkParentPaths:pv,checkParentPathsSync:mv,isSrcSubdir:Rd,areIdentical:Lo};const Wt=Mt,ho=Oe,UR=Vr.mkdirs,MR=yi.pathExists,xR=hv.utimesMillis,po=pa;function qR(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),po.checkPaths(e,t,"copy",r,(i,a)=>{if(i)return n(i);const{srcStat:o,destStat:s}=a;po.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?yv(Rp,s,e,t,r,n):Rp(s,e,t,r,n))})}function Rp(e,t,r,n,i){const a=ho.dirname(r);MR(a,(o,s)=>{if(o)return i(o);if(s)return ol(e,t,r,n,i);UR(a,l=>l?i(l):ol(e,t,r,n,i))})}function yv(e,t,r,n,i,a){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,a):a(),o=>a(o))}function VR(e,t,r,n,i){return n.filter?yv(ol,e,t,r,n,i):ol(e,t,r,n,i)}function ol(e,t,r,n,i){(n.dereference?Wt.stat:Wt.lstat)(t,(o,s)=>o?i(o):s.isDirectory()?WR(s,e,t,r,n,i):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?BR(s,e,t,r,n,i):s.isSymbolicLink()?QR(e,t,r,n,i):s.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):s.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function BR(e,t,r,n,i,a){return t?HR(e,r,n,i,a):gv(e,r,n,i,a)}function HR(e,t,r,n,i){if(n.overwrite)Wt.unlink(r,a=>a?i(a):gv(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function gv(e,t,r,n,i){Wt.copyFile(t,r,a=>a?i(a):n.preserveTimestamps?zR(e.mode,t,r,i):Vl(r,e.mode,i))}function zR(e,t,r,n){return GR(e)?KR(r,e,i=>i?n(i):Dp(e,t,r,n)):Dp(e,t,r,n)}function GR(e){return(e&128)===0}function KR(e,t,r){return Vl(e,t|128,r)}function Dp(e,t,r,n){YR(t,r,i=>i?n(i):Vl(r,e,n))}function Vl(e,t,r){return Wt.chmod(e,t,r)}function YR(e,t,r){Wt.stat(e,(n,i)=>n?r(n):xR(t,i.atime,i.mtime,r))}function WR(e,t,r,n,i,a){return t?vv(r,n,i,a):JR(e.mode,r,n,i,a)}function JR(e,t,r,n,i){Wt.mkdir(r,a=>{if(a)return i(a);vv(t,r,n,o=>o?i(o):Vl(r,e,i))})}function vv(e,t,r,n){Wt.readdir(e,(i,a)=>i?n(i):_v(a,e,t,r,n))}function _v(e,t,r,n,i){const a=e.pop();return a?XR(e,a,t,r,n,i):i()}function XR(e,t,r,n,i,a){const o=ho.join(r,t),s=ho.join(n,t);po.checkPaths(o,s,"copy",i,(l,f)=>{if(l)return a(l);const{destStat:u}=f;VR(u,o,s,i,c=>c?a(c):_v(e,r,n,i,a))})}function QR(e,t,r,n,i){Wt.readlink(t,(a,o)=>{if(a)return i(a);if(n.dereference&&(o=ho.resolve(process.cwd(),o)),e)Wt.readlink(r,(s,l)=>s?s.code==="EINVAL"||s.code==="UNKNOWN"?Wt.symlink(o,r,i):i(s):(n.dereference&&(l=ho.resolve(process.cwd(),l)),po.isSrcSubdir(o,l)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&po.isSrcSubdir(l,o)?i(new Error(`Cannot overwrite '${l}' with '${o}'.`)):ZR(o,r,i)));else return Wt.symlink(o,r,i)})}function ZR(e,t,r){Wt.unlink(t,n=>n?r(n):Wt.symlink(e,t,r))}var eD=qR;const Tt=Mt,mo=Oe,tD=Vr.mkdirsSync,rD=hv.utimesMillisSync,yo=pa;function nD(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=yo.checkPathsSync(e,t,"copy",r);return yo.checkParentPathsSync(e,n,t,"copy"),iD(i,e,t,r)}function iD(e,t,r,n){if(n.filter&&!n.filter(t,r))return;const i=mo.dirname(r);return Tt.existsSync(i)||tD(i),$v(e,t,r,n)}function aD(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return $v(e,t,r,n)}function $v(e,t,r,n){const a=(n.dereference?Tt.statSync:Tt.lstatSync)(t);if(a.isDirectory())return dD(a,e,t,r,n);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return oD(a,e,t,r,n);if(a.isSymbolicLink())return mD(e,t,r,n);throw a.isSocket()?new Error(`Cannot copy a socket file: ${t}`):a.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function oD(e,t,r,n,i){return t?sD(e,r,n,i):wv(e,r,n,i)}function sD(e,t,r,n){if(n.overwrite)return Tt.unlinkSync(r),wv(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function wv(e,t,r,n){return Tt.copyFileSync(t,r),n.preserveTimestamps&&lD(e.mode,t,r),Dd(r,e.mode)}function lD(e,t,r){return cD(e)&&uD(r,e),fD(t,r)}function cD(e){return(e&128)===0}function uD(e,t){return Dd(e,t|128)}function Dd(e,t){return Tt.chmodSync(e,t)}function fD(e,t){const r=Tt.statSync(e);return rD(t,r.atime,r.mtime)}function dD(e,t,r,n,i){return t?Ev(r,n,i):hD(e.mode,r,n,i)}function hD(e,t,r,n){return Tt.mkdirSync(r),Ev(t,r,n),Dd(r,e)}function Ev(e,t,r){Tt.readdirSync(e).forEach(n=>pD(n,e,t,r))}function pD(e,t,r,n){const i=mo.join(t,e),a=mo.join(r,e),{destStat:o}=yo.checkPathsSync(i,a,"copy",n);return aD(o,i,a,n)}function mD(e,t,r,n){let i=Tt.readlinkSync(t);if(n.dereference&&(i=mo.resolve(process.cwd(),i)),e){let a;try{a=Tt.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Tt.symlinkSync(i,r);throw o}if(n.dereference&&(a=mo.resolve(process.cwd(),a)),yo.isSrcSubdir(i,a))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${a}'.`);if(Tt.statSync(r).isDirectory()&&yo.isSrcSubdir(a,i))throw new Error(`Cannot overwrite '${a}' with '${i}'.`);return yD(i,r)}else return Tt.symlinkSync(i,r)}function yD(e,t){return Tt.unlinkSync(t),Tt.symlinkSync(e,t)}var gD=nD;const vD=Ut.fromCallback;var Fd={copy:vD(eD),copySync:gD};const Fp=Mt,Sv=Oe,Fe=Lu,go=process.platform==="win32";function bv(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||Fp[r],r=r+"Sync",e[r]=e[r]||Fp[r]}),e.maxBusyTries=e.maxBusyTries||3}function kd(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe.strictEqual(typeof r,"function","rimraf: callback function required"),Fe(t,"rimraf: invalid options argument provided"),Fe.strictEqual(typeof t,"object","rimraf: options should be object"),bv(t),kp(e,t,function i(a){if(a){if((a.code==="EBUSY"||a.code==="ENOTEMPTY"||a.code==="EPERM")&&n<t.maxBusyTries){n++;const o=n*100;return setTimeout(()=>kp(e,t,i),o)}a.code==="ENOENT"&&(a=null)}r(a)})}function kp(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&go)return Lp(e,t,n,r);if(i&&i.isDirectory())return Rs(e,t,n,r);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return r(null);if(a.code==="EPERM")return go?Lp(e,t,a,r):Rs(e,t,a,r);if(a.code==="EISDIR")return Rs(e,t,a,r)}return r(a)})})}function Lp(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(a,o)=>{a?n(a.code==="ENOENT"?null:r):o.isDirectory()?Rs(e,t,r,n):t.unlink(e,n)})})}function jp(e,t,r){let n;Fe(e),Fe(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Ds(e,t,r):t.unlinkSync(e)}function Rs(e,t,r,n){Fe(e),Fe(t),Fe(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?_D(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function _D(e,t,r){Fe(e),Fe(t),Fe(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let a=i.length,o;if(a===0)return t.rmdir(e,r);i.forEach(s=>{kd(Sv.join(e,s),t,l=>{if(!o){if(l)return r(o=l);--a===0&&t.rmdir(e,r)}})})})}function Tv(e,t){let r;t=t||{},bv(t),Fe(e,"rimraf: missing path"),Fe.strictEqual(typeof e,"string","rimraf: path should be a string"),Fe(t,"rimraf: missing options"),Fe.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&go&&jp(e,t,n)}try{r&&r.isDirectory()?Ds(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return go?jp(e,t,n):Ds(e,t,n);if(n.code!=="EISDIR")throw n;Ds(e,t,n)}}function Ds(e,t,r){Fe(e),Fe(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")$D(e,t);else if(n.code!=="ENOENT")throw n}}function $D(e,t){if(Fe(e),Fe(t),t.readdirSync(e).forEach(r=>Tv(Sv.join(e,r),t)),go){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var wD=kd;kd.sync=Tv;const sl=Mt,ED=Ut.fromCallback,Pv=wD;function SD(e,t){if(sl.rm)return sl.rm(e,{recursive:!0,force:!0},t);Pv(e,t)}function bD(e){if(sl.rmSync)return sl.rmSync(e,{recursive:!0,force:!0});Pv.sync(e)}var Bl={remove:ED(SD),removeSync:bD};const TD=Ut.fromPromise,Ov=mi,Av=Oe,Nv=Vr,Cv=Bl,Up=TD(async function(t){let r;try{r=await Ov.readdir(t)}catch{return Nv.mkdirs(t)}return Promise.all(r.map(n=>Cv.remove(Av.join(t,n))))});function Mp(e){let t;try{t=Ov.readdirSync(e)}catch{return Nv.mkdirsSync(e)}t.forEach(r=>{r=Av.join(e,r),Cv.removeSync(r)})}var PD={emptyDirSync:Mp,emptydirSync:Mp,emptyDir:Up,emptydir:Up};const OD=Ut.fromCallback,Iv=Oe,Tn=Mt,Rv=Vr;function AD(e,t){function r(){Tn.writeFile(e,"",n=>{if(n)return t(n);t()})}Tn.stat(e,(n,i)=>{if(!n&&i.isFile())return t();const a=Iv.dirname(e);Tn.stat(a,(o,s)=>{if(o)return o.code==="ENOENT"?Rv.mkdirs(a,l=>{if(l)return t(l);r()}):t(o);s.isDirectory()?r():Tn.readdir(a,l=>{if(l)return t(l)})})})}function ND(e){let t;try{t=Tn.statSync(e)}catch{}if(t&&t.isFile())return;const r=Iv.dirname(e);try{Tn.statSync(r).isDirectory()||Tn.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Rv.mkdirsSync(r);else throw n}Tn.writeFileSync(e,"")}var CD={createFile:OD(AD),createFileSync:ND};const ID=Ut.fromCallback,Dv=Oe,$n=Mt,Fv=Vr,RD=yi.pathExists,{areIdentical:kv}=pa;function DD(e,t,r){function n(i,a){$n.link(i,a,o=>{if(o)return r(o);r(null)})}$n.lstat(t,(i,a)=>{$n.lstat(e,(o,s)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(a&&kv(s,a))return r(null);const l=Dv.dirname(t);RD(l,(f,u)=>{if(f)return r(f);if(u)return n(e,t);Fv.mkdirs(l,c=>{if(c)return r(c);n(e,t)})})})})}function FD(e,t){let r;try{r=$n.lstatSync(t)}catch{}try{const a=$n.lstatSync(e);if(r&&kv(a,r))return}catch(a){throw a.message=a.message.replace("lstat","ensureLink"),a}const n=Dv.dirname(t);return $n.existsSync(n)||Fv.mkdirsSync(n),$n.linkSync(e,t)}var kD={createLink:ID(DD),createLinkSync:FD};const Pn=Oe,to=Mt,LD=yi.pathExists;function jD(e,t,r){if(Pn.isAbsolute(e))return to.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{const n=Pn.dirname(t),i=Pn.join(n,e);return LD(i,(a,o)=>a?r(a):o?r(null,{toCwd:i,toDst:e}):to.lstat(e,s=>s?(s.message=s.message.replace("lstat","ensureSymlink"),r(s)):r(null,{toCwd:e,toDst:Pn.relative(n,e)})))}}function UD(e,t){let r;if(Pn.isAbsolute(e)){if(r=to.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const n=Pn.dirname(t),i=Pn.join(n,e);if(r=to.existsSync(i),r)return{toCwd:i,toDst:e};if(r=to.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Pn.relative(n,e)}}}var MD={symlinkPaths:jD,symlinkPathsSync:UD};const Lv=Mt;function xD(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);Lv.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function qD(e,t){let r;if(t)return t;try{r=Lv.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var VD={symlinkType:xD,symlinkTypeSync:qD};const BD=Ut.fromCallback,jv=Oe,Sr=mi,Uv=Vr,HD=Uv.mkdirs,zD=Uv.mkdirsSync,Mv=MD,GD=Mv.symlinkPaths,KD=Mv.symlinkPathsSync,xv=VD,YD=xv.symlinkType,WD=xv.symlinkTypeSync,JD=yi.pathExists,{areIdentical:qv}=pa;function XD(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Sr.lstat(t,(i,a)=>{!i&&a.isSymbolicLink()?Promise.all([Sr.stat(e),Sr.stat(t)]).then(([o,s])=>{if(qv(o,s))return n(null);xp(e,t,r,n)}):xp(e,t,r,n)})}function xp(e,t,r,n){GD(e,t,(i,a)=>{if(i)return n(i);e=a.toDst,YD(a.toCwd,r,(o,s)=>{if(o)return n(o);const l=jv.dirname(t);JD(l,(f,u)=>{if(f)return n(f);if(u)return Sr.symlink(e,t,s,n);HD(l,c=>{if(c)return n(c);Sr.symlink(e,t,s,n)})})})})}function QD(e,t,r){let n;try{n=Sr.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const s=Sr.statSync(e),l=Sr.statSync(t);if(qv(s,l))return}const i=KD(e,t);e=i.toDst,r=WD(i.toCwd,r);const a=jv.dirname(t);return Sr.existsSync(a)||zD(a),Sr.symlinkSync(e,t,r)}var ZD={createSymlink:BD(XD),createSymlinkSync:QD};const{createFile:qp,createFileSync:Vp}=CD,{createLink:Bp,createLinkSync:Hp}=kD,{createSymlink:zp,createSymlinkSync:Gp}=ZD;var eF={createFile:qp,createFileSync:Vp,ensureFile:qp,ensureFileSync:Vp,createLink:Bp,createLinkSync:Hp,ensureLink:Bp,ensureLinkSync:Hp,createSymlink:zp,createSymlinkSync:Gp,ensureSymlink:zp,ensureSymlinkSync:Gp};function tF(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const a=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+a}function rF(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Ld={stringify:tF,stripBom:rF};let ra;try{ra=Mt}catch{ra=Xt}const Hl=Ut,{stringify:Vv,stripBom:Bv}=Ld;async function nF(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||ra,n="throws"in t?t.throws:!0;let i=await Hl.fromCallback(r.readFile)(e,t);i=Bv(i);let a;try{a=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return a}const iF=Hl.fromPromise(nF);function aF(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||ra,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Bv(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function oF(e,t,r={}){const n=r.fs||ra,i=Vv(t,r);await Hl.fromCallback(n.writeFile)(e,i,r)}const sF=Hl.fromPromise(oF);function lF(e,t,r={}){const n=r.fs||ra,i=Vv(t,r);return n.writeFileSync(e,i,r)}const cF={readFile:iF,readFileSync:aF,writeFile:sF,writeFileSync:lF};var uF=cF;const gs=uF;var fF={readJson:gs.readFile,readJsonSync:gs.readFileSync,writeJson:gs.writeFile,writeJsonSync:gs.writeFileSync};const dF=Ut.fromCallback,ro=Mt,Hv=Oe,zv=Vr,hF=yi.pathExists;function pF(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");const i=Hv.dirname(e);hF(i,(a,o)=>{if(a)return n(a);if(o)return ro.writeFile(e,t,r,n);zv.mkdirs(i,s=>{if(s)return n(s);ro.writeFile(e,t,r,n)})})}function mF(e,...t){const r=Hv.dirname(e);if(ro.existsSync(r))return ro.writeFileSync(e,...t);zv.mkdirsSync(r),ro.writeFileSync(e,...t)}var jd={outputFile:dF(pF),outputFileSync:mF};const{stringify:yF}=Ld,{outputFile:gF}=jd;async function vF(e,t,r={}){const n=yF(t,r);await gF(e,n,r)}var _F=vF;const{stringify:$F}=Ld,{outputFileSync:wF}=jd;function EF(e,t,r){const n=$F(t,r);wF(e,n,r)}var SF=EF;const bF=Ut.fromPromise,Lt=fF;Lt.outputJson=bF(_F);Lt.outputJsonSync=SF;Lt.outputJSON=Lt.outputJson;Lt.outputJSONSync=Lt.outputJsonSync;Lt.writeJSON=Lt.writeJson;Lt.writeJSONSync=Lt.writeJsonSync;Lt.readJSON=Lt.readJson;Lt.readJSONSync=Lt.readJsonSync;var TF=Lt;const PF=Mt,bu=Oe,OF=Fd.copy,Gv=Bl.remove,AF=Vr.mkdirp,NF=yi.pathExists,Kp=pa;function CF(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.overwrite||r.clobber||!1;Kp.checkPaths(e,t,"move",r,(a,o)=>{if(a)return n(a);const{srcStat:s,isChangingCase:l=!1}=o;Kp.checkParentPaths(e,s,t,"move",f=>{if(f)return n(f);if(IF(t))return Yp(e,t,i,l,n);AF(bu.dirname(t),u=>u?n(u):Yp(e,t,i,l,n))})})}function IF(e){const t=bu.dirname(e);return bu.parse(t).root===t}function Yp(e,t,r,n,i){if(n)return xc(e,t,r,i);if(r)return Gv(t,a=>a?i(a):xc(e,t,r,i));NF(t,(a,o)=>a?i(a):o?i(new Error("dest already exists.")):xc(e,t,r,i))}function xc(e,t,r,n){PF.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):RF(e,t,r,n):n())}function RF(e,t,r,n){OF(e,t,{overwrite:r,errorOnExist:!0},a=>a?n(a):Gv(e,n))}var DF=CF;const Kv=Mt,Tu=Oe,FF=Fd.copySync,Yv=Bl.removeSync,kF=Vr.mkdirpSync,Wp=pa;function LF(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:a=!1}=Wp.checkPathsSync(e,t,"move",r);return Wp.checkParentPathsSync(e,i,t,"move"),jF(t)||kF(Tu.dirname(t)),UF(e,t,n,a)}function jF(e){const t=Tu.dirname(e);return Tu.parse(t).root===t}function UF(e,t,r,n){if(n)return qc(e,t,r);if(r)return Yv(t),qc(e,t,r);if(Kv.existsSync(t))throw new Error("dest already exists.");return qc(e,t,r)}function qc(e,t,r){try{Kv.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return MF(e,t,r)}}function MF(e,t,r){return FF(e,t,{overwrite:r,errorOnExist:!0}),Yv(e)}var xF=LF;const qF=Ut.fromCallback;var VF={move:qF(DF),moveSync:xF},gi={...mi,...Fd,...PD,...eF,...TF,...Vr,...VF,...jd,...yi,...Bl},_t={},Ud={},Ir={};function Wv(e){return typeof e>"u"||e===null}function BF(e){return typeof e=="object"&&e!==null}function HF(e){return Array.isArray(e)?e:Wv(e)?[]:[e]}function zF(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function GF(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function KF(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Ir.isNothing=Wv;Ir.isObject=BF;Ir.toArray=HF;Ir.repeat=GF;Ir.isNegativeZero=KF;Ir.extend=zF;function Jv(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function vo(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Jv(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}vo.prototype=Object.create(Error.prototype);vo.prototype.constructor=vo;vo.prototype.toString=function(t){return this.name+": "+Jv(this,t)};var jo=vo,Va=Ir;function Vc(e,t,r,n,i){var a="",o="",s=Math.floor(i/2)-1;return n-t>s&&(a=" ... ",t=n-s+a.length),r-n>s&&(o=" ...",r=n+s-o.length),{str:a+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+a.length}}function Bc(e,t){return Va.repeat(" ",t-e.length)+e}function YF(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,o=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var s="",l,f,u=Math.min(e.line+t.linesAfter,i.length).toString().length,c=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)f=Vc(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),c),s=Va.repeat(" ",t.indent)+Bc((e.line-l+1).toString(),u)+" | "+f.str+`
`+s;for(f=Vc(e.buffer,n[o],i[o],e.position,c),s+=Va.repeat(" ",t.indent)+Bc((e.line+1).toString(),u)+" | "+f.str+`
`,s+=Va.repeat("-",t.indent+u+3+f.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)f=Vc(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),c),s+=Va.repeat(" ",t.indent)+Bc((e.line+l+1).toString(),u)+" | "+f.str+`
`;return s.replace(/\n$/,"")}var WF=YF,ll={},JF={get exports(){return ll},set exports(e){ll=e}},Jp=jo,XF=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],QF=["scalar","sequence","mapping"];function ZF(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function ek(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(XF.indexOf(r)===-1)throw new Jp('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ZF(t.styleAliases||null),QF.indexOf(this.kind)===-1)throw new Jp('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var xt=ek,Fa=jo,Hc=xt;function Xp(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,o){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=o)}),r[i]=n}),r}function tk(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Pu(e){return this.extend(e)}Pu.prototype.extend=function(t){var r=[],n=[];if(t instanceof Hc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Fa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof Hc))throw new Fa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Fa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Fa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof Hc))throw new Fa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Pu.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Xp(i,"implicit"),i.compiledExplicit=Xp(i,"explicit"),i.compiledTypeMap=tk(i.compiledImplicit,i.compiledExplicit),i};var Xv=Pu,rk=xt,Qv=new rk("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),nk=xt,Zv=new nk("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),ik=xt,e0=new ik("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ak=Xv,t0=new ak({explicit:[Qv,Zv,e0]}),ok=xt;function sk(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function lk(){return null}function ck(e){return e===null}var r0=new ok("tag:yaml.org,2002:null",{kind:"scalar",resolve:sk,construct:lk,predicate:ck,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),uk=xt;function fk(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function dk(e){return e==="true"||e==="True"||e==="TRUE"}function hk(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var n0=new uk("tag:yaml.org,2002:bool",{kind:"scalar",resolve:fk,construct:dk,predicate:hk,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),pk=Ir,mk=xt;function yk(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function gk(e){return 48<=e&&e<=55}function vk(e){return 48<=e&&e<=57}function _k(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!yk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!gk(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!vk(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function $k(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function wk(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!pk.isNegativeZero(e)}var i0=new mk("tag:yaml.org,2002:int",{kind:"scalar",resolve:_k,construct:$k,predicate:wk,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),a0=Ir,Ek=xt,Sk=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function bk(e){return!(e===null||!Sk.test(e)||e[e.length-1]==="_")}function Tk(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Pk=/^[-+]?[0-9]+e/;function Ok(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(a0.isNegativeZero(e))return"-0.0";return r=e.toString(10),Pk.test(r)?r.replace("e",".e"):r}function Ak(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||a0.isNegativeZero(e))}var o0=new Ek("tag:yaml.org,2002:float",{kind:"scalar",resolve:bk,construct:Tk,predicate:Ak,represent:Ok,defaultStyle:"lowercase"}),s0=t0.extend({implicit:[r0,n0,i0,o0]});(function(e){e.exports=s0})(JF);var Nk=xt,l0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),c0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ck(e){return e===null?!1:l0.exec(e)!==null||c0.exec(e)!==null}function Ik(e){var t,r,n,i,a,o,s,l=0,f=null,u,c,h;if(t=l0.exec(e),t===null&&(t=c0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],c=+(t[11]||0),f=(u*60+c)*6e4,t[9]==="-"&&(f=-f)),h=new Date(Date.UTC(r,n,i,a,o,s,l)),f&&h.setTime(h.getTime()-f),h}function Rk(e){return e.toISOString()}var u0=new Nk("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ck,construct:Ik,instanceOf:Date,represent:Rk}),Dk=xt;function Fk(e){return e==="<<"||e===null}var f0=new Dk("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Fk}),kk=xt,Md=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Lk(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=Md;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function jk(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=Md,o=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):r===18?(s.push(o>>10&255),s.push(o>>2&255)):r===12&&s.push(o>>4&255),new Uint8Array(s)}function Uk(e){var t="",r=0,n,i,a=e.length,o=Md;for(n=0;n<a;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function Mk(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var d0=new kk("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Lk,construct:jk,predicate:Mk,represent:Uk}),xk=xt,qk=Object.prototype.hasOwnProperty,Vk=Object.prototype.toString;function Bk(e){if(e===null)return!0;var t=[],r,n,i,a,o,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],o=!1,Vk.call(i)!=="[object Object]")return!1;for(a in i)if(qk.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function Hk(e){return e!==null?e:[]}var h0=new xk("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Bk,construct:Hk}),zk=xt,Gk=Object.prototype.toString;function Kk(e){if(e===null)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],Gk.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function Yk(e){if(e===null)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}var p0=new zk("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Kk,construct:Yk}),Wk=xt,Jk=Object.prototype.hasOwnProperty;function Xk(e){if(e===null)return!0;var t,r=e;for(t in r)if(Jk.call(r,t)&&r[t]!==null)return!1;return!0}function Qk(e){return e!==null?e:{}}var m0=new Wk("tag:yaml.org,2002:set",{kind:"mapping",resolve:Xk,construct:Qk}),xd=ll.extend({implicit:[u0,f0],explicit:[d0,h0,p0,m0]}),Zn=Ir,y0=jo,Zk=WF,eL=xd,Cn=Object.prototype.hasOwnProperty,cl=1,g0=2,v0=3,ul=4,zc=1,tL=2,Qp=3,rL=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,nL=/[\x85\u2028\u2029]/,iL=/[,\[\]\{\}]/,_0=/^(?:!|!!|![a-z\-]+!)$/i,$0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Zp(e){return Object.prototype.toString.call(e)}function Mr(e){return e===10||e===13}function ri(e){return e===9||e===32}function Jt(e){return e===9||e===32||e===10||e===13}function xi(e){return e===44||e===91||e===93||e===123||e===125}function aL(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function oL(e){return e===120?2:e===117?4:e===85?8:0}function sL(e){return 48<=e&&e<=57?e-48:-1}function em(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function lL(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var w0=new Array(256),E0=new Array(256);for(var Ci=0;Ci<256;Ci++)w0[Ci]=em(Ci)?1:0,E0[Ci]=em(Ci);function cL(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||eL,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function S0(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Zk(r),new y0(t,r)}function ce(e,t){throw S0(e,t)}function fl(e,t){e.onWarning&&e.onWarning.call(null,S0(e,t))}var tm={YAML:function(t,r,n){var i,a,o;t.version!==null&&ce(t,"duplication of %YAML directive"),n.length!==1&&ce(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&ce(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&ce(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&fl(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,a;n.length!==2&&ce(t,"TAG directive accepts exactly two arguments"),i=n[0],a=n[1],_0.test(i)||ce(t,"ill-formed tag handle (first argument) of the TAG directive"),Cn.call(t.tagMap,i)&&ce(t,'there is a previously declared suffix for "'+i+'" tag handle'),$0.test(a)||ce(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{ce(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Nn(e,t,r,n){var i,a,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,a=s.length;i<a;i+=1)o=s.charCodeAt(i),o===9||32<=o&&o<=1114111||ce(e,"expected valid JSON character");else rL.test(s)&&ce(e,"the stream contains non-printable characters");e.result+=s}}function rm(e,t,r,n){var i,a,o,s;for(Zn.isObject(r)||ce(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,s=i.length;o<s;o+=1)a=i[o],Cn.call(t,a)||(t[a]=r[a],n[a]=!0)}function qi(e,t,r,n,i,a,o,s,l){var f,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),f=0,u=i.length;f<u;f+=1)Array.isArray(i[f])&&ce(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Zp(i[f])==="[object Object]"&&(i[f]="[object Object]");if(typeof i=="object"&&Zp(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(f=0,u=a.length;f<u;f+=1)rm(e,t,a[f],r);else rm(e,t,a,r);else!e.json&&!Cn.call(r,i)&&Cn.call(t,i)&&(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,ce(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function qd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ce(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function tt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ri(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Mr(i))for(qd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&fl(e,"deficient indentation"),n}function zl(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Jt(r)))}function Vd(e,t){t===1?e.result+=" ":t>1&&(e.result+=Zn.repeat(`
`,t-1))}function uL(e,t,r){var n,i,a,o,s,l,f,u,c=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Jt(p)||xi(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&xi(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,s=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Jt(i)||r&&xi(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Jt(n))break}else{if(e.position===e.lineStart&&zl(e)||r&&xi(p))break;if(Mr(p))if(l=e.line,f=e.lineStart,u=e.lineIndent,tt(e,!1,-1),e.lineIndent>=t){s=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=f,e.lineIndent=u;break}}s&&(Nn(e,a,o,!1),Vd(e,e.line-l),a=o=e.position,s=!1),ri(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Nn(e,a,o,!1),e.result?!0:(e.kind=c,e.result=h,!1)}function fL(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Nn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Mr(r)?(Nn(e,n,i,!0),Vd(e,tt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&zl(e)?ce(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ce(e,"unexpected end of the stream within a single quoted scalar")}function dL(e,t){var r,n,i,a,o,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Nn(e,r,e.position,!0),e.position++,!0;if(s===92){if(Nn(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),Mr(s))tt(e,!1,t);else if(s<256&&w0[s])e.result+=E0[s],e.position++;else if((o=oL(s))>0){for(i=o,a=0;i>0;i--)s=e.input.charCodeAt(++e.position),(o=aL(s))>=0?a=(a<<4)+o:ce(e,"expected hexadecimal character");e.result+=lL(a),e.position++}else ce(e,"unknown escape sequence");r=n=e.position}else Mr(s)?(Nn(e,r,n,!0),Vd(e,tt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&zl(e)?ce(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}ce(e,"unexpected end of the stream within a double quoted scalar")}function hL(e,t){var r=!0,n,i,a,o=e.tag,s,l=e.anchor,f,u,c,h,p,_=Object.create(null),w,g,m,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,p=!1,s=[];else if(y===123)u=125,p=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),y=e.input.charCodeAt(++e.position);y!==0;){if(tt(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=s,!0;r?y===44&&ce(e,"expected the node content, but found ','"):ce(e,"missed comma between flow collection entries"),g=w=m=null,c=h=!1,y===63&&(f=e.input.charCodeAt(e.position+1),Jt(f)&&(c=h=!0,e.position++,tt(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,na(e,t,cl,!1,!0),g=e.tag,w=e.result,tt(e,!0,t),y=e.input.charCodeAt(e.position),(h||e.line===n)&&y===58&&(c=!0,y=e.input.charCodeAt(++e.position),tt(e,!0,t),na(e,t,cl,!1,!0),m=e.result),p?qi(e,s,_,g,w,m,n,i,a):c?s.push(qi(e,null,_,g,w,m,n,i,a)):s.push(w),tt(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}ce(e,"unexpected end of the stream within a flow collection")}function pL(e,t){var r,n,i=zc,a=!1,o=!1,s=t,l=0,f=!1,u,c;if(c=e.input.charCodeAt(e.position),c===124)n=!1;else if(c===62)n=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)zc===i?i=c===43?Qp:tL:ce(e,"repeat of a chomping mode identifier");else if((u=sL(c))>=0)u===0?ce(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?ce(e,"repeat of an indentation width identifier"):(s=t+u-1,o=!0);else break;if(ri(c)){do c=e.input.charCodeAt(++e.position);while(ri(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!Mr(c)&&c!==0)}for(;c!==0;){for(qd(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!o||e.lineIndent<s)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>s&&(s=e.lineIndent),Mr(c)){l++;continue}if(e.lineIndent<s){i===Qp?e.result+=Zn.repeat(`
`,a?1+l:l):i===zc&&a&&(e.result+=`
`);break}for(n?ri(c)?(f=!0,e.result+=Zn.repeat(`
`,a?1+l:l)):f?(f=!1,e.result+=Zn.repeat(`
`,l+1)):l===0?a&&(e.result+=" "):e.result+=Zn.repeat(`
`,l):e.result+=Zn.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,r=e.position;!Mr(c)&&c!==0;)c=e.input.charCodeAt(++e.position);Nn(e,r,e.position,!1)}return!0}function nm(e,t){var r,n=e.tag,i=e.anchor,a=[],o,s=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ce(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Jt(o))));){if(s=!0,e.position++,tt(e,!0,-1)&&e.lineIndent<=t){a.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,na(e,t,v0,!1,!0),a.push(e.result),tt(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)ce(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function mL(e,t,r){var n,i,a,o,s,l,f=e.tag,u=e.anchor,c={},h=Object.create(null),p=null,_=null,w=null,g=!1,m=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ce(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(y===63||y===58)&&Jt(n))y===63?(g&&(qi(e,c,h,p,_,null,o,s,l),p=_=w=null),m=!0,g=!0,i=!0):g?(g=!1,i=!0):ce(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(o=e.line,s=e.lineStart,l=e.position,!na(e,r,g0,!1,!0))break;if(e.line===a){for(y=e.input.charCodeAt(e.position);ri(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Jt(y)||ce(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(qi(e,c,h,p,_,null,o,s,l),p=_=w=null),m=!0,g=!1,i=!1,p=e.tag,_=e.result;else if(m)ce(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=u,!0}else if(m)ce(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(g&&(o=e.line,s=e.lineStart,l=e.position),na(e,t,ul,!0,i)&&(g?_=e.result:w=e.result),g||(qi(e,c,h,p,_,w,o,s,l),p=_=w=null),tt(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&y!==0)ce(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&qi(e,c,h,p,_,null,o,s,l),m&&(e.tag=f,e.anchor=u,e.kind="mapping",e.result=c),m}function yL(e){var t,r=!1,n=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&ce(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):ce(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Jt(o);)o===33&&(n?ce(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),_0.test(i)||ce(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),iL.test(a)&&ce(e,"tag suffix cannot contain flow indicator characters")}a&&!$0.test(a)&&ce(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{ce(e,"tag name is malformed: "+a)}return r?e.tag=a:Cn.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:ce(e,'undeclared tag handle "'+i+'"'),!0}function gL(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ce(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Jt(r)&&!xi(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ce(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function vL(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Jt(n)&&!xi(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ce(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Cn.call(e.anchorMap,r)||ce(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],tt(e,!0,-1),!0}function na(e,t,r,n,i){var a,o,s,l=1,f=!1,u=!1,c,h,p,_,w,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=ul===r||v0===r,n&&tt(e,!0,-1)&&(f=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;yL(e)||gL(e);)tt(e,!0,-1)?(f=!0,s=a,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):s=!1;if(s&&(s=f||i),(l===1||ul===r)&&(cl===r||g0===r?w=t:w=t+1,g=e.position-e.lineStart,l===1?s&&(nm(e,g)||mL(e,g,w))||hL(e,w)?u=!0:(o&&pL(e,w)||fL(e,w)||dL(e,w)?u=!0:vL(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ce(e,"alias node should not have any properties")):uL(e,w,cl===r)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=s&&nm(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ce(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,h=e.implicitTypes.length;c<h;c+=1)if(_=e.implicitTypes[c],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Cn.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,p=e.typeMap.multi[e.kind||"fallback"],c=0,h=p.length;c<h;c+=1)if(e.tag.slice(0,p[c].tag.length)===p[c].tag){_=p[c];break}_||ce(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&ce(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ce(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function _L(e){var t=e.position,r,n,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(tt(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&ce(e,"directive name must not be less than one character in length");o!==0;){for(;ri(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Mr(o));break}if(Mr(o))break;for(r=e.position;o!==0&&!Jt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&qd(e),Cn.call(tm,n)?tm[n](e,n,i):fl(e,'unknown document directive "'+n+'"')}if(tt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,tt(e,!0,-1)):a&&ce(e,"directives end mark is expected"),na(e,e.lineIndent-1,ul,!1,!0),tt(e,!0,-1),e.checkLineBreaks&&nL.test(e.input.slice(t,e.position))&&fl(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zl(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,tt(e,!0,-1));return}if(e.position<e.length-1)ce(e,"end of the stream or a document separator is expected");else return}function b0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new cL(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,ce(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)_L(r);return r.documents}function $L(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=b0(e,r);if(typeof t!="function")return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function wL(e,t){var r=b0(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new y0("expected a single document in the stream, but found more")}}Ud.loadAll=$L;Ud.load=wL;var T0={},Gl=Ir,Uo=jo,EL=xd,P0=Object.prototype.toString,O0=Object.prototype.hasOwnProperty,Bd=65279,SL=9,_o=10,bL=13,TL=32,PL=33,OL=34,Ou=35,AL=37,NL=38,CL=39,IL=42,A0=44,RL=45,dl=58,DL=61,FL=62,kL=63,LL=64,N0=91,C0=93,jL=96,I0=123,UL=124,R0=125,At={};At[0]="\\0";At[7]="\\a";At[8]="\\b";At[9]="\\t";At[10]="\\n";At[11]="\\v";At[12]="\\f";At[13]="\\r";At[27]="\\e";At[34]='\\"';At[92]="\\\\";At[133]="\\N";At[160]="\\_";At[8232]="\\L";At[8233]="\\P";var ML=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],xL=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qL(e,t){var r,n,i,a,o,s,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,a=n.length;i<a;i+=1)o=n[i],s=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&O0.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[o]=s;return r}function VL(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Uo("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Gl.repeat("0",n-t.length)+t}var BL=1,$o=2;function HL(e){this.schema=e.schema||EL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Gl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=qL(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?$o:BL,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function im(e,t){for(var r=Gl.repeat(" ",t),n=0,i=-1,a="",o,s=e.length;n<s;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=s):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(a+=r),a+=o;return a}function Au(e,t){return`
`+Gl.repeat(" ",e.indent*t)}function zL(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function hl(e){return e===TL||e===SL}function wo(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Bd||65536<=e&&e<=1114111}function am(e){return wo(e)&&e!==Bd&&e!==bL&&e!==_o}function om(e,t,r){var n=am(e),i=n&&!hl(e);return(r?n:n&&e!==A0&&e!==N0&&e!==C0&&e!==I0&&e!==R0)&&e!==Ou&&!(t===dl&&!i)||am(t)&&!hl(t)&&e===Ou||t===dl&&i}function GL(e){return wo(e)&&e!==Bd&&!hl(e)&&e!==RL&&e!==kL&&e!==dl&&e!==A0&&e!==N0&&e!==C0&&e!==I0&&e!==R0&&e!==Ou&&e!==NL&&e!==IL&&e!==PL&&e!==UL&&e!==DL&&e!==FL&&e!==CL&&e!==OL&&e!==AL&&e!==LL&&e!==jL}function KL(e){return!hl(e)&&e!==dl}function Ba(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function D0(e){var t=/^\n* /;return t.test(e)}var F0=1,Nu=2,k0=3,L0=4,ji=5;function YL(e,t,r,n,i,a,o,s){var l,f=0,u=null,c=!1,h=!1,p=n!==-1,_=-1,w=GL(Ba(e,0))&&KL(Ba(e,e.length-1));if(t||o)for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=Ba(e,l),!wo(f))return ji;w=w&&om(f,u,s),u=f}else{for(l=0;l<e.length;f>=65536?l+=2:l++){if(f=Ba(e,l),f===_o)c=!0,p&&(h=h||l-_-1>n&&e[_+1]!==" ",_=l);else if(!wo(f))return ji;w=w&&om(f,u,s),u=f}h=h||p&&l-_-1>n&&e[_+1]!==" "}return!c&&!h?w&&!o&&!i(e)?F0:a===$o?ji:Nu:r>9&&D0(e)?ji:o?a===$o?ji:Nu:h?L0:k0}function WL(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===$o?'""':"''";if(!e.noCompatMode&&(ML.indexOf(t)!==-1||xL.test(t)))return e.quotingType===$o?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),s=n||e.flowLevel>-1&&r>=e.flowLevel;function l(f){return zL(e,f)}switch(YL(t,s,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case F0:return t;case Nu:return"'"+t.replace(/'/g,"''")+"'";case k0:return"|"+sm(t,e.indent)+lm(im(t,a));case L0:return">"+sm(t,e.indent)+lm(im(JL(t,o),a));case ji:return'"'+XL(t)+'"';default:throw new Uo("impossible error: invalid scalar style")}}()}function sm(e,t){var r=D0(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),a=i?"+":n?"":"-";return r+a+`
`}function lm(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function JL(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,r.lastIndex=f,cm(e.slice(0,f),t)}(),i=e[0]===`
`||e[0]===" ",a,o;o=r.exec(e);){var s=o[1],l=o[2];a=l[0]===" ",n+=s+(!i&&!a&&l!==""?`
`:"")+cm(l,t),i=a}return n}function cm(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,a,o=0,s=0,l="";n=r.exec(e);)s=n.index,s-i>t&&(a=o>i?o:s,l+=`
`+e.slice(i,a),i=a+1),o=s;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function XL(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ba(e,i),n=At[r],!n&&wo(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||VL(r);return t}function QL(e,t,r){var n="",i=e.tag,a,o,s;for(a=0,o=r.length;a<o;a+=1)s=r[a],e.replacer&&(s=e.replacer.call(r,String(a),s)),(ln(e,t,s,!1,!1)||typeof s>"u"&&ln(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function um(e,t,r,n){var i="",a=e.tag,o,s,l;for(o=0,s=r.length;o<s;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(ln(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&ln(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Au(e,t)),e.dump&&_o===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function ZL(e,t,r){var n="",i=e.tag,a=Object.keys(r),o,s,l,f,u;for(o=0,s=a.length;o<s;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=a[o],f=r[l],e.replacer&&(f=e.replacer.call(r,l,f)),ln(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ln(e,t,f,!1,!1)&&(u+=e.dump,n+=u));e.tag=i,e.dump="{"+n+"}"}function ej(e,t,r,n){var i="",a=e.tag,o=Object.keys(r),s,l,f,u,c,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Uo("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)h="",(!n||i!=="")&&(h+=Au(e,t)),f=o[s],u=r[f],e.replacer&&(u=e.replacer.call(r,f,u)),ln(e,t+1,f,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&_o===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,c&&(h+=Au(e,t)),ln(e,t+1,u,!0,c)&&(e.dump&&_o===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=a,e.dump=i||"{}"}function fm(e,t,r){var n,i,a,o,s,l;for(i=r?e.explicitTypes:e.implicitTypes,a=0,o=i.length;a<o;a+=1)if(s=i[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,P0.call(s.represent)==="[object Function]")n=s.represent(t,l);else if(O0.call(s.represent,l))n=s.represent[l](t,l);else throw new Uo("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function ln(e,t,r,n,i,a,o){e.tag=null,e.dump=r,fm(e,r,!1)||fm(e,r,!0);var s=P0.call(e.dump),l=n,f;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=s==="[object Object]"||s==="[object Array]",c,h;if(u&&(c=e.duplicates.indexOf(r),h=c!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(u&&h&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),s==="[object Object]")n&&Object.keys(e.dump).length!==0?(ej(e,t,e.dump,i),h&&(e.dump="&ref_"+c+e.dump)):(ZL(e,t,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?um(e,t-1,e.dump,i):um(e,t,e.dump,i),h&&(e.dump="&ref_"+c+e.dump)):(QL(e,t,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&WL(e,e.dump,t,a,l);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Uo("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}function tj(e,t){var r=[],n=[],i,a;for(Cu(e,r,n),i=0,a=n.length;i<a;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(a)}function Cu(e,t,r){var n,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Cu(e[i],t,r);else for(n=Object.keys(e),i=0,a=n.length;i<a;i+=1)Cu(e[n[i]],t,r)}function rj(e,t){t=t||{};var r=new HL(t);r.noRefs||tj(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),ln(r,0,n,!0,!0)?r.dump+`
`:""}T0.dump=rj;var j0=Ud,nj=T0;function Hd(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}_t.Type=xt;_t.Schema=Xv;_t.FAILSAFE_SCHEMA=t0;_t.JSON_SCHEMA=s0;_t.CORE_SCHEMA=ll;_t.DEFAULT_SCHEMA=xd;_t.load=j0.load;_t.loadAll=j0.loadAll;_t.dump=nj.dump;_t.YAMLException=jo;_t.types={binary:d0,float:o0,map:e0,null:r0,pairs:p0,set:m0,timestamp:u0,bool:n0,int:i0,merge:f0,omap:h0,seq:Zv,str:Qv};_t.safeLoad=Hd("safeLoad","load");_t.safeLoadAll=Hd("safeLoadAll","loadAll");_t.safeDump=Hd("safeDump","dump");var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.Lazy=void 0;class ij{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}Kl.Lazy=ij;var ia={},pl={},aj={get exports(){return pl},set exports(e){pl=e}};(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,a=2,o=9007199254740991,s="[object Arguments]",l="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Function]",_="[object GeneratorFunction]",w="[object Map]",g="[object Number]",m="[object Null]",y="[object Object]",S="[object Promise]",O="[object Proxy]",j="[object RegExp]",P="[object Set]",E="[object String]",C="[object Symbol]",b="[object Undefined]",V="[object WeakMap]",q="[object ArrayBuffer]",k="[object DataView]",Q="[object Float32Array]",X="[object Float64Array]",Z="[object Int8Array]",ee="[object Int16Array]",Y="[object Int32Array]",z="[object Uint8Array]",G="[object Uint8ClampedArray]",R="[object Uint16Array]",A="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,$={};$[Q]=$[X]=$[Z]=$[ee]=$[Y]=$[z]=$[G]=$[R]=$[A]=!0,$[s]=$[l]=$[q]=$[u]=$[k]=$[c]=$[h]=$[p]=$[w]=$[g]=$[y]=$[j]=$[P]=$[E]=$[V]=!1;var F=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt,T=typeof self=="object"&&self&&self.Object===Object&&self,v=F||T||Function("return this")(),H=t&&!t.nodeType&&t,U=H&&!0&&e&&!e.nodeType&&e,re=U&&U.exports===H,he=re&&F.process,be=function(){try{return he&&he.binding&&he.binding("util")}catch{}}(),De=be&&be.isTypedArray;function Ke(D,B){for(var te=-1,ne=D==null?0:D.length,Ue=0,pe=[];++te<ne;){var Je=D[te];B(Je,te,D)&&(pe[Ue++]=Je)}return pe}function ke(D,B){for(var te=-1,ne=B.length,Ue=D.length;++te<ne;)D[Ue+te]=B[te];return D}function Ce(D,B){for(var te=-1,ne=D==null?0:D.length;++te<ne;)if(B(D[te],te,D))return!0;return!1}function Ye(D,B){for(var te=-1,ne=Array(D);++te<D;)ne[te]=B(te);return ne}function qt(D){return function(B){return D(B)}}function Nt(D,B){return D.has(B)}function Ct(D,B){return D==null?void 0:D[B]}function it(D){var B=-1,te=Array(D.size);return D.forEach(function(ne,Ue){te[++B]=[Ue,ne]}),te}function Ze(D,B){return function(te){return D(B(te))}}function ir(D){var B=-1,te=Array(D.size);return D.forEach(function(ne){te[++B]=ne}),te}var hr=Array.prototype,It=Function.prototype,Vt=Object.prototype,pr=v["__core-js_shared__"],ot=It.toString,et=Vt.hasOwnProperty,ma=function(){var D=/[^.]+$/.exec(pr&&pr.keys&&pr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),ya=Vt.toString,Fn=RegExp("^"+ot.call(et).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ga=re?v.Buffer:void 0,vi=v.Symbol,va=v.Uint8Array,Zt=Vt.propertyIsEnumerable,ac=hr.splice,Br=vi?vi.toStringTag:void 0,Vo=Object.getOwnPropertySymbols,oc=ga?ga.isBuffer:void 0,sc=Ze(Object.keys,Object),_a=Ei(v,"DataView"),ar=Ei(v,"Map"),$a=Ei(v,"Promise"),_i=Ei(v,"Set"),wa=Ei(v,"WeakMap"),Hr=Ei(Object,"create"),Bo=Ln(_a),lc=Ln(ar),Ho=Ln($a),cc=Ln(_i),zo=Ln(wa),M=vi?vi.prototype:void 0,I=M?M.valueOf:void 0;function x(D){var B=-1,te=D==null?0:D.length;for(this.clear();++B<te;){var ne=D[B];this.set(ne[0],ne[1])}}function W(){this.__data__=Hr?Hr(null):{},this.size=0}function K(D){var B=this.has(D)&&delete this.__data__[D];return this.size-=B?1:0,B}function ie(D){var B=this.__data__;if(Hr){var te=B[D];return te===n?void 0:te}return et.call(B,D)?B[D]:void 0}function se(D){var B=this.__data__;return Hr?B[D]!==void 0:et.call(B,D)}function $e(D,B){var te=this.__data__;return this.size+=this.has(D)?0:1,te[D]=Hr&&B===void 0?n:B,this}x.prototype.clear=W,x.prototype.delete=K,x.prototype.get=ie,x.prototype.has=se,x.prototype.set=$e;function we(D){var B=-1,te=D==null?0:D.length;for(this.clear();++B<te;){var ne=D[B];this.set(ne[0],ne[1])}}function qe(){this.__data__=[],this.size=0}function ye(D){var B=this.__data__,te=Kr(B,D);if(te<0)return!1;var ne=B.length-1;return te==ne?B.pop():ac.call(B,te,1),--this.size,!0}function Re(D){var B=this.__data__,te=Kr(B,D);return te<0?void 0:B[te][1]}function Ve(D){return Kr(this.__data__,D)>-1}function ue(D,B){var te=this.__data__,ne=Kr(te,D);return ne<0?(++this.size,te.push([D,B])):te[ne][1]=B,this}we.prototype.clear=qe,we.prototype.delete=ye,we.prototype.get=Re,we.prototype.has=Ve,we.prototype.set=ue;function Te(D){var B=-1,te=D==null?0:D.length;for(this.clear();++B<te;){var ne=D[B];this.set(ne[0],ne[1])}}function We(){this.size=0,this.__data__={hash:new x,map:new(ar||we),string:new x}}function Le(D){var B=Yo(this,D).delete(D);return this.size-=B?1:0,B}function Rr(D){return Yo(this,D).get(D)}function or(D){return Yo(this,D).has(D)}function sr(D,B){var te=Yo(this,D),ne=te.size;return te.set(D,B),this.size+=te.size==ne?0:1,this}Te.prototype.clear=We,Te.prototype.delete=Le,Te.prototype.get=Rr,Te.prototype.has=or,Te.prototype.set=sr;function mr(D){var B=-1,te=D==null?0:D.length;for(this.__data__=new Te;++B<te;)this.add(D[B])}function zr(D){return this.__data__.set(D,n),this}function Bt(D){return this.__data__.has(D)}mr.prototype.add=mr.prototype.push=zr,mr.prototype.has=Bt;function at(D){var B=this.__data__=new we(D);this.size=B.size}function Gr(){this.__data__=new we,this.size=0}function yr(D){var B=this.__data__,te=B.delete(D);return this.size=B.size,te}function kn(D){return this.__data__.get(D)}function Go(D){return this.__data__.has(D)}function Ko(D,B){var te=this.__data__;if(te instanceof we){var ne=te.__data__;if(!ar||ne.length<r-1)return ne.push([D,B]),this.size=++te.size,this;te=this.__data__=new Te(ne)}return te.set(D,B),this.size=te.size,this}at.prototype.clear=Gr,at.prototype.delete=yr,at.prototype.get=kn,at.prototype.has=Go,at.prototype.set=Ko;function $i(D,B){var te=Wo(D),ne=!te&&u_(D),Ue=!te&&!ne&&uc(D),pe=!te&&!ne&&!Ue&&eh(D),Je=te||ne||Ue||pe,st=Je?Ye(D.length,String):[],dt=st.length;for(var Be in D)(B||et.call(D,Be))&&!(Je&&(Be=="length"||Ue&&(Be=="offset"||Be=="parent")||pe&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||a_(Be,dt)))&&st.push(Be);return st}function Kr(D,B){for(var te=D.length;te--;)if(Jd(D[te][0],B))return te;return-1}function wi(D,B,te){var ne=B(D);return Wo(D)?ne:ke(ne,te(D))}function cn(D){return D==null?D===void 0?b:m:Br&&Br in Object(D)?n_(D):c_(D)}function Ea(D){return Sa(D)&&cn(D)==s}function un(D,B,te,ne,Ue){return D===B?!0:D==null||B==null||!Sa(D)&&!Sa(B)?D!==D&&B!==B:X0(D,B,te,ne,un,Ue)}function X0(D,B,te,ne,Ue,pe){var Je=Wo(D),st=Wo(B),dt=Je?l:fn(D),Be=st?l:fn(B);dt=dt==s?y:dt,Be=Be==s?y:Be;var er=dt==y,gr=Be==y,$t=dt==Be;if($t&&uc(D)){if(!uc(B))return!1;Je=!0,er=!1}if($t&&!er)return pe||(pe=new at),Je||eh(D)?Yd(D,B,te,ne,Ue,pe):t_(D,B,dt,te,ne,Ue,pe);if(!(te&i)){var lr=er&&et.call(D,"__wrapped__"),cr=gr&&et.call(B,"__wrapped__");if(lr||cr){var dn=lr?D.value():D,Yr=cr?B.value():B;return pe||(pe=new at),Ue(dn,Yr,te,ne,pe)}}return $t?(pe||(pe=new at),r_(D,B,te,ne,Ue,pe)):!1}function Q0(D){if(!Zd(D)||s_(D))return!1;var B=Xd(D)?Fn:N;return B.test(Ln(D))}function Z0(D){return Sa(D)&&Qd(D.length)&&!!$[cn(D)]}function e_(D){if(!l_(D))return sc(D);var B=[];for(var te in Object(D))et.call(D,te)&&te!="constructor"&&B.push(te);return B}function Yd(D,B,te,ne,Ue,pe){var Je=te&i,st=D.length,dt=B.length;if(st!=dt&&!(Je&&dt>st))return!1;var Be=pe.get(D);if(Be&&pe.get(B))return Be==B;var er=-1,gr=!0,$t=te&a?new mr:void 0;for(pe.set(D,B),pe.set(B,D);++er<st;){var lr=D[er],cr=B[er];if(ne)var dn=Je?ne(cr,lr,er,B,D,pe):ne(lr,cr,er,D,B,pe);if(dn!==void 0){if(dn)continue;gr=!1;break}if($t){if(!Ce(B,function(Yr,jn){if(!Nt($t,jn)&&(lr===Yr||Ue(lr,Yr,te,ne,pe)))return $t.push(jn)})){gr=!1;break}}else if(!(lr===cr||Ue(lr,cr,te,ne,pe))){gr=!1;break}}return pe.delete(D),pe.delete(B),gr}function t_(D,B,te,ne,Ue,pe,Je){switch(te){case k:if(D.byteLength!=B.byteLength||D.byteOffset!=B.byteOffset)return!1;D=D.buffer,B=B.buffer;case q:return!(D.byteLength!=B.byteLength||!pe(new va(D),new va(B)));case u:case c:case g:return Jd(+D,+B);case h:return D.name==B.name&&D.message==B.message;case j:case E:return D==B+"";case w:var st=it;case P:var dt=ne&i;if(st||(st=ir),D.size!=B.size&&!dt)return!1;var Be=Je.get(D);if(Be)return Be==B;ne|=a,Je.set(D,B);var er=Yd(st(D),st(B),ne,Ue,pe,Je);return Je.delete(D),er;case C:if(I)return I.call(D)==I.call(B)}return!1}function r_(D,B,te,ne,Ue,pe){var Je=te&i,st=Wd(D),dt=st.length,Be=Wd(B),er=Be.length;if(dt!=er&&!Je)return!1;for(var gr=dt;gr--;){var $t=st[gr];if(!(Je?$t in B:et.call(B,$t)))return!1}var lr=pe.get(D);if(lr&&pe.get(B))return lr==B;var cr=!0;pe.set(D,B),pe.set(B,D);for(var dn=Je;++gr<dt;){$t=st[gr];var Yr=D[$t],jn=B[$t];if(ne)var th=Je?ne(jn,Yr,$t,B,D,pe):ne(Yr,jn,$t,D,B,pe);if(!(th===void 0?Yr===jn||Ue(Yr,jn,te,ne,pe):th)){cr=!1;break}dn||(dn=$t=="constructor")}if(cr&&!dn){var Jo=D.constructor,Xo=B.constructor;Jo!=Xo&&"constructor"in D&&"constructor"in B&&!(typeof Jo=="function"&&Jo instanceof Jo&&typeof Xo=="function"&&Xo instanceof Xo)&&(cr=!1)}return pe.delete(D),pe.delete(B),cr}function Wd(D){return wi(D,h_,i_)}function Yo(D,B){var te=D.__data__;return o_(B)?te[typeof B=="string"?"string":"hash"]:te.map}function Ei(D,B){var te=Ct(D,B);return Q0(te)?te:void 0}function n_(D){var B=et.call(D,Br),te=D[Br];try{D[Br]=void 0;var ne=!0}catch{}var Ue=ya.call(D);return ne&&(B?D[Br]=te:delete D[Br]),Ue}var i_=Vo?function(D){return D==null?[]:(D=Object(D),Ke(Vo(D),function(B){return Zt.call(D,B)}))}:p_,fn=cn;(_a&&fn(new _a(new ArrayBuffer(1)))!=k||ar&&fn(new ar)!=w||$a&&fn($a.resolve())!=S||_i&&fn(new _i)!=P||wa&&fn(new wa)!=V)&&(fn=function(D){var B=cn(D),te=B==y?D.constructor:void 0,ne=te?Ln(te):"";if(ne)switch(ne){case Bo:return k;case lc:return w;case Ho:return S;case cc:return P;case zo:return V}return B});function a_(D,B){return B=B??o,!!B&&(typeof D=="number"||d.test(D))&&D>-1&&D%1==0&&D<B}function o_(D){var B=typeof D;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?D!=="__proto__":D===null}function s_(D){return!!ma&&ma in D}function l_(D){var B=D&&D.constructor,te=typeof B=="function"&&B.prototype||Vt;return D===te}function c_(D){return ya.call(D)}function Ln(D){if(D!=null){try{return ot.call(D)}catch{}try{return D+""}catch{}}return""}function Jd(D,B){return D===B||D!==D&&B!==B}var u_=Ea(function(){return arguments}())?Ea:function(D){return Sa(D)&&et.call(D,"callee")&&!Zt.call(D,"callee")},Wo=Array.isArray;function f_(D){return D!=null&&Qd(D.length)&&!Xd(D)}var uc=oc||m_;function d_(D,B){return un(D,B)}function Xd(D){if(!Zd(D))return!1;var B=cn(D);return B==p||B==_||B==f||B==O}function Qd(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=o}function Zd(D){var B=typeof D;return D!=null&&(B=="object"||B=="function")}function Sa(D){return D!=null&&typeof D=="object"}var eh=De?qt(De):Z0;function h_(D){return f_(D)?$i(D):e_(D)}function p_(){return[]}function m_(){return!1}e.exports=d_})(aj,pl);Object.defineProperty(ia,"__esModule",{value:!0});ia.createTempUpdateFile=ia.DownloadedUpdateHelper=void 0;const oj=sa,sj=Xt,dm=pl,zn=gi,no=Oe;class lj{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return no.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return dm(this.versionInfo,r)&&dm(this.fileInfo.info,n.info)&&await zn.pathExists(t)?t:null;const a=await this.getValidCachedUpdateFile(n,i);return a===null?null:(i.info(`Update has already been downloaded to ${t}).`),this._file=a,a)}async setDownloadedFile(t,r,n,i,a,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:a,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await zn.outputJson(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await zn.emptyDir(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){var n;const i=this.getUpdateInfoFile();if(!await zn.pathExists(i))return null;let o;try{o=await zn.readJson(i)}catch(u){let c="No cached update info available";return u.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),c+=` (error on read: ${u.message})`),r.info(c),null}if(!((n=(o==null?void 0:o.fileName)!==null)!==null&&n!==void 0?n:!1))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==o.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${o.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const l=no.join(this.cacheDirForPendingUpdate,o.fileName);if(!await zn.pathExists(l))return r.info("Cached update file doesn't exist"),null;const f=await cj(l);return t.info.sha512!==f?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${f}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=o,l)}getUpdateInfoFile(){return no.join(this.cacheDirForPendingUpdate,"update-info.json")}}ia.DownloadedUpdateHelper=lj;function cj(e,t="sha512",r="base64",n){return new Promise((i,a)=>{const o=oj.createHash(t);o.on("error",a).setEncoding(r),sj.createReadStream(e,{...n,highWaterMark:1024*1024}).on("error",a).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function uj(e,t,r){let n=0,i=no.join(t,e);for(let a=0;a<3;a++)try{return await zn.unlink(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${o}`),i=no.join(t,`${n++}-${e}`)}return i}ia.createTempUpdateFile=uj;var Yl={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.getAppCacheDir=void 0;const Gc=Oe,fj=di;function dj(){const e=fj.homedir();let t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||Gc.join(e,"AppData","Local"):process.platform==="darwin"?t=Gc.join(e,"Library","Application Support","Caches"):t=process.env.XDG_CACHE_HOME||Gc.join(e,".cache"),t}Wl.getAppCacheDir=dj;Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ElectronAppAdapter=void 0;const hm=Oe,hj=Wl;class pj{constructor(t=le.app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?hm.join(process.resourcesPath,"app-update.yml"):hm.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return hj.getAppCacheDir()}quit(){this.app.quit()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}}Yl.ElectronAppAdapter=pj;var U0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronHttpExecutor=e.getNetSession=e.NET_SESSION_NAME=void 0;const t=nt();e.NET_SESSION_NAME="electron-updater";function r(){return le.session.fromPartition(e.NET_SESSION_NAME,{cache:!1})}e.getNetSession=r;class n extends t.HttpExecutor{constructor(a){super(),this.proxyLoginCallback=a,this.cachedSession=null}async download(a,o,s){return await s.cancellationToken.createPromise((l,f,u)=>{const c={headers:s.headers||void 0,redirect:"manual"};t.configureRequestUrl(a,c),t.configureRequestOptions(c),this.doDownload(c,{destination:o,options:s,onCancel:u,callback:h=>{h==null?l(o):f(h)},responseHandler:null},0)})}createRequest(a,o){a.headers&&a.headers.Host&&(a.host=a.headers.Host,delete a.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const s=le.net.request({...a,session:this.cachedSession});return s.on("response",o),this.proxyLoginCallback!=null&&s.on("login",this.proxyLoginCallback),s}addRedirectHandlers(a,o,s,l,f){a.on("redirect",(u,c,h)=>{a.abort(),l>this.maxRedirects?s(this.createMaxRedirectError()):f(t.HttpExecutor.prepareRedirectUrlOptions(h,o))})}}e.ElectronHttpExecutor=n})(U0);var Mo={},Ot={},mj=1/0,yj="[object Symbol]",M0=/[\\^$.*+?()[\]{}|]/g,gj=RegExp(M0.source),vj=typeof Pt=="object"&&Pt&&Pt.Object===Object&&Pt,_j=typeof self=="object"&&self&&self.Object===Object&&self,$j=vj||_j||Function("return this")(),wj=Object.prototype,Ej=wj.toString,pm=$j.Symbol,mm=pm?pm.prototype:void 0,ym=mm?mm.toString:void 0;function Sj(e){if(typeof e=="string")return e;if(Tj(e))return ym?ym.call(e):"";var t=e+"";return t=="0"&&1/e==-mj?"-0":t}function bj(e){return!!e&&typeof e=="object"}function Tj(e){return typeof e=="symbol"||bj(e)&&Ej.call(e)==yj}function Pj(e){return e==null?"":Sj(e)}function Oj(e){return e=Pj(e),e&&gj.test(e)?e.replace(M0,"\\$&"):e}var Aj=Oj;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.blockmapFiles=Ot.getChannelFilename=Ot.newUrlFromBase=Ot.newBaseUrl=void 0;const x0=Rn,Nj=Aj;function Cj(e){const t=new x0.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}Ot.newBaseUrl=Cj;function Iu(e,t,r=!1){const n=new x0.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}Ot.newUrlFromBase=Iu;function Ij(e){return`${e}.yml`}Ot.getChannelFilename=Ij;function Rj(e,t,r){const n=Iu(`${e.pathname}.blockmap`,e);return[Iu(`${e.pathname.replace(new RegExp(Nj(r),"g"),t)}.blockmap`,e),n]}Ot.blockmapFiles=Rj;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.resolveFiles=rt.getFileList=rt.parseUpdateInfo=rt.findFile=rt.Provider=void 0;const In=nt(),Dj=_t,gm=Ot;class Fj{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":`-${t}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},In.configureRequestUrl(t,n),n}}rt.Provider=Fj;function kj(e,t,r){if(e.length===0)throw In.newError("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=e.find(i=>i.url.pathname.toLowerCase().endsWith(`.${t}`));return n??(r==null?e[0]:e.find(i=>!r.some(a=>i.url.pathname.toLowerCase().endsWith(`.${a}`))))}rt.findFile=kj;function Lj(e,t,r){if(e==null)throw In.newError(`Cannot parse update info from ${t} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=Dj.load(e)}catch(i){throw In.newError(`Cannot parse update info from ${t} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${e}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}rt.parseUpdateInfo=Lj;function q0(e){const t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw In.newError(`No files provided: ${In.safeStringifyJson(e)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}rt.getFileList=q0;function jj(e,t,r=n=>n){const i=q0(e).map(s=>{if(s.sha2==null&&s.sha512==null)throw In.newError(`Update info doesn't contain nor sha256 neither sha512 checksum: ${In.safeStringifyJson(s)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:gm.newUrlFromBase(r(s.url),t),info:s}}),a=e.packages,o=a==null?null:a[process.arch]||a.ia32;return o!=null&&(i[0].packageInfo={...o,path:gm.newUrlFromBase(r(o.path),t).href}),i}rt.resolveFiles=jj;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.GenericProvider=void 0;const vm=nt(),Kc=Ot,Yc=rt;class Uj extends Yc.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=Kc.newBaseUrl(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=Kc.getChannelFilename(this.channel),r=Kc.newUrlFromBase(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return Yc.parseUpdateInfo(await this.httpRequest(r),t,r)}catch(i){if(i instanceof vm.HttpError&&i.statusCode===404)throw vm.newError(`Cannot find channel "${t}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((a,o)=>{try{setTimeout(a,1e3*n)}catch(s){o(s)}});continue}throw i}}resolveFiles(t){return Yc.resolveFiles(t,this.baseUrl)}}Mo.GenericProvider=Uj;var aa={},Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.BitbucketProvider=void 0;const _m=nt(),Wc=Ot,Jc=rt;class Mj extends Jc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;const{owner:i,slug:a}=t;this.baseUrl=Wc.newBaseUrl(`https://api.bitbucket.org/2.0/repositories/${i}/${a}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const t=new _m.CancellationToken,r=Wc.getChannelFilename(this.getCustomChannelName(this.channel)),n=Wc.newUrlFromBase(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,t);return Jc.parseUpdateInfo(i,r,n)}catch(i){throw _m.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return Jc.resolveFiles(t,this.baseUrl)}toString(){const{owner:t,slug:r}=this.configuration;return`Bitbucket (owner: ${t}, slug: ${r}, channel: ${this.channel})`}}Jl.BitbucketProvider=Mj;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.computeReleaseNotes=on.GitHubProvider=on.BaseGitHubProvider=void 0;const Xr=nt(),io=Ad,xj=Rn,Vi=Ot,Ru=rt,Xc=/\/tag\/([^/]+)$/;class V0 extends Ru.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=Vi.newBaseUrl(Xr.githubUrl(t,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=Vi.newBaseUrl(Xr.githubUrl(t,i))}computeGithubBasePath(t){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${t}`:t}}on.BaseGitHubProvider=V0;class qj extends V0{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}async getLatestVersion(){var t,r,n,i;const a=new Xr.CancellationToken,o=await this.httpRequest(Vi.newUrlFromBase(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},a),s=Xr.parseXml(o);let l=s.element("entry",!1,"No published versions on GitHub"),f=null;try{if(this.updater.allowPrerelease){const w=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=io.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(w===null)f=Xc.exec(l.element("link").attribute("href"))[1];else for(const g of s.getElements("entry")){const m=Xc.exec(g.element("link").attribute("href"));if(m===null)continue;const y=m[1],S=((n=io.prerelease(y))===null||n===void 0?void 0:n[0])||null,O=!w||["alpha","beta"].includes(w),j=!["alpha","beta"].includes(String(S));if(O&&!j&&!(w==="beta"&&S==="alpha")){f=y;break}if(S&&S===w){f=y;break}}}else{f=await this.getLatestTagName(a);for(const w of s.getElements("entry"))if(Xc.exec(w.element("link").attribute("href"))[1]===f){l=w;break}}}catch(w){throw Xr.newError(`Cannot parse releases feed: ${w.stack||w.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(f==null)throw Xr.newError("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let u,c="",h="";const p=async w=>{c=Vi.getChannelFilename(w),h=Vi.newUrlFromBase(this.getBaseDownloadPath(String(f),c),this.baseUrl);const g=this.createRequestOptions(h);try{return await this.executor.request(g,a)}catch(m){throw m instanceof Xr.HttpError&&m.statusCode===404?Xr.newError(`Cannot find ${c} in the latest release artifacts (${h}): ${m.stack||m.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):m}};try{const w=this.updater.allowPrerelease?this.getCustomChannelName(String(((i=io.prerelease(f))===null||i===void 0?void 0:i[0])||"latest")):this.getDefaultChannelName();u=await p(w)}catch(w){if(this.updater.allowPrerelease)u=await p(this.getDefaultChannelName());else throw w}const _=Ru.parseUpdateInfo(u,c,h);return _.releaseName==null&&(_.releaseName=l.elementValueOrEmpty("title")),_.releaseNotes==null&&(_.releaseNotes=B0(this.updater.currentVersion,this.updater.fullChangelog,s,l)),{tag:f,..._}}async getLatestTagName(t){const r=this.options,n=r.host==null||r.host==="github.com"?Vi.newUrlFromBase(`${this.basePath}/latest`,this.baseUrl):new xj.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw Xr.newError(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return Ru.resolveFiles(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return`${this.basePath}/download/${t}/${r}`}}on.GitHubProvider=qj;function $m(e){const t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function B0(e,t,r,n){if(!t)return $m(n);const i=[];for(const a of r.getElements("entry")){const o=/\/tag\/v?([^/]+)$/.exec(a.element("link").attribute("href"))[1];io.lt(e,o)&&i.push({version:o,note:$m(a)})}return i.sort((a,o)=>io.rcompare(a.version,o.version))}on.computeReleaseNotes=B0;var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.KeygenProvider=void 0;const wm=nt(),Qc=Ot,Zc=rt;class Vj extends Zc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.baseUrl=Qc.newBaseUrl(`https://api.keygen.sh/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const t=new wm.CancellationToken,r=Qc.getChannelFilename(this.getCustomChannelName(this.channel)),n=Qc.newUrlFromBase(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return Zc.parseUpdateInfo(i,r,n)}catch(i){throw wm.newError(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return Zc.resolveFiles(t,this.baseUrl)}toString(){const{account:t,product:r,platform:n}=this.configuration;return`Keygen (account: ${t}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}Xl.KeygenProvider=Vj;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.PrivateGitHubProvider=void 0;const Ii=nt(),Bj=_t,Hj=Oe,Em=Rn,Sm=Ot,zj=on,Gj=rt;class Kj extends zj.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){const n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){const t=new Ii.CancellationToken,r=Sm.getChannelFilename(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(s=>s.name===r);if(i==null)throw Ii.newError(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const a=new Em.URL(i.url);let o;try{o=Bj.load(await this.httpRequest(a,this.configureHeaders("application/octet-stream"),t))}catch(s){throw s instanceof Ii.HttpError&&s.statusCode===404?Ii.newError(`Cannot find ${r} in the latest release artifacts (${a}): ${s.stack||s.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):s}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:`token ${this.token}`}}async getLatestVersionInfo(t){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=Sm.newUrlFromBase(n,this.baseUrl);try{const a=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?a.find(o=>o.prerelease)||a[0]:a}catch(a){throw Ii.newError(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${a.stack||a.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return Gj.getFileList(t).map(r=>{const n=Hj.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(a=>a!=null&&a.name===n);if(i==null)throw Ii.newError(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Em.URL(i.url),info:r}})}}Ql.PrivateGitHubProvider=Kj;Object.defineProperty(aa,"__esModule",{value:!0});aa.createClient=aa.isUrlProbablySupportMultiRangeRequests=void 0;const vs=nt(),Yj=Jl,bm=Mo,Wj=on,Jj=Xl,Xj=Ql;function H0(e){return!e.includes("s3.amazonaws.com")}aa.isUrlProbablySupportMultiRangeRequests=H0;function Qj(e,t,r){if(typeof e=="string")throw vs.newError("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=e.provider;switch(n){case"github":{const i=e,a=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return a==null?new Wj.GitHubProvider(i,t,r):new Xj.PrivateGitHubProvider(i,t,a,r)}case"bitbucket":return new Yj.BitbucketProvider(e,t,r);case"keygen":return new Jj.KeygenProvider(e,t,r);case"s3":case"spaces":return new bm.GenericProvider({provider:"generic",url:vs.getS3LikeProviderBaseUrl(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=e;return new bm.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&H0(i.url)})}case"custom":{const i=e,a=i.updateProvider;if(!a)throw vs.newError("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new a(i,t,r)}default:throw vs.newError(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}aa.createClient=Qj;var Tm;function zd(){if(Tm)return Hn;Tm=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.NoOpLogger=Hn.AppUpdater=void 0;const e=nt(),t=sa,r=gl,n=gi,i=_t,a=Kl,o=Oe,s=Ad,l=ia,f=Yl,u=U0,c=Mo,h=nc(),p=aa;let _=class z0 extends r.EventEmitter{constructor(y,S){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new h.UpdaterSignal(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new a.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new a.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",P=>{this._logger.error(`Error: ${P.stack||P.message}`)}),S==null?(this.app=new f.ElectronAppAdapter,this.httpExecutor=new u.ElectronHttpExecutor((P,E)=>this.emit("login",P,E))):(this.app=S,this.httpExecutor=null);const O=this.app.version,j=s.parse(O);if(j==null)throw e.newError(`App version is not a valid semver version: "${O}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=j,this.allowPrerelease=w(j),y!=null&&(this.setFeedURL(y),typeof y!="string"&&y.requestHeaders&&(this.requestHeaders=y.requestHeaders))}get channel(){return this._channel}set channel(y){if(this._channel!=null){if(typeof y!="string")throw e.newError(`Channel must be a string, but got: ${y}`,"ERR_UPDATER_INVALID_CHANNEL");if(y.length===0)throw e.newError("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=y,this.allowDowngrade=!0}addAuthHeader(y){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:y})}get netSession(){return u.getNetSession()}get logger(){return this._logger}set logger(y){this._logger=y??new g}set updateConfigPath(y){this.clientPromise=null,this._appUpdateConfigPath=y,this.configOnDisk=new a.Lazy(()=>this.loadUpdateConfig())}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(y){const S=this.createProviderRuntimeOptions();let O;typeof y=="string"?O=new c.GenericProvider({provider:"generic",url:y},this,{...S,isUseMultipleRangeRequest:p.isUrlProbablySupportMultiRangeRequests(y)}):O=p.createClient(y,this,S),this.clientPromise=Promise.resolve(O)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let y=this.checkForUpdatesPromise;if(y!=null)return this._logger.info("Checking for update (already in progress)"),y;const S=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),y=this.doCheckForUpdates().then(O=>(S(),O)).catch(O=>{throw S(),this.emit("error",O,`Cannot check for updates: ${(O.stack||O).toString()}`),O}),this.checkForUpdatesPromise=y,y}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(y){return this.checkForUpdates().then(S=>S!=null&&S.downloadPromise?(S.downloadPromise.then(()=>{const O=z0.formatDownloadNotification(S.updateInfo.version,this.app.name,y);new le.Notification(O).show()}),S):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),S))}static formatDownloadNotification(y,S,O){return O==null&&(O={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),O={title:O.title.replace("{appName}",S).replace("{version}",y),body:O.body.replace("{appName}",S).replace("{version}",y)},O}async isStagingMatch(y){const S=y.stagingPercentage;let O=S;if(O==null)return!0;if(O=parseInt(O,10),isNaN(O))return this._logger.warn(`Staging percentage is NaN: ${S}`),!0;O=O/100;const j=await this.stagingUserIdPromise.value,E=e.UUID.parse(j).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${O}, percentage: ${E}, user id: ${j}`),E<O}computeFinalHeaders(y){return this.requestHeaders!=null&&Object.assign(y,this.requestHeaders),y}async isUpdateAvailable(y){const S=s.parse(y.version);if(S==null)throw e.newError(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${y.version}"`,"ERR_UPDATER_INVALID_VERSION");const O=this.currentVersion;if(s.eq(S,O)||!await this.isStagingMatch(y))return!1;const P=s.gt(S,O),E=s.lt(S,O);return P?!0:this.allowDowngrade&&E}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(O=>p.createClient(O,this,this.createProviderRuntimeOptions())));const y=await this.clientPromise,S=await this.stagingUserIdPromise.value;return y.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":S})),{info:await y.getLatestVersion(),provider:y}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const y=await this.getUpdateInfoAndProvider(),S=y.info;if(!await this.isUpdateAvailable(S))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${S.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",S),{versionInfo:S,updateInfo:S};this.updateInfoAndProvider=y,this.onUpdateAvailable(S);const O=new e.CancellationToken;return{versionInfo:S,updateInfo:S,cancellationToken:O,downloadPromise:this.autoDownload?this.downloadUpdate(O):null}}onUpdateAvailable(y){this._logger.info(`Found version ${y.version} (url: ${e.asArray(y.files).map(S=>S.url).join(", ")})`),this.emit("update-available",y)}downloadUpdate(y=new e.CancellationToken){const S=this.updateInfoAndProvider;if(S==null){const j=new Error("Please check update first");return this.dispatchError(j),Promise.reject(j)}this._logger.info(`Downloading update from ${e.asArray(S.info.files).map(j=>j.url).join(", ")}`);const O=j=>{if(!(j instanceof e.CancellationError))try{this.dispatchError(j)}catch(P){this._logger.warn(`Cannot dispatch error event: ${P.stack||P}`)}return j};try{return this.doDownloadUpdate({updateInfoAndProvider:S,requestHeaders:this.computeRequestHeaders(S.provider),cancellationToken:y,disableWebInstaller:this.disableWebInstaller}).catch(j=>{throw O(j)})}catch(j){return Promise.reject(O(j))}}dispatchError(y){this.emit("error",y,(y.stack||y).toString())}dispatchUpdateDownloaded(y){this.emit(h.UPDATE_DOWNLOADED,y)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),i.load(await n.readFile(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(y){const S=y.fileExtraDownloadHeaders;if(S!=null){const O=this.requestHeaders;return O==null?S:{...S,...O}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const y=o.join(this.app.userDataPath,".updaterId");try{const O=await n.readFile(y,"utf-8");if(e.UUID.check(O))return O;this._logger.warn(`Staging user id file exists, but content was invalid: ${O}`)}catch(O){O.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${O}`)}const S=e.UUID.v5(t.randomBytes(4096),e.UUID.OID);this._logger.info(`Generated new staging user ID: ${S}`);try{await n.outputFile(y,S)}catch(O){this._logger.warn(`Couldn't write out staging user ID: ${O}`)}return S}get isAddNoCacheQuery(){const y=this.requestHeaders;if(y==null)return!0;for(const S of Object.keys(y)){const O=S.toLowerCase();if(O==="authorization"||O==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let y=this.downloadedUpdateHelper;if(y==null){const S=(await this.configOnDisk.value).updaterCacheDirName,O=this._logger;S==null&&O.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const j=o.join(this.app.baseCachePath,S||this.app.name);O.debug!=null&&O.debug(`updater cache dir: ${j}`),y=new l.DownloadedUpdateHelper(j),this.downloadedUpdateHelper=y}return y}async executeDownload(y){const S=y.fileInfo,O={headers:y.downloadUpdateOptions.requestHeaders,cancellationToken:y.downloadUpdateOptions.cancellationToken,sha2:S.info.sha2,sha512:S.info.sha512};this.listenerCount(h.DOWNLOAD_PROGRESS)>0&&(O.onProgress=G=>this.emit(h.DOWNLOAD_PROGRESS,G));const j=y.downloadUpdateOptions.updateInfoAndProvider.info,P=j.version,E=S.packageInfo;function C(){const G=decodeURIComponent(y.fileInfo.url.pathname);return G.endsWith(`.${y.fileExtension}`)?o.basename(G):`update.${y.fileExtension}`}const b=await this.getOrCreateDownloadHelper(),V=b.cacheDirForPendingUpdate;await n.mkdir(V,{recursive:!0});const q=C();let k=o.join(V,q);const Q=E==null?null:o.join(V,`package-${P}${o.extname(E.path)||".7z"}`),X=async G=>(await b.setDownloadedFile(k,Q,j,S,q,G),await y.done({...j,downloadedFile:k}),Q==null?[k]:[k,Q]),Z=this._logger,ee=await b.validateDownloadedPath(k,j,S,Z);if(ee!=null)return k=ee,await X(!1);const Y=async()=>(await b.clear().catch(()=>{}),await n.unlink(k).catch(()=>{})),z=await l.createTempUpdateFile(`temp-${q}`,V,Z);try{await y.task(z,O,Q,Y),await n.rename(z,k)}catch(G){throw await Y(),G instanceof e.CancellationError&&(Z.info("cancelled"),this.emit("update-cancelled",j)),G}return Z.info(`New version ${P} has been downloaded to ${k}`),await X(!0)}};Hn.AppUpdater=_;function w(m){const y=s.prerelease(m);return y!=null&&y.length>0}class g{info(y){}warn(y){}error(y){}}return Hn.NoOpLogger=g,Hn}var ka={},La={},Pm;function G0(){if(Pm)return La;Pm=1,Object.defineProperty(La,"__esModule",{value:!0}),La.BaseUpdater=void 0;const e=zd();let t=class extends e.AppUpdater{constructor(n,i){super(n,i),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(n=!1,i=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(n,n?i:this.autoRunAppAfterInstall)?setImmediate(()=>{le.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(n){return super.executeDownload({...n,done:i=>(this.dispatchUpdateDownloaded(i),this.addQuitHandler(),Promise.resolve())})}install(n,i){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const a=this.downloadedUpdateHelper,o=a==null?null:a.file,s=a==null?null:a.downloadedFileInfo;if(o==null||s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${n}, isForceRunAfter: ${i}`),this.doInstall({installerPath:o,isSilent:n,isForceRunAfter:i,isAdminRightsRequired:s.isAdminRightsRequired})}catch(l){return this.dispatchError(l),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(n=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(n!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${n}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}};return La.BaseUpdater=t,La}var xo={},qo={},fi={},Zl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.computeOperations=e.OperationKind=void 0;var t;(function(s){s[s.COPY=0]="COPY",s[s.DOWNLOAD=1]="DOWNLOAD"})(t=e.OperationKind||(e.OperationKind={}));function r(s,l,f){const u=o(s.files),c=o(l.files);let h=null;const p=l.files[0],_=[],w=p.name,g=u.get(w);if(g==null)throw new Error(`no file ${w} in old blockmap`);const m=c.get(w);let y=0;const{checksumToOffset:S,checksumToOldSize:O}=a(u.get(w),g.offset,f);let j=p.offset;for(let P=0;P<m.checksums.length;j+=m.sizes[P],P++){const E=m.sizes[P],C=m.checksums[P];let b=S.get(C);b!=null&&O.get(C)!==E&&(f.warn(`Checksum ("${C}") matches, but size differs (old: ${O.get(C)}, new: ${E})`),b=void 0),b===void 0?(y++,h!=null&&h.kind===t.DOWNLOAD&&h.end===j?h.end+=E:(h={kind:t.DOWNLOAD,start:j,end:j+E},i(h,_,C,P))):h!=null&&h.kind===t.COPY&&h.end===b?h.end+=E:(h={kind:t.COPY,start:b,end:b+E},i(h,_,C,P))}return y>0&&f.info(`File${p.name==="file"?"":" "+p.name} has ${y} changed blocks`),_}e.computeOperations=r;const n=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function i(s,l,f,u){if(n&&l.length!==0){const c=l[l.length-1];if(c.kind===s.kind&&s.start<c.end&&s.start>c.start){const h=[c.start,c.end,s.start,s.end].reduce((p,_)=>p<_?p:_);throw new Error(`operation (block index: ${u}, checksum: ${f}, kind: ${t[s.kind]}) overlaps previous operation (checksum: ${f}):
abs: ${c.start} until ${c.end} and ${s.start} until ${s.end}
rel: ${c.start-h} until ${c.end-h} and ${s.start-h} until ${s.end-h}`)}}l.push(s)}function a(s,l,f){const u=new Map,c=new Map;let h=l;for(let p=0;p<s.checksums.length;p++){const _=s.checksums[p],w=s.sizes[p],g=c.get(_);if(g===void 0)u.set(_,h),c.set(_,w);else if(f.debug!=null){const m=g===w?"(same size)":`(size: ${g}, this size: ${w})`;f.debug(`${_} duplicated in blockmap ${m}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}h+=w}return{checksumToOffset:u,checksumToOldSize:c}}function o(s){const l=new Map;for(const f of s)l.set(f.name,f);return l}})(Zl);Object.defineProperty(fi,"__esModule",{value:!0});fi.DataSplitter=fi.copyData=void 0;const _s=nt(),Zj=Xt,eU=Eo,tU=Zl,Om=Buffer.from(`\r
\r
`);var vn;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(vn||(vn={}));function K0(e,t,r,n,i){const a=Zj.createReadStream("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});a.on("error",n),a.once("end",i),a.pipe(t,{end:!1})}fi.copyData=K0;class rU extends eU.Writable{constructor(t,r,n,i,a,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=a,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=vn.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${t.length} bytes`);return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw _s.newError("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===vn.HEADER){const n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=vn.BODY,this.headerListBuffer=null}for(;;){if(this.readState===vn.BODY)this.readState=vn.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw _s.newError("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const s=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(s<o)await this.copyExistingData(s,o);else if(s>o)throw _s.newError("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=vn.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,a=Math.min(i,t.length);if(await this.processPartStarted(t,r,a),this.remainingPartDataCount=n-(a-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{const a=()=>{if(t===r){n();return}const o=this.options.tasks[t];if(o.kind!==tU.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}K0(o,this.out,this.options.oldFileFd,i,()=>{t++,a()})};a()})}searchHeaderListEnd(t,r){const n=t.indexOf(Om,r);if(n!==-1)return n+Om.length;const i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw _s.newError(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((a,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),a()})})}}fi.DataSplitter=rU;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.checkIsRangesSupported=oa.executeTasksUsingMultipleRangeRequests=void 0;const Du=nt(),Am=fi,Nm=Zl;function nU(e,t,r,n,i){const a=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}const s=o+1e3;iU(e,{tasks:t,start:o,end:Math.min(t.length,s),oldFileFd:n},r,()=>a(s),i)};return a}oa.executeTasksUsingMultipleRangeRequests=nU;function iU(e,t,r,n,i){let a="bytes=",o=0;const s=new Map,l=[];for(let c=t.start;c<t.end;c++){const h=t.tasks[c];h.kind===Nm.OperationKind.DOWNLOAD&&(a+=`${h.start}-${h.end-1}, `,s.set(o,c),o++,l.push(h.end-h.start))}if(o<=1){const c=h=>{if(h>=t.end){n();return}const p=t.tasks[h++];if(p.kind===Nm.OperationKind.COPY)Am.copyData(p,r,t.oldFileFd,i,()=>c(h));else{const _=e.createRequestOptions();_.headers.Range=`bytes=${p.start}-${p.end-1}`;const w=e.httpExecutor.createRequest(_,g=>{Fu(g,i)&&(g.pipe(r,{end:!1}),g.once("end",()=>c(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(w,i),w.end()}};c(t.start);return}const f=e.createRequestOptions();f.headers.Range=a.substring(0,a.length-2);const u=e.httpExecutor.createRequest(f,c=>{if(!Fu(c,i))return;const h=Du.safeGetHeader(c,"content-type"),p=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(p==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${h}"`));return}const _=new Am.DataSplitter(r,t,s,p[1]||p[2],l,n);_.on("error",i),c.pipe(_),c.on("end",()=>{setTimeout(()=>{u.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(u,i),u.end()}function Fu(e,t){if(e.statusCode>=400)return t(Du.createHttpError(e)),!1;if(e.statusCode!==206){const r=Du.safeGetHeader(e,"accept-ranges");if(r==null||r==="none")return t(new Error(`Server doesn't support Accept-Ranges (response code ${e.statusCode})`)),!1}return!0}oa.checkIsRangesSupported=Fu;var ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.ProgressDifferentialDownloadCallbackTransform=void 0;const aU=Eo;var Bi;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Bi||(Bi={}));class oU extends aU.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=Bi.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==Bi.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=Bi.COPY}beginRangeDownload(){this.operationType=Bi.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}}ec.ProgressDifferentialDownloadCallbackTransform=oU;Object.defineProperty(qo,"__esModule",{value:!0});qo.DifferentialDownloader=void 0;const ja=nt(),eu=gi,sU=Xt,lU=fi,cU=Rn,$s=Zl,Cm=oa,uU=ec;class fU{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return ja.configureRequestUrl(this.options.newUrl,t),ja.configureRequestOptions(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error(`version is different (${t.version} - ${r.version}), full download is required`);const n=this.logger,i=$s.computeOperations(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let a=0,o=0;for(const l of i){const f=l.end-l.start;l.kind===$s.OperationKind.DOWNLOAD?a+=f:o+=f}const s=this.blockAwareFileInfo.size;if(a+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==s)throw new Error(`Internal error, size mismatch: downloadSize: ${a}, copySize: ${o}, newSize: ${s}`);return n.info(`Full: ${Im(s)}, To download: ${Im(a)} (${Math.round(a/(s/100))}%)`),this.downloadFile(i)}downloadFile(t){const r=[],n=()=>Promise.all(r.map(i=>eu.close(i.descriptor).catch(a=>{this.logger.error(`cannot close file "${i.path}": ${a}`)})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(a=>{try{this.logger.error(`cannot close files: ${a}`)}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){const n=await eu.open(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await eu.open(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const a=sU.createWriteStream(this.options.newFile,{fd:i});await new Promise((o,s)=>{const l=[];let f;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const m=[];let y=0;for(const O of t)O.kind===$s.OperationKind.DOWNLOAD&&(m.push(O.end-O.start),y+=O.end-O.start);const S={expectedByteCounts:m,grandTotal:y};f=new uU.ProgressDifferentialDownloadCallbackTransform(S,this.options.cancellationToken,this.options.onProgress),l.push(f)}const u=new ja.DigestTransform(this.blockAwareFileInfo.sha512);u.isValidateOnEnd=!1,l.push(u),a.on("finish",()=>{a.close(()=>{r.splice(1,1);try{u.validate()}catch(m){s(m);return}o(void 0)})}),l.push(a);let c=null;for(const m of l)m.on("error",s),c==null?c=m:c=c.pipe(m);const h=l[0];let p;if(this.options.isUseMultipleRangeRequest){p=Cm.executeTasksUsingMultipleRangeRequests(this,t,h,n,s),p(0);return}let _=0,w=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const g=this.createRequestOptions();g.redirect="manual",p=m=>{var y,S;if(m>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}const O=t[m++];if(O.kind===$s.OperationKind.COPY){f&&f.beginFileCopy(),lU.copyData(O,h,n,s,()=>p(m));return}const j=`bytes=${O.start}-${O.end-1}`;g.headers.range=j,(S=(y=this.logger)===null||y===void 0?void 0:y.debug)===null||S===void 0||S.call(y,`download range: ${j}`),f&&f.beginRangeDownload();const P=this.httpExecutor.createRequest(g,E=>{E.statusCode>=400&&s(ja.createHttpError(E)),E.pipe(h,{end:!1}),E.once("end",()=>{f&&f.endRangeDownload(),++_===100?(_=0,setTimeout(()=>p(m),1e3)):p(m)})});P.on("redirect",(E,C,b)=>{this.logger.info(`Redirect to ${dU(b)}`),w=b,ja.configureRequestUrl(new cU.URL(w),g),P.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(P,s),P.end()},p(0)})}async readRemoteBytes(t,r){const n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range=`bytes=${t}-${r}`;let a=0;if(await this.request(i,o=>{o.copy(n,a),a+=o.length}),a!==n.length)throw new Error(`Received data length ${a} is not equal to expected ${n.length}`);return n}request(t,r){return new Promise((n,i)=>{const a=this.httpExecutor.createRequest(t,o=>{Cm.checkIsRangesSupported(o,i)&&(o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(a,i),a.end()})}}qo.DifferentialDownloader=fU;function Im(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function dU(e){const t=e.indexOf("?");return t<0?e:e.substring(0,t)}Object.defineProperty(xo,"__esModule",{value:!0});xo.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Ri=gi,hU=qo,pU=Hm;class mU extends hU.DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=Y0(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await yU(this.options.oldFile),i)}}xo.FileWithEmbeddedBlockMapDifferentialDownloader=mU;function Y0(e){return JSON.parse(pU.inflateRawSync(e).toString())}async function yU(e){const t=await Ri.open(e,"r");try{const r=(await Ri.fstat(t)).size,n=Buffer.allocUnsafe(4);await Ri.read(t,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await Ri.read(t,i,0,i.length,r-n.length-i.length),await Ri.close(t),Y0(i)}catch(r){throw await Ri.close(t),r}}var Rm;function Dm(){if(Rm)return ka;Rm=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.AppImageUpdater=void 0;const e=nt(),t=vl,r=gi,n=Xt,i=Oe,a=G0(),o=xo,s=nc(),l=rt;let f=class extends a.BaseUpdater{constructor(c,h){super(c,h)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(c){const h=c.updateInfoAndProvider.provider,p=l.findFile(h.resolveFiles(c.updateInfoAndProvider.info),"AppImage");return this.executeDownload({fileExtension:"AppImage",fileInfo:p,downloadUpdateOptions:c,task:async(_,w)=>{const g=process.env.APPIMAGE;if(g==null)throw e.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let m=!1;try{const y={newUrl:p.url,oldFile:g,logger:this._logger,newFile:_,isUseMultipleRangeRequest:h.isUseMultipleRangeRequest,requestHeaders:c.requestHeaders,cancellationToken:c.cancellationToken};this.listenerCount(s.DOWNLOAD_PROGRESS)>0&&(y.onProgress=S=>this.emit(s.DOWNLOAD_PROGRESS,S)),await new o.FileWithEmbeddedBlockMapDifferentialDownloader(p.info,this.httpExecutor,y).download()}catch(y){this._logger.error(`Cannot download differentially, fallback to full download: ${y.stack||y}`),m=process.platform==="linux"}m&&await this.httpExecutor.download(p.url,_,w),await r.chmod(_,493)}})}doInstall(c){const h=process.env.APPIMAGE;if(h==null)throw e.newError("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");n.unlinkSync(h);let p;const _=i.basename(h);i.basename(c.installerPath)===_||!/\d+\.\d+\.\d+/.test(_)?p=h:p=i.join(i.dirname(h),i.basename(c.installerPath)),t.execFileSync("mv",["-f",c.installerPath,p]),p!==h&&this.emit("appimage-filename-updated",p);const w={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return c.isForceRunAfter?t.spawn(p,[],{detached:!0,stdio:"ignore",env:w}).unref():(w.APPIMAGE_EXIT_AFTER_INSTALL="true",t.execFileSync(p,[],{env:w})),!0}};return ka.AppImageUpdater=f,ka}var Ua={},Fm;function km(){if(Fm)return Ua;Fm=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.MacUpdater=void 0;const e=nt(),t=gi,r=Xt,n=Bm,i=zd(),a=rt,o=vl,s=sa;let l=class extends i.AppUpdater{constructor(u,c){super(u,c),this.nativeUpdater=le.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",h=>{this._logger.warn(h),this.emit("error",h)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}debug(u){this._logger.debug!=null&&this._logger.debug(u)}async doDownloadUpdate(u){let c=u.updateInfoAndProvider.provider.resolveFiles(u.updateInfoAndProvider.info);const h=this._logger,p="sysctl.proc_translated";let _=!1;try{this.debug("Checking for macOS Rosetta environment"),_=o.execFileSync("sysctl",[p],{encoding:"utf8"}).includes(`${p}: 1`),h.info(`Checked for macOS Rosetta environment (isRosetta=${_})`)}catch(y){h.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${y}`)}let w=!1;try{this.debug("Checking for arm64 in uname");const S=o.execFileSync("uname",["-a"],{encoding:"utf8"}).includes("ARM");h.info(`Checked 'uname -a': arm64=${S}`),w=w||S}catch(y){h.warn(`uname shell command to check for arm64 failed: ${y}`)}w=w||process.arch==="arm64"||_;const g=y=>{var S;return y.url.pathname.includes("arm64")||((S=y.info.url)===null||S===void 0?void 0:S.includes("arm64"))};w&&c.some(g)?c=c.filter(y=>w===g(y)):c=c.filter(y=>!g(y));const m=a.findFile(c,"zip",["pkg","dmg"]);if(m==null)throw e.newError(`ZIP file not provided: ${e.safeStringifyJson(c)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");return this.executeDownload({fileExtension:"zip",fileInfo:m,downloadUpdateOptions:u,task:(y,S)=>this.httpExecutor.download(m.url,y,S),done:y=>this.updateDownloaded(m,y)})}async updateDownloaded(u,c){var h,p;const _=c.downloadedFile,w=(h=u.info.size)!==null&&h!==void 0?h:(await t.stat(_)).size,g=this._logger,m=`fileToProxy=${u.url.href}`;this.debug(`Creating proxy server for native Squirrel.Mac (${m})`),(p=this.server)===null||p===void 0||p.close(),this.server=n.createServer(),this.debug(`Proxy server for native Squirrel.Mac is created (${m})`),this.server.on("close",()=>{g.info(`Proxy server for native Squirrel.Mac is closed (${m})`)});const y=S=>{const O=S.address();return typeof O=="string"?O:`http://127.0.0.1:${O==null?void 0:O.port}`};return await new Promise((S,O)=>{const j=s.randomBytes(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),P=Buffer.from(`autoupdater:${j}`,"ascii"),E=`/${s.randomBytes(64).toString("hex")}.zip`;this.server.on("request",(C,b)=>{const V=C.url;if(g.info(`${V} requested`),V==="/"){if(!C.headers.authorization||C.headers.authorization.indexOf("Basic ")===-1){b.statusCode=401,b.statusMessage="Invalid Authentication Credentials",b.end(),g.warn("No authenthication info");return}const Q=C.headers.authorization.split(" ")[1],X=Buffer.from(Q,"base64").toString("ascii"),[Z,ee]=X.split(":");if(Z!=="autoupdater"||ee!==j){b.statusCode=401,b.statusMessage="Invalid Authentication Credentials",b.end(),g.warn("Invalid authenthication credentials");return}const Y=Buffer.from(`{ "url": "${y(this.server)}${E}" }`);b.writeHead(200,{"Content-Type":"application/json","Content-Length":Y.length}),b.end(Y);return}if(!V.startsWith(E)){g.warn(`${V} requested, but not supported`),b.writeHead(404),b.end();return}g.info(`${E} requested by Squirrel.Mac, pipe ${_}`);let q=!1;b.on("finish",()=>{q||(this.nativeUpdater.removeListener("error",O),S([]))});const k=r.createReadStream(_);k.on("error",Q=>{try{b.end()}catch(X){g.warn(`cannot end response: ${X}`)}q=!0,this.nativeUpdater.removeListener("error",O),O(new Error(`Cannot pipe "${_}": ${Q}`))}),b.writeHead(200,{"Content-Type":"application/zip","Content-Length":w}),k.pipe(b)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${m})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${y(this.server)}, ${m})`),this.nativeUpdater.setFeedURL({url:y(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${P.toString("base64")}`}}),this.dispatchUpdateDownloaded(c),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",O),this.nativeUpdater.checkForUpdates()):S([])})})}quitAndInstall(){var u;this.squirrelDownloadedUpdate?(this.nativeUpdater.quitAndInstall(),(u=this.server)===null||u===void 0||u.close()):(this.nativeUpdater.on("update-downloaded",()=>{var c;this.nativeUpdater.quitAndInstall(),(c=this.server)===null||c===void 0||c.close()}),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};return Ua.MacUpdater=l,Ua}var Ma={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.GenericDifferentialDownloader=void 0;const gU=qo;class vU extends gU.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}}tc.GenericDifferentialDownloader=vU;var rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.verifySignature=void 0;const Lm=nt(),W0=vl,_U=di;function $U(e,t,r){return new Promise(n=>{const i=t.replace(/'/g,"''");W0.execFile("powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`Get-AuthenticodeSignature -LiteralPath '${i}' | ConvertTo-Json -Compress | ForEach-Object { [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($_)) }`],{timeout:20*1e3},(a,o,s)=>{try{if(a!=null||s){jm(r,a,s),n(null);return}const l=wU(Buffer.from(o,"base64").toString("utf-8"));if(l.Status===0){const u=Lm.parseDn(l.SignerCertificate.Subject);let c=!1;for(const h of e){const p=Lm.parseDn(h);if(p.size?c=Array.from(p.keys()).every(w=>p.get(w)===u.get(w)):h===u.get("CN")&&(r.warn(`Signature validated using only CN ${h}. Please add your full Distinguished Name (DN) to publisherNames configuration`),c=!0),c){n(null);return}}}const f=`publisherNames: ${e.join(" | ")}, raw info: `+JSON.stringify(l,(u,c)=>u==="RawData"?void 0:c,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${f}`),n(f)}catch(l){jm(r,l,null),n(null);return}})})}rc.verifySignature=$U;function wU(e){const t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;const r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),delete t.Path,t}function jm(e,t,r){if(EU()){e.warn(`Cannot execute Get-AuthenticodeSignature: ${t||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{W0.execFileSync("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(n){e.warn(`Cannot execute ConvertTo-Json: ${n.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}if(t!=null)throw t;if(r)throw new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`)}function EU(){const e=_U.release();return e.startsWith("6.")&&!e.startsWith("6.3")}var Um;function Mm(){if(Um)return Ma;Um=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.NsisUpdater=void 0;const e=nt(),t=vl,r=Oe,n=G0(),i=xo,a=tc,o=nc(),s=Ot,l=rt,f=gi,u=rc,c=Rn,h=Hm;let p=class extends n.BaseUpdater{constructor(g,m){super(g,m)}doDownloadUpdate(g){const m=g.updateInfoAndProvider.provider,y=l.findFile(m.resolveFiles(g.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:g,fileInfo:y,task:async(S,O,j,P)=>{const E=y.packageInfo,C=E!=null&&j!=null;if(C&&g.disableWebInstaller)throw e.newError(`Unable to download new version ${g.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!C&&!g.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(C||await this.differentialDownloadInstaller(y,g,S,m))&&await this.httpExecutor.download(y.url,S,O);const b=await this.verifySignature(S);if(b!=null)throw await P(),e.newError(`New version ${g.updateInfoAndProvider.info.version} is not signed by the application owner: ${b}`,"ERR_UPDATER_INVALID_SIGNATURE");if(C&&await this.differentialDownloadWebPackage(g,E,j,m))try{await this.httpExecutor.download(new c.URL(E.path),j,{headers:g.requestHeaders,cancellationToken:g.cancellationToken,sha512:E.sha512})}catch(V){try{await f.unlink(j)}catch{}throw V}}})}async verifySignature(g){let m;try{if(m=(await this.configOnDisk.value).publisherName,m==null)return null}catch(y){if(y.code==="ENOENT")return null;throw y}return await u.verifySignature(Array.isArray(m)?m:[m],g,this._logger)}doInstall(g){const m=["--updated"];g.isSilent&&m.push("/S"),g.isForceRunAfter&&m.push("--force-run"),this.installDirectory&&m.push(`/D=${this.installDirectory}`);const y=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;y!=null&&m.push(`--package-file=${y}`);const S=()=>{_(r.join(process.resourcesPath,"elevate.exe"),[g.installerPath].concat(m)).catch(O=>this.dispatchError(O))};return g.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),S(),!0):(_(g.installerPath,m).catch(O=>{const j=O.code;this._logger.info(`Cannot run installer: error code: ${j}, error message: "${O.message}", will be executed again using elevate if EACCES"`),j==="UNKNOWN"||j==="EACCES"?S():this.dispatchError(O)}),!0)}async differentialDownloadInstaller(g,m,y,S){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const O=s.blockmapFiles(g.url,this.app.version,m.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${O[0]}", new: ${O[1]})`);const j=async C=>{const b=await this.httpExecutor.downloadToBuffer(C,{headers:m.requestHeaders,cancellationToken:m.cancellationToken});if(b==null||b.length===0)throw new Error(`Blockmap "${C.href}" is empty`);try{return JSON.parse(h.gunzipSync(b).toString())}catch(V){throw new Error(`Cannot parse blockmap "${C.href}", error: ${V}`)}},P={newUrl:g.url,oldFile:r.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:y,isUseMultipleRangeRequest:S.isUseMultipleRangeRequest,requestHeaders:m.requestHeaders,cancellationToken:m.cancellationToken};this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(P.onProgress=C=>this.emit(o.DOWNLOAD_PROGRESS,C));const E=await Promise.all(O.map(C=>j(C)));return await new a.GenericDifferentialDownloader(g.info,this.httpExecutor,P).download(E[0],E[1]),!1}catch(O){if(this._logger.error(`Cannot download differentially, fallback to full download: ${O.stack||O}`),this._testOnlyOptions!=null)throw O;return!0}}async differentialDownloadWebPackage(g,m,y,S){if(m.blockMapSize==null)return!0;try{const O={newUrl:new c.URL(m.path),oldFile:r.join(this.downloadedUpdateHelper.cacheDir,e.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:y,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:S.isUseMultipleRangeRequest,cancellationToken:g.cancellationToken};this.listenerCount(o.DOWNLOAD_PROGRESS)>0&&(O.onProgress=j=>this.emit(o.DOWNLOAD_PROGRESS,j)),await new i.FileWithEmbeddedBlockMapDifferentialDownloader(m,this.httpExecutor,O).download()}catch(O){return this._logger.error(`Cannot download differentially, fallback to full download: ${O.stack||O}`),process.platform==="win32"}return!1}};Ma.NsisUpdater=p;async function _(w,g){return new Promise((m,y)=>{try{const S=t.spawn(w,g,{detached:!0,stdio:"ignore"});S.on("error",O=>{y(O)}),S.unref(),S.pid!==void 0&&m(!0)}catch(S){y(S)}})}return Ma}var xm;function nc(){return xm||(xm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=e.NsisUpdater=e.MacUpdater=e.AppImageUpdater=e.Provider=e.CancellationToken=e.NoOpLogger=e.AppUpdater=void 0;const t=nt();Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return t.CancellationToken}});var r=zd();Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return r.AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return r.NoOpLogger}});var n=rt;Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}});var i=Dm();Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return i.AppImageUpdater}});var a=km();Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return a.MacUpdater}});var o=Mm();Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return o.NsisUpdater}});let s;function l(){return process.platform==="win32"?s=new(Mm()).NsisUpdater:process.platform==="darwin"?s=new(km()).MacUpdater:s=new(Dm()).AppImageUpdater,s}Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>s||l()}),e.DOWNLOAD_PROGRESS="download-progress",e.UPDATE_DOWNLOADED="update-downloaded";class f{constructor(h){this.emitter=h}login(h){u(this.emitter,"login",h)}progress(h){u(this.emitter,e.DOWNLOAD_PROGRESS,h)}updateDownloaded(h){u(this.emitter,e.UPDATE_DOWNLOADED,h)}updateCancelled(h){u(this.emitter,"update-cancelled",h)}}e.UpdaterSignal=f;function u(c,h,p){c.on(h,p)}}(Lc)),Lc}var ft=nc();process.env.DIST_ELECTRON=pi.join(__dirname,"..");process.env.DIST=pi.join(process.env.DIST_ELECTRON,"../dist");process.env.PUBLIC=process.env.VITE_DEV_SERVER_URL?pi.join(process.env.DIST_ELECTRON,"../public"):process.env.DIST;const SU=process.env.NODE_ENV!=="production",bU=pi.join(__dirname,"../preload/index.js"),TU=process.env.VITE_DEV_SERVER_URL,PU=pi.join(process.env.DIST,"index.html");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";le.protocol.registerSchemesAsPrivileged([{scheme:"app",privileges:{secure:!0,standard:!0}}]);const ic=new iv;iv.initRenderer();const ml=ic.get("configStore");let yl;typeof ml=="string"?yl=JSON.parse(ml):yl={beta:!1,minimized:!1};let ni;ft.autoUpdater.autoDownload=!1;ft.autoUpdater.allowDowngrade=!0;ft.autoUpdater.allowPrerelease=ft.autoUpdater.allowPrerelease||yl.beta;ft.autoUpdater.logger=gy;ft.autoUpdater.logger.transports.file.level="info";gy.info("App starting...");let tr=null,qm=null,J=null;const OU=null,AU=pi.join(process.env.PUBLIC,process.platform==="win32"?"bigicon.png":"icon-light.png"),NU=pi.join(process.env.PUBLIC,process.platform==="win32"?"bigicon.png":"icon.png"),CU=le.nativeImage.createFromPath(AU),Gd=le.nativeImage.createFromPath(NU);function Kd(e){J!=null&&J.webContents&&(J==null||J.webContents.send("linkHandler",e))}async function J0(){J=new le.BrowserWindow({height:720,width:940,minHeight:720,minWidth:940,frame:!1,transparent:!0,backgroundColor:"#00ffffff",icon:Gd,resizable:!0,webPreferences:{preload:bU,disableBlinkFeatures:"Auxclick",webSecurity:process.env.NODE_ENV!=="development",allowRunningInsecureContent:!1,nodeIntegration:!0,nodeIntegrationInWorker:!0,contextIsolation:!1},show:!yl.startminimize}),process.env.VITE_DEV_SERVER_URL?(J.loadURL(TU),J.webContents.openDevTools({mode:"detach"})):J.loadFile(PU),J.webContents.setWindowOpenHandler(({url:e})=>(e.startsWith("https:")&&le.shell.openExternal(e),{action:"deny"})),J==null||J.on("closed",()=>{J=null}),J==null||J.setMenu(null),J==null||J.on("minimize",e=>{e.preventDefault(),J==null||J.minimize(),process.platform==="darwin"&&le.app.dock.hide()}),(process.platform==="win32"||process.platform==="linux")&&Kd(process.argv.pop()),J==null||J.on("closed",()=>{J=null}),J==null||J.webContents.once("dom-ready",()=>{J==null||J.webContents.send("setAllowPrerelease",ft.autoUpdater.allowPrerelease)}),tr=new le.Tray(CU),qm=le.Menu.buildFromTemplate([{label:"Open WeakAuras Companion",click:()=>{J==null||J.show(),process.platform==="darwin"&&le.app.dock.show()}},{label:"Check for Companion Updates",click:()=>{ni&&ni.cancel(),ft.autoUpdater.checkForUpdates().then(e=>{J==null||J.webContents.send("updaterHandler","checkForUpdates",e),{cancellationToken:ni}=e})}},{label:"Open Developer Tools",click:()=>{J==null||J.webContents.openDevTools({mode:"detach"})}},{type:"separator"},{label:"Check for Aura Updates",click:()=>{J==null||J.webContents.send("refreshWago")}},{type:"separator"},{label:"Quit",click:()=>{le.app.quit()}}]),tr==null||tr.on("right-click",()=>tr==null?void 0:tr.popUpContextMenu(qm)),tr==null||tr.setIgnoreDoubleClickEvents(!0),tr==null||tr.on("click",()=>{J!=null&&J.isVisible()?(J==null||J.hide(),process.platform==="darwin"&&le.app.dock.hide()):(J==null||J.show(),process.platform==="darwin"&&le.app.dock.show())}),J==null||J.webContents.on("will-navigate",e=>{(J==null?void 0:J.webContents.getURL())!==OU&&e.preventDefault()}),G_.register(J,"Ctrl+Shift+I",()=>{J==null||J.webContents.openDevTools({mode:"detach"})})}le.app.requestSingleInstanceLock()?(le.app.on("second-instance",(e,t)=>{(process.platform==="win32"||process.platform==="linux")&&Kd(t.pop()),J&&(J!=null&&J.isVisible()||J==null||J.show(),J==null||J.focus())}),le.app.whenReady().then(()=>{J0(),process.platform==="darwin"&&le.app.dock.show(),process.env.NODE_ENV==="production"&&ft.autoUpdater.checkForUpdates().then(e=>{J==null||J.webContents.send("updaterHandler","checkForUpdates",e),{cancellationToken:ni}=e})})):le.app.quit();le.app.on("window-all-closed",()=>{process.platform!=="darwin"&&le.app.quit()});le.app.on("activate",()=>{J===null&&(J0(),process.platform==="darwin"&&le.app.dock.show())});le.app.setAppUserModelId("wtf.weakauras.companion");le.app.setAsDefaultProtocolClient("weakauras-companion");le.app.on("open-url",(e,t)=>{e.preventDefault(),Kd(t)});le.ipcMain.on("get-user-data-path",e=>{e.returnValue=le.app.getPath("userData")});le.ipcMain.handle("openDialog",(e,t)=>le.dialog.showOpenDialog(le.BrowserWindow.fromWebContents(e.sender),t));le.ipcMain.handle("open",()=>{J==null||J.show(),J==null||J.focus(),process.platform==="darwin"&&le.app.dock.show()});le.ipcMain.handle("minimize",()=>{J==null||J.hide(),process.platform==="darwin"&&le.app.dock.hide()});le.ipcMain.handle("close",()=>{le.app.quit()});le.ipcMain.handle("installUpdates",()=>{ft.autoUpdater.quitAndInstall()});le.ipcMain.handle("autoStart",(e,t)=>{le.app.setLoginItemSettings({openAtLogin:t})});let Vm="";le.ipcMain.handle("postFetchingNewUpdateNotification",(e,t)=>{const r=t.join(`
`);if(r===""||r===Vm)return;const n=new le.Notification({title:"New update ready to install",body:r,icon:Gd});n.on("click",()=>{J==null||J.show(),J==null||J.focus()}),n.show(),Vm=r});le.ipcMain.handle("checkUpdates",(e,t)=>{ni&&ni.cancel(),ft.autoUpdater.allowPrerelease=t===!0,ft.autoUpdater.checkForUpdates().then(r=>{J==null||J.webContents.send("updaterHandler","checkForUpdates",r),{cancellationToken:ni}=r})});le.ipcMain.handle("getStore",(e,t)=>ic.get(t));le.ipcMain.handle("setStore",(e,t,r)=>ic.set(t,r));le.ipcMain.handle("deleteStore",(e,t)=>ic.delete(t));le.ipcMain.handle("getLang",()=>{if(typeof ml=="string")return JSON.parse(ml).lang});ft.autoUpdater.on("checking-for-update",()=>{J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","checking-for-update"))});ft.autoUpdater.on("update-available",e=>{J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","update-available",e)),ku||(new le.Notification({title:"A new update is available",body:`WeakAuras Companion ${e.version} is available for download.`,icon:Gd}).show(),ku=!0)});ft.autoUpdater.on("update-not-available",()=>{J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","update-not-available"))});ft.autoUpdater.on("error",e=>{J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","error",e),J==null||J.setProgressBar(-1))});ft.autoUpdater.on("download-progress",e=>{J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","download-progress",e),J==null||J.setProgressBar(e.percent/100))});let ku=!1;ft.autoUpdater.on("update-downloaded",e=>{ku||J!=null&&J.webContents&&(J==null||J.webContents.send("updaterHandler","update-downloaded"),J==null||J.setProgressBar(-1))});SU&&(process.platform==="win32"?process.on("message",e=>{e==="graceful-exit"&&le.app.quit()}):process.on("SIGTERM",()=>{le.app.quit()}));
